(self["webpackChunkinvoice_maker"]=self["webpackChunkinvoice_maker"]||[]).push([[998],{9662:function(t,e,n){var i=n(7854),s=n(614),r=n(6330),o=i.TypeError;t.exports=function(t){if(s(t))return t;throw o(r(t)+" is not a function")}},6077:function(t,e,n){var i=n(7854),s=n(614),r=i.String,o=i.TypeError;t.exports=function(t){if("object"==typeof t||s(t))return t;throw o("Can't set "+r(t)+" as a prototype")}},1223:function(t,e,n){var i=n(5112),s=n(30),r=n(3070),o=i("unscopables"),a=Array.prototype;void 0==a[o]&&r.f(a,o,{configurable:!0,value:s(null)}),t.exports=function(t){a[o][t]=!0}},5787:function(t,e,n){var i=n(7854),s=n(7976),r=i.TypeError;t.exports=function(t,e){if(s(e,t))return t;throw r("Incorrect invocation")}},9670:function(t,e,n){var i=n(7854),s=n(111),r=i.String,o=i.TypeError;t.exports=function(t){if(s(t))return t;throw o(r(t)+" is not an object")}},4019:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(t,e,n){"use strict";var i,s,r,o=n(4019),a=n(9781),c=n(7854),l=n(614),u=n(111),h=n(2597),d=n(648),f=n(6330),p=n(8880),m=n(1320),g=n(3070).f,y=n(7976),w=n(9518),v=n(7674),b=n(5112),_=n(9711),E=c.Int8Array,T=E&&E.prototype,I=c.Uint8ClampedArray,A=I&&I.prototype,S=E&&w(E),x=T&&w(T),C=Object.prototype,k=c.TypeError,D=b("toStringTag"),N=_("TYPED_ARRAY_TAG"),O=_("TYPED_ARRAY_CONSTRUCTOR"),L=o&&!!v&&"Opera"!==d(c.opera),P=!1,R={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},M={BigInt64Array:8,BigUint64Array:8},F=function(t){if(!u(t))return!1;var e=d(t);return"DataView"===e||h(R,e)||h(M,e)},B=function(t){if(!u(t))return!1;var e=d(t);return h(R,e)||h(M,e)},V=function(t){if(B(t))return t;throw k("Target is not a typed array")},j=function(t){if(l(t)&&(!v||y(S,t)))return t;throw k(f(t)+" is not a typed array constructor")},$=function(t,e,n,i){if(a){if(n)for(var s in R){var r=c[s];if(r&&h(r.prototype,t))try{delete r.prototype[t]}catch(o){try{r.prototype[t]=e}catch(l){}}}x[t]&&!n||m(x,t,n?e:L&&T[t]||e,i)}},U=function(t,e,n){var i,s;if(a){if(v){if(n)for(i in R)if(s=c[i],s&&h(s,t))try{delete s[t]}catch(r){}if(S[t]&&!n)return;try{return m(S,t,n?e:L&&S[t]||e)}catch(r){}}for(i in R)s=c[i],!s||s[t]&&!n||m(s,t,e)}};for(i in R)s=c[i],r=s&&s.prototype,r?p(r,O,s):L=!1;for(i in M)s=c[i],r=s&&s.prototype,r&&p(r,O,s);if((!L||!l(S)||S===Function.prototype)&&(S=function(){throw k("Incorrect invocation")},L))for(i in R)c[i]&&v(c[i],S);if((!L||!x||x===C)&&(x=S.prototype,L))for(i in R)c[i]&&v(c[i].prototype,x);if(L&&w(A)!==x&&v(A,x),a&&!h(x,D))for(i in P=!0,g(x,D,{get:function(){return u(this)?this[N]:void 0}}),R)c[i]&&p(c[i],N,i);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:L,TYPED_ARRAY_CONSTRUCTOR:O,TYPED_ARRAY_TAG:P&&N,aTypedArray:V,aTypedArrayConstructor:j,exportTypedArrayMethod:$,exportTypedArrayStaticMethod:U,isView:F,isTypedArray:B,TypedArray:S,TypedArrayPrototype:x}},1318:function(t,e,n){var i=n(5656),s=n(1400),r=n(6244),o=function(t){return function(e,n,o){var a,c=i(e),l=r(c),u=s(o,l);if(t&&n!=n){while(l>u)if(a=c[u++],a!=a)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},4326:function(t,e,n){var i=n(1702),s=i({}.toString),r=i("".slice);t.exports=function(t){return r(s(t),8,-1)}},648:function(t,e,n){var i=n(7854),s=n(1694),r=n(614),o=n(4326),a=n(5112),c=a("toStringTag"),l=i.Object,u="Arguments"==o(function(){return arguments}()),h=function(t,e){try{return t[e]}catch(n){}};t.exports=s?o:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=h(e=l(t),c))?n:u?o(e):"Object"==(i=o(e))&&r(e.callee)?"Arguments":i}},7741:function(t,e,n){var i=n(1702),s=i("".replace),r=function(t){return String(Error(t).stack)}("zxcasd"),o=/\n\s*at [^:]*:[^\n]*/,a=o.test(r);t.exports=function(t,e){if(a&&"string"==typeof t)while(e--)t=s(t,o,"");return t}},9920:function(t,e,n){var i=n(2597),s=n(3887),r=n(1236),o=n(3070);t.exports=function(t,e,n){for(var a=s(e),c=o.f,l=r.f,u=0;u<a.length;u++){var h=a[u];i(t,h)||n&&i(n,h)||c(t,h,l(e,h))}}},8544:function(t,e,n){var i=n(7293);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},8880:function(t,e,n){var i=n(9781),s=n(3070),r=n(9114);t.exports=i?function(t,e,n){return s.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},9781:function(t,e,n){var i=n(7293);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(t,e,n){var i=n(7854),s=n(111),r=i.document,o=s(r)&&s(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},3678:function(t){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8113:function(t,e,n){var i=n(5005);t.exports=i("navigator","userAgent")||""},7392:function(t,e,n){var i,s,r=n(7854),o=n(8113),a=r.process,c=r.Deno,l=a&&a.versions||c&&c.version,u=l&&l.v8;u&&(i=u.split("."),s=i[0]>0&&i[0]<4?1:+(i[0]+i[1])),!s&&o&&(i=o.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/),i&&(s=+i[1]))),t.exports=s},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2914:function(t,e,n){var i=n(7293),s=n(9114);t.exports=!i((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",s(1,7)),7!==t.stack)}))},2109:function(t,e,n){var i=n(7854),s=n(1236).f,r=n(8880),o=n(1320),a=n(3505),c=n(9920),l=n(4705);t.exports=function(t,e){var n,u,h,d,f,p,m=t.target,g=t.global,y=t.stat;if(u=g?i:y?i[m]||a(m,{}):(i[m]||{}).prototype,u)for(h in e){if(f=e[h],t.noTargetGet?(p=s(u,h),d=p&&p.value):d=u[h],n=l(g?h:m+(y?".":"#")+h,t.forced),!n&&void 0!==d){if(typeof f==typeof d)continue;c(f,d)}(t.sham||d&&d.sham)&&r(f,"sham",!0),o(u,h,f,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},2104:function(t,e,n){var i=n(4374),s=Function.prototype,r=s.apply,o=s.call;t.exports="object"==typeof Reflect&&Reflect.apply||(i?o.bind(r):function(){return o.apply(r,arguments)})},4374:function(t,e,n){var i=n(7293);t.exports=!i((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:function(t,e,n){var i=n(4374),s=Function.prototype.call;t.exports=i?s.bind(s):function(){return s.apply(s,arguments)}},6530:function(t,e,n){var i=n(9781),s=n(2597),r=Function.prototype,o=i&&Object.getOwnPropertyDescriptor,a=s(r,"name"),c=a&&"something"===function(){}.name,l=a&&(!i||i&&o(r,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:l}},1702:function(t,e,n){var i=n(4374),s=Function.prototype,r=s.bind,o=s.call,a=i&&r.bind(o,o);t.exports=i?function(t){return t&&a(t)}:function(t){return t&&function(){return o.apply(t,arguments)}}},5005:function(t,e,n){var i=n(7854),s=n(614),r=function(t){return s(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?r(i[t]):i[t]&&i[t][e]}},8173:function(t,e,n){var i=n(9662);t.exports=function(t,e){var n=t[e];return null==n?void 0:i(n)}},7854:function(t,e,n){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(t,e,n){var i=n(1702),s=n(7908),r=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return r(s(t),e)}},3501:function(t){t.exports={}},490:function(t,e,n){var i=n(5005);t.exports=i("document","documentElement")},4664:function(t,e,n){var i=n(9781),s=n(7293),r=n(317);t.exports=!i&&!s((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,n){var i=n(7854),s=n(1702),r=n(7293),o=n(4326),a=i.Object,c=s("".split);t.exports=r((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?c(t,""):a(t)}:a},9587:function(t,e,n){var i=n(614),s=n(111),r=n(7674);t.exports=function(t,e,n){var o,a;return r&&i(o=e.constructor)&&o!==n&&s(a=o.prototype)&&a!==n.prototype&&r(t,a),t}},2788:function(t,e,n){var i=n(1702),s=n(614),r=n(5465),o=i(Function.toString);s(r.inspectSource)||(r.inspectSource=function(t){return o(t)}),t.exports=r.inspectSource},8340:function(t,e,n){var i=n(111),s=n(8880);t.exports=function(t,e){i(e)&&"cause"in e&&s(t,"cause",e.cause)}},9909:function(t,e,n){var i,s,r,o=n(8536),a=n(7854),c=n(1702),l=n(111),u=n(8880),h=n(2597),d=n(5465),f=n(6200),p=n(3501),m="Object already initialized",g=a.TypeError,y=a.WeakMap,w=function(t){return r(t)?s(t):i(t,{})},v=function(t){return function(e){var n;if(!l(e)||(n=s(e)).type!==t)throw g("Incompatible receiver, "+t+" required");return n}};if(o||d.state){var b=d.state||(d.state=new y),_=c(b.get),E=c(b.has),T=c(b.set);i=function(t,e){if(E(b,t))throw new g(m);return e.facade=t,T(b,t,e),e},s=function(t){return _(b,t)||{}},r=function(t){return E(b,t)}}else{var I=f("state");p[I]=!0,i=function(t,e){if(h(t,I))throw new g(m);return e.facade=t,u(t,I,e),e},s=function(t){return h(t,I)?t[I]:{}},r=function(t){return h(t,I)}}t.exports={set:i,get:s,has:r,enforce:w,getterFor:v}},614:function(t){t.exports=function(t){return"function"==typeof t}},4705:function(t,e,n){var i=n(7293),s=n(614),r=/#|\.prototype\./,o=function(t,e){var n=c[a(t)];return n==u||n!=l&&(s(e)?i(e):!!e)},a=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},c=o.data={},l=o.NATIVE="N",u=o.POLYFILL="P";t.exports=o},111:function(t,e,n){var i=n(614);t.exports=function(t){return"object"==typeof t?null!==t:i(t)}},1913:function(t){t.exports=!1},2190:function(t,e,n){var i=n(7854),s=n(5005),r=n(614),o=n(7976),a=n(3307),c=i.Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=s("Symbol");return r(e)&&o(e.prototype,c(t))}},6244:function(t,e,n){var i=n(7466);t.exports=function(t){return i(t.length)}},133:function(t,e,n){var i=n(7392),s=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!s((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},8536:function(t,e,n){var i=n(7854),s=n(614),r=n(2788),o=i.WeakMap;t.exports=s(o)&&/native code/.test(r(o))},6277:function(t,e,n){var i=n(1340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:i(t)}},30:function(t,e,n){var i,s=n(9670),r=n(6048),o=n(748),a=n(3501),c=n(490),l=n(317),u=n(6200),h=">",d="<",f="prototype",p="script",m=u("IE_PROTO"),g=function(){},y=function(t){return d+p+h+t+d+"/"+p+h},w=function(t){t.write(y("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){var t,e=l("iframe"),n="java"+p+":";return e.style.display="none",c.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(y("document.F=Object")),t.close(),t.F},b=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}b="undefined"!=typeof document?document.domain&&i?w(i):v():w(i);var t=o.length;while(t--)delete b[f][o[t]];return b()};a[m]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(g[f]=s(t),n=new g,g[f]=null,n[m]=t):n=b(),void 0===e?n:r.f(n,e)}},6048:function(t,e,n){var i=n(9781),s=n(3353),r=n(3070),o=n(9670),a=n(5656),c=n(1956);e.f=i&&!s?Object.defineProperties:function(t,e){o(t);var n,i=a(e),s=c(e),l=s.length,u=0;while(l>u)r.f(t,n=s[u++],i[n]);return t}},3070:function(t,e,n){var i=n(7854),s=n(9781),r=n(4664),o=n(3353),a=n(9670),c=n(4948),l=i.TypeError,u=Object.defineProperty,h=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";e.f=s?o?function(t,e,n){if(a(t),e=c(e),a(n),"function"===typeof t&&"prototype"===e&&"value"in n&&p in n&&!n[p]){var i=h(t,e);i&&i[p]&&(t[e]=n.value,n={configurable:f in n?n[f]:i[f],enumerable:d in n?n[d]:i[d],writable:!1})}return u(t,e,n)}:u:function(t,e,n){if(a(t),e=c(e),a(n),r)try{return u(t,e,n)}catch(i){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var i=n(9781),s=n(6916),r=n(5296),o=n(9114),a=n(5656),c=n(4948),l=n(2597),u=n(4664),h=Object.getOwnPropertyDescriptor;e.f=i?h:function(t,e){if(t=a(t),e=c(e),u)try{return h(t,e)}catch(n){}if(l(t,e))return o(!s(r.f,t,e),t[e])}},8006:function(t,e,n){var i=n(6324),s=n(748),r=s.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,n){var i=n(7854),s=n(2597),r=n(614),o=n(7908),a=n(6200),c=n(8544),l=a("IE_PROTO"),u=i.Object,h=u.prototype;t.exports=c?u.getPrototypeOf:function(t){var e=o(t);if(s(e,l))return e[l];var n=e.constructor;return r(n)&&e instanceof n?n.prototype:e instanceof u?h:null}},7976:function(t,e,n){var i=n(1702);t.exports=i({}.isPrototypeOf)},6324:function(t,e,n){var i=n(1702),s=n(2597),r=n(5656),o=n(1318).indexOf,a=n(3501),c=i([].push);t.exports=function(t,e){var n,i=r(t),l=0,u=[];for(n in i)!s(a,n)&&s(i,n)&&c(u,n);while(e.length>l)s(i,n=e[l++])&&(~o(u,n)||c(u,n));return u}},1956:function(t,e,n){var i=n(6324),s=n(748);t.exports=Object.keys||function(t){return i(t,s)}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,s=i&&!n.call({1:2},1);e.f=s?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},7674:function(t,e,n){var i=n(1702),s=n(9670),r=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(n,[]),e=n instanceof Array}catch(o){}return function(n,i){return s(n),r(i),e?t(n,i):n.__proto__=i,n}}():void 0)},2140:function(t,e,n){var i=n(7854),s=n(6916),r=n(614),o=n(111),a=i.TypeError;t.exports=function(t,e){var n,i;if("string"===e&&r(n=t.toString)&&!o(i=s(n,t)))return i;if(r(n=t.valueOf)&&!o(i=s(n,t)))return i;if("string"!==e&&r(n=t.toString)&&!o(i=s(n,t)))return i;throw a("Can't convert object to primitive value")}},3887:function(t,e,n){var i=n(5005),s=n(1702),r=n(8006),o=n(5181),a=n(9670),c=s([].concat);t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(a(t)),n=o.f;return n?c(e,n(t)):e}},1320:function(t,e,n){var i=n(7854),s=n(614),r=n(2597),o=n(8880),a=n(3505),c=n(2788),l=n(9909),u=n(6530).CONFIGURABLE,h=l.get,d=l.enforce,f=String(String).split("String");(t.exports=function(t,e,n,c){var l,h=!!c&&!!c.unsafe,p=!!c&&!!c.enumerable,m=!!c&&!!c.noTargetGet,g=c&&void 0!==c.name?c.name:e;s(n)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!r(n,"name")||u&&n.name!==g)&&o(n,"name",g),l=d(n),l.source||(l.source=f.join("string"==typeof g?g:""))),t!==i?(h?!m&&t[e]&&(p=!0):delete t[e],p?t[e]=n:o(t,e,n)):p?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return s(this)&&h(this).source||c(this)}))},4488:function(t,e,n){var i=n(7854),s=i.TypeError;t.exports=function(t){if(void 0==t)throw s("Can't call method on "+t);return t}},3505:function(t,e,n){var i=n(7854),s=Object.defineProperty;t.exports=function(t,e){try{s(i,t,{value:e,configurable:!0,writable:!0})}catch(n){i[t]=e}return e}},6200:function(t,e,n){var i=n(2309),s=n(9711),r=i("keys");t.exports=function(t){return r[t]||(r[t]=s(t))}},5465:function(t,e,n){var i=n(7854),s=n(3505),r="__core-js_shared__",o=i[r]||s(r,{});t.exports=o},2309:function(t,e,n){var i=n(1913),s=n(5465);(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.1",mode:i?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},1400:function(t,e,n){var i=n(9303),s=Math.max,r=Math.min;t.exports=function(t,e){var n=i(t);return n<0?s(n+e,0):r(n,e)}},5656:function(t,e,n){var i=n(8361),s=n(4488);t.exports=function(t){return i(s(t))}},9303:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){var i=+t;return i!==i||0===i?0:(i>0?n:e)(i)}},7466:function(t,e,n){var i=n(9303),s=Math.min;t.exports=function(t){return t>0?s(i(t),9007199254740991):0}},7908:function(t,e,n){var i=n(7854),s=n(4488),r=i.Object;t.exports=function(t){return r(s(t))}},4590:function(t,e,n){var i=n(7854),s=n(3002),r=i.RangeError;t.exports=function(t,e){var n=s(t);if(n%e)throw r("Wrong offset");return n}},3002:function(t,e,n){var i=n(7854),s=n(9303),r=i.RangeError;t.exports=function(t){var e=s(t);if(e<0)throw r("The argument can't be less than 0");return e}},7593:function(t,e,n){var i=n(7854),s=n(6916),r=n(111),o=n(2190),a=n(8173),c=n(2140),l=n(5112),u=i.TypeError,h=l("toPrimitive");t.exports=function(t,e){if(!r(t)||o(t))return t;var n,i=a(t,h);if(i){if(void 0===e&&(e="default"),n=s(i,t,e),!r(n)||o(n))return n;throw u("Can't convert object to primitive value")}return void 0===e&&(e="number"),c(t,e)}},4948:function(t,e,n){var i=n(7593),s=n(2190);t.exports=function(t){var e=i(t,"string");return s(e)?e:e+""}},1694:function(t,e,n){var i=n(5112),s=i("toStringTag"),r={};r[s]="z",t.exports="[object z]"===String(r)},1340:function(t,e,n){var i=n(7854),s=n(648),r=i.String;t.exports=function(t){if("Symbol"===s(t))throw TypeError("Cannot convert a Symbol value to a string");return r(t)}},6330:function(t,e,n){var i=n(7854),s=i.String;t.exports=function(t){try{return s(t)}catch(e){return"Object"}}},9711:function(t,e,n){var i=n(1702),s=0,r=Math.random(),o=i(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++s+r,36)}},3307:function(t,e,n){var i=n(133);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,n){var i=n(9781),s=n(7293);t.exports=i&&s((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5112:function(t,e,n){var i=n(7854),s=n(2309),r=n(2597),o=n(9711),a=n(133),c=n(3307),l=s("wks"),u=i.Symbol,h=u&&u["for"],d=c?u:u&&u.withoutSetter||o;t.exports=function(t){if(!r(l,t)||!a&&"string"!=typeof l[t]){var e="Symbol."+t;a&&r(u,t)?l[t]=u[t]:l[t]=c&&h?h(e):d(e)}return l[t]}},9191:function(t,e,n){"use strict";var i=n(5005),s=n(2597),r=n(8880),o=n(7976),a=n(7674),c=n(9920),l=n(9587),u=n(6277),h=n(8340),d=n(7741),f=n(2914),p=n(1913);t.exports=function(t,e,n,m){var g=m?2:1,y=t.split("."),w=y[y.length-1],v=i.apply(null,y);if(v){var b=v.prototype;if(!p&&s(b,"cause")&&delete b.cause,!n)return v;var _=i("Error"),E=e((function(t,e){var n=u(m?e:t,void 0),i=m?new v(t):new v;return void 0!==n&&r(i,"message",n),f&&r(i,"stack",d(i.stack,2)),this&&o(b,this)&&l(i,this,E),arguments.length>g&&h(i,arguments[g]),i}));if(E.prototype=b,"Error"!==w&&(a?a(E,_):c(E,_,{name:!0})),c(E,v),!p)try{b.name!==w&&r(b,"name",w),b.constructor=E}catch(T){}return E}}},2262:function(t,e,n){"use strict";var i=n(2109),s=n(7908),r=n(6244),o=n(9303),a=n(1223);i({target:"Array",proto:!0},{at:function(t){var e=s(this),n=r(e),i=o(t),a=i>=0?i:n+i;return a<0||a>=n?void 0:e[a]}}),a("at")},1703:function(t,e,n){var i=n(2109),s=n(7854),r=n(2104),o=n(9191),a="WebAssembly",c=s[a],l=7!==Error("e",{cause:7}).cause,u=function(t,e){var n={};n[t]=o(t,e,l),i({global:!0,forced:l},n)},h=function(t,e){if(c&&c[t]){var n={};n[t]=o(a+"."+t,e,l),i({target:a,stat:!0,forced:l},n)}};u("Error",(function(t){return function(e){return r(t,this,arguments)}})),u("EvalError",(function(t){return function(e){return r(t,this,arguments)}})),u("RangeError",(function(t){return function(e){return r(t,this,arguments)}})),u("ReferenceError",(function(t){return function(e){return r(t,this,arguments)}})),u("SyntaxError",(function(t){return function(e){return r(t,this,arguments)}})),u("TypeError",(function(t){return function(e){return r(t,this,arguments)}})),u("URIError",(function(t){return function(e){return r(t,this,arguments)}})),h("CompileError",(function(t){return function(e){return r(t,this,arguments)}})),h("LinkError",(function(t){return function(e){return r(t,this,arguments)}})),h("RuntimeError",(function(t){return function(e){return r(t,this,arguments)}}))},4506:function(t,e,n){"use strict";var i=n(2109),s=n(1702),r=n(4488),o=n(9303),a=n(1340),c=n(7293),l=s("".charAt),u=c((function(){return"\ud842"!=="𠮷".at(-2)}));i({target:"String",proto:!0,forced:u},{at:function(t){var e=a(r(this)),n=e.length,i=o(t),s=i>=0?i:n+i;return s<0||s>=n?void 0:l(e,s)}})},8675:function(t,e,n){"use strict";var i=n(260),s=n(6244),r=n(9303),o=i.aTypedArray,a=i.exportTypedArrayMethod;a("at",(function(t){var e=o(this),n=s(e),i=r(t),a=i>=0?i:n+i;return a<0||a>=n?void 0:e[a]}))},3462:function(t,e,n){"use strict";var i=n(7854),s=n(6916),r=n(260),o=n(6244),a=n(4590),c=n(7908),l=n(7293),u=i.RangeError,h=i.Int8Array,d=h&&h.prototype,f=d&&d.set,p=r.aTypedArray,m=r.exportTypedArrayMethod,g=!l((function(){var t=new Uint8ClampedArray(2);return s(f,t,{length:1,0:3},1),3!==t[1]})),y=g&&r.NATIVE_ARRAY_BUFFER_VIEWS&&l((function(){var t=new h(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));m("set",(function(t){p(this);var e=a(arguments.length>1?arguments[1]:void 0,1),n=c(t);if(g)return s(f,this,n,e);var i=this.length,r=o(n),l=0;if(r+e>i)throw u("Wrong length");while(l<r)this[e+l]=n[l++]}),!g||y)},2801:function(t,e,n){"use strict";var i=n(2109),s=n(5005),r=n(9114),o=n(3070).f,a=n(2597),c=n(5787),l=n(9587),u=n(6277),h=n(3678),d=n(7741),f=n(1913),p="DOMException",m=s("Error"),g=s(p),y=function(){c(this,w);var t=arguments.length,e=u(t<1?void 0:arguments[0]),n=u(t<2?void 0:arguments[1],"Error"),i=new g(e,n),s=m(e);return s.name=p,o(i,"stack",r(1,d(s.stack,1))),l(i,this,y),i},w=y.prototype=g.prototype,v="stack"in m(p),b="stack"in new g(1,2),_=v&&!b;i({global:!0,forced:f||_},{DOMException:_?y:g});var E=s(p),T=E.prototype;if(T.constructor!==E)for(var I in f||o(T,"constructor",r(1,E)),h)if(a(h,I)){var A=h[I],S=A.s;a(E,S)||o(E,S,r(6,A.c))}},223:function(t,e,n){"use strict";n.d(e,{BH:function(){return u},G6:function(){return _},L:function(){return a},LL:function(){return S},Mn:function(){return b},Sg:function(){return h},X3:function(){return U},ZB:function(){return c},ZR:function(){return A},b$:function(){return y},d:function(){return w},eu:function(){return T},hl:function(){return E},jU:function(){return m},m9:function(){return M},ne:function(){return O},r3:function(){return k},ru:function(){return g},uI:function(){return f},vZ:function(){return D},w1:function(){return v},z$:function(){return d}});n(1703),n(2801);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const i=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=63&s|128):55296===(64512&s)&&i+1<t.length&&56320===(64512&t.charCodeAt(i+1))?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++i)),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=63&s|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=63&s|128)}return e},s=function(t){const e=[];let n=0,i=0;while(n<t.length){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((31&s)<<6|63&r)}else if(s>239&&s<365){const r=t[n++],o=t[n++],a=t[n++],c=((7&s)<<18|(63&r)<<12|(63&o)<<6|63&a)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(1023&c))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&s)<<12|(63&r)<<6|63&o)}}return e.join("")},r={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const e=t[s],r=s+1<t.length,o=r?t[s+1]:0,a=s+2<t.length,c=a?t[s+2]:0,l=e>>2,u=(3&e)<<4|o>>4;let h=(15&o)<<2|c>>6,d=63&c;a||(d=64,r||(h=64)),i.push(n[l],n[u],n[h],n[d])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):s(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const e=n[t.charAt(s++)],r=s<t.length,o=r?n[t.charAt(s)]:0;++s;const a=s<t.length,c=a?n[t.charAt(s)]:64;++s;const l=s<t.length,u=l?n[t.charAt(s)]:64;if(++s,null==e||null==o||null==c||null==u)throw Error();const h=e<<2|o>>4;if(i.push(h),64!==c){const t=o<<4&240|c>>2;if(i.push(t),64!==u){const t=c<<6&192|u;i.push(t)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},o=function(t){const e=i(t);return r.encodeByteArray(e,!0)},a=function(t){return o(t).replace(/\./g,"")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)e.hasOwnProperty(n)&&l(n)&&(t[n]=c(t[n],e[n]));return t}function l(t){return"__proto__"!==t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[a(JSON.stringify(n)),a(JSON.stringify(o)),c].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function f(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function p(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}function m(){return"object"===typeof self&&self.self===self}function g(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function y(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function w(){return d().indexOf("Electron/")>=0}function v(){const t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function b(){return d().indexOf("MSAppHost/")>=0}function _(){return!p()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E(){return"object"===typeof indexedDB}function T(){return new Promise(((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var t;e((null===(t=s.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const I="FirebaseError";class A extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=I,Object.setPrototypeOf(this,A.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S.prototype.create)}}class S{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},i=`${this.service}/${t}`,s=this.errors[t],r=s?x(s,n):"Error",o=`${this.serviceName}: ${r} (${i}).`,a=new A(i,o,n);return a}}function x(t,e){return t.replace(C,((t,n)=>{const i=e[n];return null!=i?String(i):`<${n}?>`}))}const C=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function D(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const n=t[s],r=e[s];if(N(n)&&N(r)){if(!D(n,r))return!1}else if(n!==r)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function N(t){return null!==t&&"object"===typeof t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(t,e){const n=new L(t,e);return n.subscribe.bind(n)}class L{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let i;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");i=P(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===i.next&&(i.next=R),void 0===i.error&&(i.error=R),void 0===i.complete&&(i.complete=R);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(t){}})),this.observers.push(i),s}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function P(t,e){if("object"!==typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"===typeof t[n])return!0;return!1}function R(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function M(t){return t&&t._delegate?t._delegate:t}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F(t,e){return new Promise(((n,i)=>{t.onsuccess=t=>{n(t.target.result)},t.onerror=t=>{var n;i(`${e}: ${null===(n=t.target.error)||void 0===n?void 0:n.message}`)}}))}class B{constructor(t){this._db=t,this.objectStoreNames=this._db.objectStoreNames}transaction(t,e){return new V(this._db.transaction.call(this._db,t,e))}createObjectStore(t,e){return new j(this._db.createObjectStore(t,e))}close(){this._db.close()}}class V{constructor(t){this._transaction=t,this.complete=new Promise(((t,e)=>{this._transaction.oncomplete=function(){t()},this._transaction.onerror=()=>{e(this._transaction.error)},this._transaction.onabort=()=>{e(this._transaction.error)}}))}objectStore(t){return new j(this._transaction.objectStore(t))}}class j{constructor(t){this._store=t}index(t){return new $(this._store.index(t))}createIndex(t,e,n){return new $(this._store.createIndex(t,e,n))}get(t){const e=this._store.get(t);return F(e,"Error reading from IndexedDB")}put(t,e){const n=this._store.put(t,e);return F(n,"Error writing to IndexedDB")}delete(t){const e=this._store.delete(t);return F(e,"Error deleting from IndexedDB")}clear(){const t=this._store.clear();return F(t,"Error clearing IndexedDB object store")}}class ${constructor(t){this._index=t}get(t){const e=this._index.get(t);return F(e,"Error reading from IndexedDB")}}function U(t,e,n){return new Promise(((i,s)=>{try{const r=indexedDB.open(t,e);r.onsuccess=t=>{i(new B(t.target.result))},r.onerror=t=>{var e;s(`Error opening indexedDB: ${null===(e=t.target.error)||void 0===e?void 0:e.message}`)},r.onupgradeneeded=t=>{n(new B(r.result),t.oldVersion,t.newVersion,new V(r.transaction))}}catch(r){s(`Error opening indexedDB: ${r.message}`)}}))}},4870:function(t,e,n){"use strict";n.d(e,{Bj:function(){return r},Fl:function(){return Bt},IU:function(){return xt},Jd:function(){return T},PG:function(){return Tt},Um:function(){return bt},WL:function(){return Mt},X$:function(){return x},X3:function(){return St},Xl:function(){return Ct},dq:function(){return Lt},j:function(){return A},lk:function(){return I},qj:function(){return vt},qq:function(){return v},yT:function(){return At}});var i=n(7139);let s;class r{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&s&&(this.parent=s,this.index=(s.scopes||(s.scopes=[])).push(this)-1)}run(t){if(this.active)try{return s=this,t()}finally{s=this.parent}else 0}on(){s=this}off(){s=this.parent}stop(t){if(this.active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.active=!1}}}function o(t,e=s){e&&e.active&&e.effects.push(t)}const a=t=>{const e=new Set(t);return e.w=0,e.n=0,e},c=t=>(t.w&p)>0,l=t=>(t.n&p)>0,u=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=p},h=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const s=e[i];c(s)&&!l(s)?s.delete(t):e[n++]=s,s.w&=~p,s.n&=~p}e.length=n}},d=new WeakMap;let f=0,p=1;const m=30;let g;const y=Symbol(""),w=Symbol("");class v{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,o(this,n)}run(){if(!this.active)return this.fn();let t=g,e=_;while(t){if(t===this)return;t=t.parent}try{return this.parent=g,g=this,_=!0,p=1<<++f,f<=m?u(this):b(this),this.fn()}finally{f<=m&&h(this),p=1<<--f,g=this.parent,_=e,this.parent=void 0}}stop(){this.active&&(b(this),this.onStop&&this.onStop(),this.active=!1)}}function b(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let _=!0;const E=[];function T(){E.push(_),_=!1}function I(){const t=E.pop();_=void 0===t||t}function A(t,e,n){if(_&&g){let e=d.get(t);e||d.set(t,e=new Map);let i=e.get(n);i||e.set(n,i=a());const s=void 0;S(i,s)}}function S(t,e){let n=!1;f<=m?l(t)||(t.n|=p,n=!c(t)):n=!t.has(g),n&&(t.add(g),g.deps.push(t))}function x(t,e,n,s,r,o){const c=d.get(t);if(!c)return;let l=[];if("clear"===e)l=[...c.values()];else if("length"===n&&(0,i.kJ)(t))c.forEach(((t,e)=>{("length"===e||e>=s)&&l.push(t)}));else switch(void 0!==n&&l.push(c.get(n)),e){case"add":(0,i.kJ)(t)?(0,i.S0)(n)&&l.push(c.get("length")):(l.push(c.get(y)),(0,i._N)(t)&&l.push(c.get(w)));break;case"delete":(0,i.kJ)(t)||(l.push(c.get(y)),(0,i._N)(t)&&l.push(c.get(w)));break;case"set":(0,i._N)(t)&&l.push(c.get(y));break}if(1===l.length)l[0]&&C(l[0]);else{const t=[];for(const e of l)e&&t.push(...e);C(a(t))}}function C(t,e){for(const n of(0,i.kJ)(t)?t:[...t])(n!==g||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const k=(0,i.fY)("__proto__,__v_isRef,__isVue"),D=new Set(Object.getOwnPropertyNames(Symbol).map((t=>Symbol[t])).filter(i.yk)),N=M(),O=M(!1,!0),L=M(!0),P=R();function R(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=xt(this);for(let e=0,s=this.length;e<s;e++)A(n,"get",e+"");const i=n[e](...t);return-1===i||!1===i?n[e](...t.map(xt)):i}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){T();const n=xt(this)[e].apply(this,t);return I(),n}})),t}function M(t=!1,e=!1){return function(n,s,r){if("__v_isReactive"===s)return!t;if("__v_isReadonly"===s)return t;if("__v_isShallow"===s)return e;if("__v_raw"===s&&r===(t?e?gt:mt:e?pt:ft).get(n))return n;const o=(0,i.kJ)(n);if(!t&&o&&(0,i.RI)(P,s))return Reflect.get(P,s,r);const a=Reflect.get(n,s,r);if((0,i.yk)(s)?D.has(s):k(s))return a;if(t||A(n,"get",s),e)return a;if(Lt(a)){const t=!o||!(0,i.S0)(s);return t?a.value:a}return(0,i.Kn)(a)?t?_t(a):vt(a):a}}const F=V(),B=V(!0);function V(t=!1){return function(e,n,s,r){let o=e[n];if(It(o)&&Lt(o)&&!Lt(s))return!1;if(!t&&!It(s)&&(At(s)||(s=xt(s),o=xt(o)),!(0,i.kJ)(e)&&Lt(o)&&!Lt(s)))return o.value=s,!0;const a=(0,i.kJ)(e)&&(0,i.S0)(n)?Number(n)<e.length:(0,i.RI)(e,n),c=Reflect.set(e,n,s,r);return e===xt(r)&&(a?(0,i.aU)(s,o)&&x(e,"set",n,s,o):x(e,"add",n,s)),c}}function j(t,e){const n=(0,i.RI)(t,e),s=t[e],r=Reflect.deleteProperty(t,e);return r&&n&&x(t,"delete",e,void 0,s),r}function $(t,e){const n=Reflect.has(t,e);return(0,i.yk)(e)&&D.has(e)||A(t,"has",e),n}function U(t){return A(t,"iterate",(0,i.kJ)(t)?"length":y),Reflect.ownKeys(t)}const q={get:N,set:F,deleteProperty:j,has:$,ownKeys:U},H={get:L,set(t,e){return!0},deleteProperty(t,e){return!0}},z=(0,i.l7)({},q,{get:O,set:B}),K=t=>t,W=t=>Reflect.getPrototypeOf(t);function G(t,e,n=!1,i=!1){t=t["__v_raw"];const s=xt(t),r=xt(e);e!==r&&!n&&A(s,"get",e),!n&&A(s,"get",r);const{has:o}=W(s),a=i?K:n?Dt:kt;return o.call(s,e)?a(t.get(e)):o.call(s,r)?a(t.get(r)):void(t!==s&&t.get(e))}function Y(t,e=!1){const n=this["__v_raw"],i=xt(n),s=xt(t);return t!==s&&!e&&A(i,"has",t),!e&&A(i,"has",s),t===s?n.has(t):n.has(t)||n.has(s)}function Q(t,e=!1){return t=t["__v_raw"],!e&&A(xt(t),"iterate",y),Reflect.get(t,"size",t)}function X(t){t=xt(t);const e=xt(this),n=W(e),i=n.has.call(e,t);return i||(e.add(t),x(e,"add",t,t)),this}function J(t,e){e=xt(e);const n=xt(this),{has:s,get:r}=W(n);let o=s.call(n,t);o||(t=xt(t),o=s.call(n,t));const a=r.call(n,t);return n.set(t,e),o?(0,i.aU)(e,a)&&x(n,"set",t,e,a):x(n,"add",t,e),this}function Z(t){const e=xt(this),{has:n,get:i}=W(e);let s=n.call(e,t);s||(t=xt(t),s=n.call(e,t));const r=i?i.call(e,t):void 0,o=e.delete(t);return s&&x(e,"delete",t,void 0,r),o}function tt(){const t=xt(this),e=0!==t.size,n=void 0,i=t.clear();return e&&x(t,"clear",void 0,void 0,n),i}function et(t,e){return function(n,i){const s=this,r=s["__v_raw"],o=xt(r),a=e?K:t?Dt:kt;return!t&&A(o,"iterate",y),r.forEach(((t,e)=>n.call(i,a(t),a(e),s)))}}function nt(t,e,n){return function(...s){const r=this["__v_raw"],o=xt(r),a=(0,i._N)(o),c="entries"===t||t===Symbol.iterator&&a,l="keys"===t&&a,u=r[t](...s),h=n?K:e?Dt:kt;return!e&&A(o,"iterate",l?w:y),{next(){const{value:t,done:e}=u.next();return e?{value:t,done:e}:{value:c?[h(t[0]),h(t[1])]:h(t),done:e}},[Symbol.iterator](){return this}}}}function it(t){return function(...e){return"delete"!==t&&this}}function st(){const t={get(t){return G(this,t)},get size(){return Q(this)},has:Y,add:X,set:J,delete:Z,clear:tt,forEach:et(!1,!1)},e={get(t){return G(this,t,!1,!0)},get size(){return Q(this)},has:Y,add:X,set:J,delete:Z,clear:tt,forEach:et(!1,!0)},n={get(t){return G(this,t,!0)},get size(){return Q(this,!0)},has(t){return Y.call(this,t,!0)},add:it("add"),set:it("set"),delete:it("delete"),clear:it("clear"),forEach:et(!0,!1)},i={get(t){return G(this,t,!0,!0)},get size(){return Q(this,!0)},has(t){return Y.call(this,t,!0)},add:it("add"),set:it("set"),delete:it("delete"),clear:it("clear"),forEach:et(!0,!0)},s=["keys","values","entries",Symbol.iterator];return s.forEach((s=>{t[s]=nt(s,!1,!1),n[s]=nt(s,!0,!1),e[s]=nt(s,!1,!0),i[s]=nt(s,!0,!0)})),[t,n,e,i]}const[rt,ot,at,ct]=st();function lt(t,e){const n=e?t?ct:at:t?ot:rt;return(e,s,r)=>"__v_isReactive"===s?!t:"__v_isReadonly"===s?t:"__v_raw"===s?e:Reflect.get((0,i.RI)(n,s)&&s in e?n:e,s,r)}const ut={get:lt(!1,!1)},ht={get:lt(!1,!0)},dt={get:lt(!0,!1)};const ft=new WeakMap,pt=new WeakMap,mt=new WeakMap,gt=new WeakMap;function yt(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wt(t){return t["__v_skip"]||!Object.isExtensible(t)?0:yt((0,i.W7)(t))}function vt(t){return It(t)?t:Et(t,!1,q,ut,ft)}function bt(t){return Et(t,!1,z,ht,pt)}function _t(t){return Et(t,!0,H,dt,mt)}function Et(t,e,n,s,r){if(!(0,i.Kn)(t))return t;if(t["__v_raw"]&&(!e||!t["__v_isReactive"]))return t;const o=r.get(t);if(o)return o;const a=wt(t);if(0===a)return t;const c=new Proxy(t,2===a?s:n);return r.set(t,c),c}function Tt(t){return It(t)?Tt(t["__v_raw"]):!(!t||!t["__v_isReactive"])}function It(t){return!(!t||!t["__v_isReadonly"])}function At(t){return!(!t||!t["__v_isShallow"])}function St(t){return Tt(t)||It(t)}function xt(t){const e=t&&t["__v_raw"];return e?xt(e):t}function Ct(t){return(0,i.Nj)(t,"__v_skip",!0),t}const kt=t=>(0,i.Kn)(t)?vt(t):t,Dt=t=>(0,i.Kn)(t)?_t(t):t;function Nt(t){_&&g&&(t=xt(t),S(t.dep||(t.dep=a())))}function Ot(t,e){t=xt(t),t.dep&&C(t.dep)}function Lt(t){return!(!t||!0!==t.__v_isRef)}function Pt(t){return Lt(t)?t.value:t}const Rt={get:(t,e,n)=>Pt(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return Lt(s)&&!Lt(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function Mt(t){return Tt(t)?t:new Proxy(t,Rt)}class Ft{constructor(t,e,n,i){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new v(t,(()=>{this._dirty||(this._dirty=!0,Ot(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!i,this["__v_isReadonly"]=n}get value(){const t=xt(this);return Nt(t),!t._dirty&&t._cacheable||(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Bt(t,e,n=!1){let s,r;const o=(0,i.mf)(t);o?(s=t,r=i.dG):(s=t.get,r=t.set);const a=new Ft(s,r,o||!r,n);return a}Promise.resolve()},3396:function(t,e,n){"use strict";n.d(e,{$d:function(){return o},FN:function(){return pn},HY:function(){return ke},Ko:function(){return on},P$:function(){return ot},Q6:function(){return dt},U2:function(){return ct},Uk:function(){return Je},Us:function(){return we},Wm:function(){return Ge},Y8:function(){return it},_:function(){return We},h:function(){return Nn},iD:function(){return je},ic:function(){return xt},j4:function(){return $e},kq:function(){return Ze},nK:function(){return ht},up:function(){return Ae},wg:function(){return Re},wy:function(){return ue}});n(1703);var i=n(4870),s=n(7139);function r(t,e,n,i){let s;try{s=i?t(...i):t()}catch(r){a(r,e,n)}return s}function o(t,e,n,i){if((0,s.mf)(t)){const o=r(t,e,n,i);return o&&(0,s.tI)(o)&&o.catch((t=>{a(t,e,n)})),o}const c=[];for(let s=0;s<t.length;s++)c.push(o(t[s],e,n,i));return c}function a(t,e,n,i=!0){const s=e?e.vnode:null;if(e){let i=e.parent;const s=e.proxy,o=n;while(i){const e=i.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,s,o))return;i=i.parent}const a=e.appContext.config.errorHandler;if(a)return void r(a,null,10,[t,s,o])}c(t,n,s,i)}function c(t,e,n,i=!0){console.error(t)}let l=!1,u=!1;const h=[];let d=0;const f=[];let p=null,m=0;const g=[];let y=null,w=0;const v=Promise.resolve();let b=null,_=null;function E(t){const e=b||v;return t?e.then(this?t.bind(this):t):e}function T(t){let e=d+1,n=h.length;while(e<n){const i=e+n>>>1,s=O(h[i]);s<t?e=i+1:n=i}return e}function I(t){h.length&&h.includes(t,l&&t.allowRecurse?d+1:d)||t===_||(null==t.id?h.push(t):h.splice(T(t.id),0,t),A())}function A(){l||u||(u=!0,b=v.then(L))}function S(t){const e=h.indexOf(t);e>d&&h.splice(e,1)}function x(t,e,n,i){(0,s.kJ)(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?i+1:i)||n.push(t),A()}function C(t){x(t,p,f,m)}function k(t){x(t,y,g,w)}function D(t,e=null){if(f.length){for(_=e,p=[...new Set(f)],f.length=0,m=0;m<p.length;m++)p[m]();p=null,m=0,_=null,D(t,e)}}function N(t){if(g.length){const t=[...new Set(g)];if(g.length=0,y)return void y.push(...t);for(y=t,y.sort(((t,e)=>O(t)-O(e))),w=0;w<y.length;w++)y[w]();y=null,w=0}}const O=t=>null==t.id?1/0:t.id;function L(t){u=!1,l=!0,D(t),h.sort(((t,e)=>O(t)-O(e)));s.dG;try{for(d=0;d<h.length;d++){const t=h[d];t&&!1!==t.active&&r(t,null,14)}}finally{d=0,h.length=0,N(t),l=!1,b=null,(h.length||f.length||g.length)&&L(t)}}new Set;new Map;function P(t,e,...n){const i=t.vnode.props||s.kT;let r=n;const a=e.startsWith("update:"),c=a&&e.slice(7);if(c&&c in i){const t=`${"modelValue"===c?"model":c}Modifiers`,{number:e,trim:o}=i[t]||s.kT;o?r=n.map((t=>t.trim())):e&&(r=n.map(s.He))}let l;let u=i[l=(0,s.hR)(e)]||i[l=(0,s.hR)((0,s._A)(e))];!u&&a&&(u=i[l=(0,s.hR)((0,s.rs)(e))]),u&&o(u,t,6,r);const h=i[l+"Once"];if(h){if(t.emitted){if(t.emitted[l])return}else t.emitted={};t.emitted[l]=!0,o(h,t,6,r)}}function R(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(void 0!==r)return r;const o=t.emits;let a={},c=!1;if(!(0,s.mf)(t)){const i=t=>{const n=R(t,e,!0);n&&(c=!0,(0,s.l7)(a,n))};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}return o||c?((0,s.kJ)(o)?o.forEach((t=>a[t]=null)):(0,s.l7)(a,o),i.set(t,a),a):(i.set(t,null),null)}function M(t,e){return!(!t||!(0,s.F7)(e))&&(e=e.slice(2).replace(/Once$/,""),(0,s.RI)(t,e[0].toLowerCase()+e.slice(1))||(0,s.RI)(t,(0,s.rs)(e))||(0,s.RI)(t,e))}let F=null,B=null;function V(t){const e=F;return F=t,B=t&&t.type.__scopeId||null,e}function j(t,e=F,n){if(!e)return t;if(t._n)return t;const i=(...n)=>{i._d&&Be(-1);const s=V(e),r=t(...n);return V(s),i._d&&Be(1),r};return i._n=!0,i._c=!0,i._d=!0,i}function $(t){const{type:e,vnode:n,proxy:i,withProxy:r,props:o,propsOptions:[c],slots:l,attrs:u,emit:h,render:d,renderCache:f,data:p,setupState:m,ctx:g,inheritAttrs:y}=t;let w,v;const b=V(t);try{if(4&n.shapeFlag){const t=r||i;w=tn(d.call(t,t,f,o,m,p,g)),v=u}else{const t=e;0,w=tn(t.length>1?t(o,{attrs:u,slots:l,emit:h}):t(o,null)),v=e.props?u:U(u)}}catch(E){Le.length=0,a(E,t,1),w=Ge(Ne)}let _=w;if(v&&!1!==y){const t=Object.keys(v),{shapeFlag:e}=_;t.length&&7&e&&(c&&t.some(s.tR)&&(v=q(v,c)),_=Xe(_,v))}return n.dirs&&(_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),w=_,V(b),w}const U=t=>{let e;for(const n in t)("class"===n||"style"===n||(0,s.F7)(n))&&((e||(e={}))[n]=t[n]);return e},q=(t,e)=>{const n={};for(const i in t)(0,s.tR)(i)&&i.slice(9)in e||(n[i]=t[i]);return n};function H(t,e,n){const{props:i,children:s,component:r}=t,{props:o,children:a,patchFlag:c}=e,l=r.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&c>=0))return!(!s&&!a||a&&a.$stable)||i!==o&&(i?!o||z(i,o,l):!!o);if(1024&c)return!0;if(16&c)return i?z(i,o,l):!!o;if(8&c){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(o[n]!==i[n]&&!M(l,n))return!0}}return!1}function z(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!M(n,r))return!0}return!1}function K({vnode:t,parent:e},n){while(e&&e.subTree===t)(t=e.vnode).el=n,e=e.parent}const W=t=>t.__isSuspense;function G(t,e){e&&e.pendingBranch?(0,s.kJ)(t)?e.effects.push(...t):e.effects.push(t):k(t)}function Y(t,e){if(fn){let n=fn.provides;const i=fn.parent&&fn.parent.provides;i===n&&(n=fn.provides=Object.create(i)),n[t]=e}else 0}function Q(t,e,n=!1){const i=fn||F;if(i){const r=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&(0,s.mf)(e)?e.call(i.proxy):e}else 0}const X={};function J(t,e,n){return Z(t,e,n)}function Z(t,e,{immediate:n,deep:a,flush:c,onTrack:l,onTrigger:u}=s.kT){const h=fn;let d,f,p=!1,m=!1;if((0,i.dq)(t)?(d=()=>t.value,p=(0,i.yT)(t)):(0,i.PG)(t)?(d=()=>t,a=!0):(0,s.kJ)(t)?(m=!0,p=t.some(i.PG),d=()=>t.map((t=>(0,i.dq)(t)?t.value:(0,i.PG)(t)?nt(t):(0,s.mf)(t)?r(t,h,2):void 0))):d=(0,s.mf)(t)?e?()=>r(t,h,2):()=>{if(!h||!h.isUnmounted)return f&&f(),o(t,h,3,[g])}:s.dG,e&&a){const t=d;d=()=>nt(t())}let g=t=>{f=b.onStop=()=>{r(t,h,4)}};if(bn)return g=s.dG,e?n&&o(e,h,3,[d(),m?[]:void 0,g]):d(),s.dG;let y=m?[]:X;const w=()=>{if(b.active)if(e){const t=b.run();(a||p||(m?t.some(((t,e)=>(0,s.aU)(t,y[e]))):(0,s.aU)(t,y)))&&(f&&f(),o(e,h,3,[t,y===X?void 0:y,g]),y=t)}else b.run()};let v;w.allowRecurse=!!e,v="sync"===c?w:"post"===c?()=>ye(w,h&&h.suspense):()=>{!h||h.isMounted?C(w):w()};const b=new i.qq(d,v);return e?n?w():y=b.run():"post"===c?ye(b.run.bind(b),h&&h.suspense):b.run(),()=>{b.stop(),h&&h.scope&&(0,s.Od)(h.scope.effects,b)}}function tt(t,e,n){const i=this.proxy,r=(0,s.HD)(t)?t.includes(".")?et(i,t):()=>i[t]:t.bind(i,i);let o;(0,s.mf)(e)?o=e:(o=e.handler,n=e);const a=fn;mn(this);const c=Z(r,o.bind(i),n);return a?mn(a):gn(),c}function et(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function nt(t,e){if(!(0,s.Kn)(t)||t["__v_skip"])return t;if(e=e||new Set,e.has(t))return t;if(e.add(t),(0,i.dq)(t))nt(t.value,e);else if((0,s.kJ)(t))for(let n=0;n<t.length;n++)nt(t[n],e);else if((0,s.DM)(t)||(0,s._N)(t))t.forEach((t=>{nt(t,e)}));else if((0,s.PO)(t))for(const n in t)nt(t[n],e);return t}function it(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return At((()=>{t.isMounted=!0})),Ct((()=>{t.isUnmounting=!0})),t}const st=[Function,Array],rt={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:st,onEnter:st,onAfterEnter:st,onEnterCancelled:st,onBeforeLeave:st,onLeave:st,onAfterLeave:st,onLeaveCancelled:st,onBeforeAppear:st,onAppear:st,onAfterAppear:st,onAppearCancelled:st},setup(t,{slots:e}){const n=pn(),s=it();let r;return()=>{const o=e.default&&dt(e.default(),!0);if(!o||!o.length)return;const a=(0,i.IU)(t),{mode:c}=a;const l=o[0];if(s.isLeaving)return lt(l);const u=ut(l);if(!u)return lt(l);const h=ct(u,a,s,n);ht(u,h);const d=n.subTree,f=d&&ut(d);let p=!1;const{getTransitionKey:m}=u.type;if(m){const t=m();void 0===r?r=t:t!==r&&(r=t,p=!0)}if(f&&f.type!==Ne&&(!qe(u,f)||p)){const t=ct(f,a,s,n);if(ht(f,t),"out-in"===c)return s.isLeaving=!0,t.afterLeave=()=>{s.isLeaving=!1,n.update()},lt(l);"in-out"===c&&u.type!==Ne&&(t.delayLeave=(t,e,n)=>{const i=at(s,f);i[String(f.key)]=f,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=n})}return l}}},ot=rt;function at(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function ct(t,e,n,i){const{appear:s,mode:r,persisted:a=!1,onBeforeEnter:c,onEnter:l,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:d,onLeave:f,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:g,onAppear:y,onAfterAppear:w,onAppearCancelled:v}=e,b=String(t.key),_=at(n,t),E=(t,e)=>{t&&o(t,i,9,e)},T={mode:r,persisted:a,beforeEnter(e){let i=c;if(!n.isMounted){if(!s)return;i=g||c}e._leaveCb&&e._leaveCb(!0);const r=_[b];r&&qe(t,r)&&r.el._leaveCb&&r.el._leaveCb(),E(i,[e])},enter(t){let e=l,i=u,r=h;if(!n.isMounted){if(!s)return;e=y||l,i=w||u,r=v||h}let o=!1;const a=t._enterCb=e=>{o||(o=!0,E(e?r:i,[t]),T.delayedLeave&&T.delayedLeave(),t._enterCb=void 0)};e?(e(t,a),e.length<=1&&a()):a()},leave(e,i){const s=String(t.key);if(e._enterCb&&e._enterCb(!0),n.isUnmounting)return i();E(d,[e]);let r=!1;const o=e._leaveCb=n=>{r||(r=!0,i(),E(n?m:p,[e]),e._leaveCb=void 0,_[s]===t&&delete _[s])};_[s]=t,f?(f(e,o),f.length<=1&&o()):o()},clone(t){return ct(t,e,n,i)}};return T}function lt(t){if(pt(t))return t=Xe(t),t.children=null,t}function ut(t){return pt(t)?t.children?t.children[0]:void 0:t}function ht(t,e){6&t.shapeFlag&&t.component?ht(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function dt(t,e=!1){let n=[],i=0;for(let s=0;s<t.length;s++){const r=t[s];r.type===ke?(128&r.patchFlag&&i++,n=n.concat(dt(r.children,e))):(e||r.type!==Ne)&&n.push(r)}if(i>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}const ft=t=>!!t.type.__asyncLoader;const pt=t=>t.type.__isKeepAlive;RegExp,RegExp;function mt(t,e){return(0,s.kJ)(t)?t.some((t=>mt(t,e))):(0,s.HD)(t)?t.split(",").includes(e):!!t.test&&t.test(e)}function gt(t,e){wt(t,"a",e)}function yt(t,e){wt(t,"da",e)}function wt(t,e,n=fn){const i=t.__wdc||(t.__wdc=()=>{let e=n;while(e){if(e.isDeactivated)return;e=e.parent}return t()});if(Et(e,i,n),n){let t=n.parent;while(t&&t.parent)pt(t.parent.vnode)&&vt(i,e,n,t),t=t.parent}}function vt(t,e,n,i){const r=Et(e,t,i,!0);kt((()=>{(0,s.Od)(i[e],r)}),n)}function bt(t){let e=t.shapeFlag;256&e&&(e-=256),512&e&&(e-=512),t.shapeFlag=e}function _t(t){return 128&t.shapeFlag?t.ssContent:t}function Et(t,e,n=fn,s=!1){if(n){const r=n[t]||(n[t]=[]),a=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;(0,i.Jd)(),mn(n);const r=o(e,n,t,s);return gn(),(0,i.lk)(),r});return s?r.unshift(a):r.push(a),a}}const Tt=t=>(e,n=fn)=>(!bn||"sp"===t)&&Et(t,e,n),It=Tt("bm"),At=Tt("m"),St=Tt("bu"),xt=Tt("u"),Ct=Tt("bum"),kt=Tt("um"),Dt=Tt("sp"),Nt=Tt("rtg"),Ot=Tt("rtc");function Lt(t,e=fn){Et("ec",t,e)}let Pt=!0;function Rt(t){const e=Vt(t),n=t.proxy,r=t.ctx;Pt=!1,e.beforeCreate&&Ft(e.beforeCreate,t,"bc");const{data:o,computed:a,methods:c,watch:l,provide:u,inject:h,created:d,beforeMount:f,mounted:p,beforeUpdate:m,updated:g,activated:y,deactivated:w,beforeDestroy:v,beforeUnmount:b,destroyed:_,unmounted:E,render:T,renderTracked:I,renderTriggered:A,errorCaptured:S,serverPrefetch:x,expose:C,inheritAttrs:k,components:D,directives:N,filters:O}=e,L=null;if(h&&Mt(h,r,L,t.appContext.config.unwrapInjectedRef),c)for(const i in c){const t=c[i];(0,s.mf)(t)&&(r[i]=t.bind(n))}if(o){0;const e=o.call(n,n);0,(0,s.Kn)(e)&&(t.data=(0,i.qj)(e))}if(Pt=!0,a)for(const i in a){const t=a[i],e=(0,s.mf)(t)?t.bind(n,n):(0,s.mf)(t.get)?t.get.bind(n,n):s.dG;0;const o=!(0,s.mf)(t)&&(0,s.mf)(t.set)?t.set.bind(n):s.dG,c=Dn({get:e,set:o});Object.defineProperty(r,i,{enumerable:!0,configurable:!0,get:()=>c.value,set:t=>c.value=t})}if(l)for(const i in l)Bt(l[i],r,n,i);if(u){const t=(0,s.mf)(u)?u.call(n):u;Reflect.ownKeys(t).forEach((e=>{Y(e,t[e])}))}function P(t,e){(0,s.kJ)(e)?e.forEach((e=>t(e.bind(n)))):e&&t(e.bind(n))}if(d&&Ft(d,t,"c"),P(It,f),P(At,p),P(St,m),P(xt,g),P(gt,y),P(yt,w),P(Lt,S),P(Ot,I),P(Nt,A),P(Ct,b),P(kt,E),P(Dt,x),(0,s.kJ)(C))if(C.length){const e=t.exposed||(t.exposed={});C.forEach((t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})}))}else t.exposed||(t.exposed={});T&&t.render===s.dG&&(t.render=T),null!=k&&(t.inheritAttrs=k),D&&(t.components=D),N&&(t.directives=N)}function Mt(t,e,n=s.dG,r=!1){(0,s.kJ)(t)&&(t=Ht(t));for(const o in t){const n=t[o];let a;a=(0,s.Kn)(n)?"default"in n?Q(n.from||o,n.default,!0):Q(n.from||o):Q(n),(0,i.dq)(a)&&r?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:t=>a.value=t}):e[o]=a}}function Ft(t,e,n){o((0,s.kJ)(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,n)}function Bt(t,e,n,i){const r=i.includes(".")?et(n,i):()=>n[i];if((0,s.HD)(t)){const n=e[t];(0,s.mf)(n)&&J(r,n)}else if((0,s.mf)(t))J(r,t.bind(n));else if((0,s.Kn)(t))if((0,s.kJ)(t))t.forEach((t=>Bt(t,e,n,i)));else{const i=(0,s.mf)(t.handler)?t.handler.bind(n):e[t.handler];(0,s.mf)(i)&&J(r,i,t)}else 0}function Vt(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let c;return a?c=a:s.length||n||i?(c={},s.length&&s.forEach((t=>jt(c,t,o,!0))),jt(c,e,o)):c=e,r.set(e,c),c}function jt(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&jt(t,r,n,!0),s&&s.forEach((e=>jt(t,e,n,!0)));for(const o in e)if(i&&"expose"===o);else{const i=$t[o]||n&&n[o];t[o]=i?i(t[o],e[o]):e[o]}return t}const $t={data:Ut,props:Kt,emits:Kt,methods:Kt,computed:Kt,beforeCreate:zt,created:zt,beforeMount:zt,mounted:zt,beforeUpdate:zt,updated:zt,beforeDestroy:zt,beforeUnmount:zt,destroyed:zt,unmounted:zt,activated:zt,deactivated:zt,errorCaptured:zt,serverPrefetch:zt,components:Kt,directives:Kt,watch:Wt,provide:Ut,inject:qt};function Ut(t,e){return e?t?function(){return(0,s.l7)((0,s.mf)(t)?t.call(this,this):t,(0,s.mf)(e)?e.call(this,this):e)}:e:t}function qt(t,e){return Kt(Ht(t),Ht(e))}function Ht(t){if((0,s.kJ)(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function zt(t,e){return t?[...new Set([].concat(t,e))]:e}function Kt(t,e){return t?(0,s.l7)((0,s.l7)(Object.create(null),t),e):e}function Wt(t,e){if(!t)return e;if(!e)return t;const n=(0,s.l7)(Object.create(null),t);for(const i in e)n[i]=zt(t[i],e[i]);return n}function Gt(t,e,n,r=!1){const o={},a={};(0,s.Nj)(a,He,1),t.propsDefaults=Object.create(null),Qt(t,e,o,a);for(const i in t.propsOptions[0])i in o||(o[i]=void 0);n?t.props=r?o:(0,i.Um)(o):t.type.props?t.props=o:t.props=a,t.attrs=a}function Yt(t,e,n,r){const{props:o,attrs:a,vnode:{patchFlag:c}}=t,l=(0,i.IU)(o),[u]=t.propsOptions;let h=!1;if(!(r||c>0)||16&c){let i;Qt(t,e,o,a)&&(h=!0);for(const r in l)e&&((0,s.RI)(e,r)||(i=(0,s.rs)(r))!==r&&(0,s.RI)(e,i))||(u?!n||void 0===n[r]&&void 0===n[i]||(o[r]=Xt(u,l,r,void 0,t,!0)):delete o[r]);if(a!==l)for(const t in a)e&&(0,s.RI)(e,t)||(delete a[t],h=!0)}else if(8&c){const n=t.vnode.dynamicProps;for(let i=0;i<n.length;i++){let r=n[i];const c=e[r];if(u)if((0,s.RI)(a,r))c!==a[r]&&(a[r]=c,h=!0);else{const e=(0,s._A)(r);o[e]=Xt(u,l,e,c,t,!1)}else c!==a[r]&&(a[r]=c,h=!0)}}h&&(0,i.X$)(t,"set","$attrs")}function Qt(t,e,n,r){const[o,a]=t.propsOptions;let c,l=!1;if(e)for(let i in e){if((0,s.Gg)(i))continue;const u=e[i];let h;o&&(0,s.RI)(o,h=(0,s._A)(i))?a&&a.includes(h)?(c||(c={}))[h]=u:n[h]=u:M(t.emitsOptions,i)||i in r&&u===r[i]||(r[i]=u,l=!0)}if(a){const e=(0,i.IU)(n),r=c||s.kT;for(let i=0;i<a.length;i++){const c=a[i];n[c]=Xt(o,e,c,r[c],t,!(0,s.RI)(r,c))}}return l}function Xt(t,e,n,i,r,o){const a=t[n];if(null!=a){const t=(0,s.RI)(a,"default");if(t&&void 0===i){const t=a.default;if(a.type!==Function&&(0,s.mf)(t)){const{propsDefaults:s}=r;n in s?i=s[n]:(mn(r),i=s[n]=t.call(null,e),gn())}else i=t}a[0]&&(o&&!t?i=!1:!a[1]||""!==i&&i!==(0,s.rs)(n)||(i=!0))}return i}function Jt(t,e,n=!1){const i=e.propsCache,r=i.get(t);if(r)return r;const o=t.props,a={},c=[];let l=!1;if(!(0,s.mf)(t)){const i=t=>{l=!0;const[n,i]=Jt(t,e,!0);(0,s.l7)(a,n),i&&c.push(...i)};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}if(!o&&!l)return i.set(t,s.Z6),s.Z6;if((0,s.kJ)(o))for(let h=0;h<o.length;h++){0;const t=(0,s._A)(o[h]);Zt(t)&&(a[t]=s.kT)}else if(o){0;for(const t in o){const e=(0,s._A)(t);if(Zt(e)){const n=o[t],i=a[e]=(0,s.kJ)(n)||(0,s.mf)(n)?{type:n}:n;if(i){const t=ne(Boolean,i.type),n=ne(String,i.type);i[0]=t>-1,i[1]=n<0||t<n,(t>-1||(0,s.RI)(i,"default"))&&c.push(e)}}}}const u=[a,c];return i.set(t,u),u}function Zt(t){return"$"!==t[0]}function te(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:null===t?"null":""}function ee(t,e){return te(t)===te(e)}function ne(t,e){return(0,s.kJ)(e)?e.findIndex((e=>ee(e,t))):(0,s.mf)(e)&&ee(e,t)?0:-1}const ie=t=>"_"===t[0]||"$stable"===t,se=t=>(0,s.kJ)(t)?t.map(tn):[tn(t)],re=(t,e,n)=>{const i=j(((...t)=>se(e(...t))),n);return i._c=!1,i},oe=(t,e,n)=>{const i=t._ctx;for(const r in t){if(ie(r))continue;const n=t[r];if((0,s.mf)(n))e[r]=re(r,n,i);else if(null!=n){0;const t=se(n);e[r]=()=>t}}},ae=(t,e)=>{const n=se(e);t.slots.default=()=>n},ce=(t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=(0,i.IU)(e),(0,s.Nj)(e,"_",n)):oe(e,t.slots={})}else t.slots={},e&&ae(t,e);(0,s.Nj)(t.slots,He,1)},le=(t,e,n)=>{const{vnode:i,slots:r}=t;let o=!0,a=s.kT;if(32&i.shapeFlag){const t=e._;t?n&&1===t?o=!1:((0,s.l7)(r,e),n||1!==t||delete r._):(o=!e.$stable,oe(e,r)),a=e}else e&&(ae(t,e),a={default:1});if(o)for(const s in r)ie(s)||s in a||delete r[s]};function ue(t,e){const n=F;if(null===n)return t;const i=n.proxy,r=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[t,n,a,c=s.kT]=e[o];(0,s.mf)(t)&&(t={mounted:t,updated:t}),t.deep&&nt(n),r.push({dir:t,instance:i,value:n,oldValue:void 0,arg:a,modifiers:c})}return t}function he(t,e,n,s){const r=t.dirs,a=e&&e.dirs;for(let c=0;c<r.length;c++){const l=r[c];a&&(l.oldValue=a[c].value);let u=l.dir[s];u&&((0,i.Jd)(),o(u,n,8,[t.el,l,t,e]),(0,i.lk)())}}function de(){return{app:null,config:{isNativeTag:s.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fe=0;function pe(t,e){return function(n,i=null){null==i||(0,s.Kn)(i)||(i=null);const r=de(),o=new Set;let a=!1;const c=r.app={_uid:fe++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:On,get config(){return r.config},set config(t){0},use(t,...e){return o.has(t)||(t&&(0,s.mf)(t.install)?(o.add(t),t.install(c,...e)):(0,s.mf)(t)&&(o.add(t),t(c,...e))),c},mixin(t){return r.mixins.includes(t)||r.mixins.push(t),c},component(t,e){return e?(r.components[t]=e,c):r.components[t]},directive(t,e){return e?(r.directives[t]=e,c):r.directives[t]},mount(s,o,l){if(!a){const u=Ge(n,i);return u.appContext=r,o&&e?e(u,s):t(u,s,l),a=!0,c._container=s,s.__vue_app__=c,xn(u.component)||u.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(t,e){return r.provides[t]=e,c}};return c}}function me(t,e,n,o,a=!1){if((0,s.kJ)(t))return void t.forEach(((t,i)=>me(t,e&&((0,s.kJ)(e)?e[i]:e),n,o,a)));if(ft(o)&&!a)return;const c=4&o.shapeFlag?xn(o.component)||o.component.proxy:o.el,l=a?null:c,{i:u,r:h}=t;const d=e&&e.r,f=u.refs===s.kT?u.refs={}:u.refs,p=u.setupState;if(null!=d&&d!==h&&((0,s.HD)(d)?(f[d]=null,(0,s.RI)(p,d)&&(p[d]=null)):(0,i.dq)(d)&&(d.value=null)),(0,s.mf)(h))r(h,u,12,[l,f]);else{const e=(0,s.HD)(h),r=(0,i.dq)(h);if(e||r){const r=()=>{if(t.f){const n=e?f[h]:h.value;a?(0,s.kJ)(n)&&(0,s.Od)(n,c):(0,s.kJ)(n)?n.includes(c)||n.push(c):e?f[h]=[c]:(h.value=[c],t.k&&(f[t.k]=h.value))}else e?(f[h]=l,(0,s.RI)(p,h)&&(p[h]=l)):(0,i.dq)(h)&&(h.value=l,t.k&&(f[t.k]=l))};l?(r.id=-1,ye(r,n)):r()}else 0}}function ge(){}const ye=G;function we(t){return ve(t)}function ve(t,e){ge();const n=(0,s.E9)();n.__VUE__=!0;const{insert:r,remove:o,patchProp:a,createElement:c,createText:l,createComment:u,setText:h,setElementText:d,parentNode:f,nextSibling:p,setScopeId:m=s.dG,cloneNode:g,insertStaticContent:y}=t,w=(t,e,n,i=null,s=null,r=null,o=!1,a=null,c=!!e.dynamicChildren)=>{if(t===e)return;t&&!qe(t,e)&&(i=Z(t),G(t,s,r,!0),t=null),-2===e.patchFlag&&(c=!1,e.dynamicChildren=null);const{type:l,ref:u,shapeFlag:h}=e;switch(l){case De:v(t,e,n,i);break;case Ne:b(t,e,n,i);break;case Oe:null==t&&_(e,n,i,o);break;case ke:R(t,e,n,i,s,r,o,a,c);break;default:1&h?A(t,e,n,i,s,r,o,a,c):6&h?M(t,e,n,i,s,r,o,a,c):(64&h||128&h)&&l.process(t,e,n,i,s,r,o,a,c,et)}null!=u&&s&&me(u,t&&t.ref,r,e||t,!e)},v=(t,e,n,i)=>{if(null==t)r(e.el=l(e.children),n,i);else{const n=e.el=t.el;e.children!==t.children&&h(n,e.children)}},b=(t,e,n,i)=>{null==t?r(e.el=u(e.children||""),n,i):e.el=t.el},_=(t,e,n,i)=>{[t.el,t.anchor]=y(t.children,e,n,i,t.el,t.anchor)},E=({el:t,anchor:e},n,i)=>{let s;while(t&&t!==e)s=p(t),r(t,n,i),t=s;r(e,n,i)},T=({el:t,anchor:e})=>{let n;while(t&&t!==e)n=p(t),o(t),t=n;o(e)},A=(t,e,n,i,s,r,o,a,c)=>{o=o||"svg"===e.type,null==t?x(e,n,i,s,r,o,a,c):O(t,e,s,r,o,a,c)},x=(t,e,n,i,o,l,u,h)=>{let f,p;const{type:m,props:y,shapeFlag:w,transition:v,patchFlag:b,dirs:_}=t;if(t.el&&void 0!==g&&-1===b)f=t.el=g(t.el);else{if(f=t.el=c(t.type,l,y&&y.is,y),8&w?d(f,t.children):16&w&&k(t.children,f,null,i,o,l&&"foreignObject"!==m,u,h),_&&he(t,null,i,"created"),y){for(const e in y)"value"===e||(0,s.Gg)(e)||a(f,e,null,y[e],l,t.children,i,o,J);"value"in y&&a(f,"value",null,y.value),(p=y.onVnodeBeforeMount)&&rn(p,i,t)}C(f,t,t.scopeId,u,i)}_&&he(t,null,i,"beforeMount");const E=(!o||o&&!o.pendingBranch)&&v&&!v.persisted;E&&v.beforeEnter(f),r(f,e,n),((p=y&&y.onVnodeMounted)||E||_)&&ye((()=>{p&&rn(p,i,t),E&&v.enter(f),_&&he(t,null,i,"mounted")}),o)},C=(t,e,n,i,s)=>{if(n&&m(t,n),i)for(let r=0;r<i.length;r++)m(t,i[r]);if(s){let n=s.subTree;if(e===n){const e=s.vnode;C(t,e,e.scopeId,e.slotScopeIds,s.parent)}}},k=(t,e,n,i,s,r,o,a,c=0)=>{for(let l=c;l<t.length;l++){const c=t[l]=a?en(t[l]):tn(t[l]);w(null,c,e,n,i,s,r,o,a)}},O=(t,e,n,i,r,o,c)=>{const l=e.el=t.el;let{patchFlag:u,dynamicChildren:h,dirs:f}=e;u|=16&t.patchFlag;const p=t.props||s.kT,m=e.props||s.kT;let g;n&&be(n,!1),(g=m.onVnodeBeforeUpdate)&&rn(g,n,e,t),f&&he(e,t,n,"beforeUpdate"),n&&be(n,!0);const y=r&&"foreignObject"!==e.type;if(h?L(t.dynamicChildren,h,l,n,i,y,o):c||U(t,e,l,null,n,i,y,o,!1),u>0){if(16&u)P(l,e,p,m,n,i,r);else if(2&u&&p.class!==m.class&&a(l,"class",null,m.class,r),4&u&&a(l,"style",p.style,m.style,r),8&u){const s=e.dynamicProps;for(let e=0;e<s.length;e++){const o=s[e],c=p[o],u=m[o];u===c&&"value"!==o||a(l,o,c,u,r,t.children,n,i,J)}}1&u&&t.children!==e.children&&d(l,e.children)}else c||null!=h||P(l,e,p,m,n,i,r);((g=m.onVnodeUpdated)||f)&&ye((()=>{g&&rn(g,n,e,t),f&&he(e,t,n,"updated")}),i)},L=(t,e,n,i,s,r,o)=>{for(let a=0;a<e.length;a++){const c=t[a],l=e[a],u=c.el&&(c.type===ke||!qe(c,l)||70&c.shapeFlag)?f(c.el):n;w(c,l,u,null,i,s,r,o,!0)}},P=(t,e,n,i,r,o,c)=>{if(n!==i){for(const l in i){if((0,s.Gg)(l))continue;const u=i[l],h=n[l];u!==h&&"value"!==l&&a(t,l,h,u,c,e.children,r,o,J)}if(n!==s.kT)for(const l in n)(0,s.Gg)(l)||l in i||a(t,l,n[l],null,c,e.children,r,o,J);"value"in i&&a(t,"value",n.value,i.value)}},R=(t,e,n,i,s,o,a,c,u)=>{const h=e.el=t?t.el:l(""),d=e.anchor=t?t.anchor:l("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:m}=e;m&&(c=c?c.concat(m):m),null==t?(r(h,n,i),r(d,n,i),k(e.children,n,d,s,o,a,c,u)):f>0&&64&f&&p&&t.dynamicChildren?(L(t.dynamicChildren,p,n,s,o,a,c),(null!=e.key||s&&e===s.subTree)&&_e(t,e,!0)):U(t,e,n,d,s,o,a,c,u)},M=(t,e,n,i,s,r,o,a,c)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?s.ctx.activate(e,n,i,o,c):F(e,n,i,s,r,o,c):B(t,e,c)},F=(t,e,n,i,s,r,o)=>{const a=t.component=dn(t,i,s);if(pt(t)&&(a.ctx.renderer=et),_n(a),a.asyncDep){if(s&&s.registerDep(a,V),!t.el){const t=a.subTree=Ge(Ne);b(null,t,e,n)}}else V(a,t,e,n,s,r,o)},B=(t,e,n)=>{const i=e.component=t.component;if(H(t,e,n)){if(i.asyncDep&&!i.asyncResolved)return void j(i,e,n);i.next=e,S(i.update),i.update()}else e.component=t.component,e.el=t.el,i.vnode=e},V=(t,e,n,r,o,a,c)=>{const l=()=>{if(t.isMounted){let e,{next:n,bu:i,u:r,parent:l,vnode:u}=t,h=n;0,be(t,!1),n?(n.el=u.el,j(t,n,c)):n=u,i&&(0,s.ir)(i),(e=n.props&&n.props.onVnodeBeforeUpdate)&&rn(e,l,n,u),be(t,!0);const d=$(t);0;const p=t.subTree;t.subTree=d,w(p,d,f(p.el),Z(p),t,o,a),n.el=d.el,null===h&&K(t,d.el),r&&ye(r,o),(e=n.props&&n.props.onVnodeUpdated)&&ye((()=>rn(e,l,n,u)),o)}else{let i;const{el:c,props:l}=e,{bm:u,m:h,parent:d}=t,f=ft(e);if(be(t,!1),u&&(0,s.ir)(u),!f&&(i=l&&l.onVnodeBeforeMount)&&rn(i,d,e),be(t,!0),c&&it){const n=()=>{t.subTree=$(t),it(c,t.subTree,t,o,null)};f?e.type.__asyncLoader().then((()=>!t.isUnmounted&&n())):n()}else{0;const i=t.subTree=$(t);0,w(null,i,n,r,t,o,a),e.el=i.el}if(h&&ye(h,o),!f&&(i=l&&l.onVnodeMounted)){const t=e;ye((()=>rn(i,d,t)),o)}256&e.shapeFlag&&t.a&&ye(t.a,o),t.isMounted=!0,e=n=r=null}},u=t.effect=new i.qq(l,(()=>I(t.update)),t.scope),h=t.update=u.run.bind(u);h.id=t.uid,be(t,!0),h()},j=(t,e,n)=>{e.component=t;const s=t.vnode.props;t.vnode=e,t.next=null,Yt(t,e.props,s,n),le(t,e.children,n),(0,i.Jd)(),D(void 0,t.update),(0,i.lk)()},U=(t,e,n,i,s,r,o,a,c=!1)=>{const l=t&&t.children,u=t?t.shapeFlag:0,h=e.children,{patchFlag:f,shapeFlag:p}=e;if(f>0){if(128&f)return void z(l,h,n,i,s,r,o,a,c);if(256&f)return void q(l,h,n,i,s,r,o,a,c)}8&p?(16&u&&J(l,s,r),h!==l&&d(n,h)):16&u?16&p?z(l,h,n,i,s,r,o,a,c):J(l,s,r,!0):(8&u&&d(n,""),16&p&&k(h,n,i,s,r,o,a,c))},q=(t,e,n,i,r,o,a,c,l)=>{t=t||s.Z6,e=e||s.Z6;const u=t.length,h=e.length,d=Math.min(u,h);let f;for(f=0;f<d;f++){const i=e[f]=l?en(e[f]):tn(e[f]);w(t[f],i,n,null,r,o,a,c,l)}u>h?J(t,r,o,!0,!1,d):k(e,n,i,r,o,a,c,l,d)},z=(t,e,n,i,r,o,a,c,l)=>{let u=0;const h=e.length;let d=t.length-1,f=h-1;while(u<=d&&u<=f){const i=t[u],s=e[u]=l?en(e[u]):tn(e[u]);if(!qe(i,s))break;w(i,s,n,null,r,o,a,c,l),u++}while(u<=d&&u<=f){const i=t[d],s=e[f]=l?en(e[f]):tn(e[f]);if(!qe(i,s))break;w(i,s,n,null,r,o,a,c,l),d--,f--}if(u>d){if(u<=f){const t=f+1,s=t<h?e[t].el:i;while(u<=f)w(null,e[u]=l?en(e[u]):tn(e[u]),n,s,r,o,a,c,l),u++}}else if(u>f)while(u<=d)G(t[u],r,o,!0),u++;else{const p=u,m=u,g=new Map;for(u=m;u<=f;u++){const t=e[u]=l?en(e[u]):tn(e[u]);null!=t.key&&g.set(t.key,u)}let y,v=0;const b=f-m+1;let _=!1,E=0;const T=new Array(b);for(u=0;u<b;u++)T[u]=0;for(u=p;u<=d;u++){const i=t[u];if(v>=b){G(i,r,o,!0);continue}let s;if(null!=i.key)s=g.get(i.key);else for(y=m;y<=f;y++)if(0===T[y-m]&&qe(i,e[y])){s=y;break}void 0===s?G(i,r,o,!0):(T[s-m]=u+1,s>=E?E=s:_=!0,w(i,e[s],n,null,r,o,a,c,l),v++)}const I=_?Ee(T):s.Z6;for(y=I.length-1,u=b-1;u>=0;u--){const t=m+u,s=e[t],d=t+1<h?e[t+1].el:i;0===T[u]?w(null,s,n,d,r,o,a,c,l):_&&(y<0||u!==I[y]?W(s,n,d,2):y--)}}},W=(t,e,n,i,s=null)=>{const{el:o,type:a,transition:c,children:l,shapeFlag:u}=t;if(6&u)return void W(t.component.subTree,e,n,i);if(128&u)return void t.suspense.move(e,n,i);if(64&u)return void a.move(t,e,n,et);if(a===ke){r(o,e,n);for(let t=0;t<l.length;t++)W(l[t],e,n,i);return void r(t.anchor,e,n)}if(a===Oe)return void E(t,e,n);const h=2!==i&&1&u&&c;if(h)if(0===i)c.beforeEnter(o),r(o,e,n),ye((()=>c.enter(o)),s);else{const{leave:t,delayLeave:i,afterLeave:s}=c,a=()=>r(o,e,n),l=()=>{t(o,(()=>{a(),s&&s()}))};i?i(o,a,l):l()}else r(o,e,n)},G=(t,e,n,i=!1,s=!1)=>{const{type:r,props:o,ref:a,children:c,dynamicChildren:l,shapeFlag:u,patchFlag:h,dirs:d}=t;if(null!=a&&me(a,null,n,t,!0),256&u)return void e.ctx.deactivate(t);const f=1&u&&d,p=!ft(t);let m;if(p&&(m=o&&o.onVnodeBeforeUnmount)&&rn(m,e,t),6&u)X(t.component,n,i);else{if(128&u)return void t.suspense.unmount(n,i);f&&he(t,null,e,"beforeUnmount"),64&u?t.type.remove(t,e,n,s,et,i):l&&(r!==ke||h>0&&64&h)?J(l,e,n,!1,!0):(r===ke&&384&h||!s&&16&u)&&J(c,e,n),i&&Y(t)}(p&&(m=o&&o.onVnodeUnmounted)||f)&&ye((()=>{m&&rn(m,e,t),f&&he(t,null,e,"unmounted")}),n)},Y=t=>{const{type:e,el:n,anchor:i,transition:s}=t;if(e===ke)return void Q(n,i);if(e===Oe)return void T(t);const r=()=>{o(n),s&&!s.persisted&&s.afterLeave&&s.afterLeave()};if(1&t.shapeFlag&&s&&!s.persisted){const{leave:e,delayLeave:i}=s,o=()=>e(n,r);i?i(t.el,r,o):o()}else r()},Q=(t,e)=>{let n;while(t!==e)n=p(t),o(t),t=n;o(e)},X=(t,e,n)=>{const{bum:i,scope:r,update:o,subTree:a,um:c}=t;i&&(0,s.ir)(i),r.stop(),o&&(o.active=!1,G(a,t,e,n)),c&&ye(c,e),ye((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},J=(t,e,n,i=!1,s=!1,r=0)=>{for(let o=r;o<t.length;o++)G(t[o],e,n,i,s)},Z=t=>6&t.shapeFlag?Z(t.component.subTree):128&t.shapeFlag?t.suspense.next():p(t.anchor||t.el),tt=(t,e,n)=>{null==t?e._vnode&&G(e._vnode,null,null,!0):w(e._vnode||null,t,e,null,null,null,n),N(),e._vnode=t},et={p:w,um:G,m:W,r:Y,mt:F,mc:k,pc:U,pbc:L,n:Z,o:t};let nt,it;return e&&([nt,it]=e(et)),{render:tt,hydrate:nt,createApp:pe(tt,nt)}}function be({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function _e(t,e,n=!1){const i=t.children,r=e.children;if((0,s.kJ)(i)&&(0,s.kJ)(r))for(let s=0;s<i.length;s++){const t=i[s];let e=r[s];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=r[s]=en(r[s]),e.el=t.el),n||_e(t,e))}}function Ee(t){const e=t.slice(),n=[0];let i,s,r,o,a;const c=t.length;for(i=0;i<c;i++){const c=t[i];if(0!==c){if(s=n[n.length-1],t[s]<c){e[i]=s,n.push(i);continue}r=0,o=n.length-1;while(r<o)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}r=n.length,o=n[r-1];while(r-- >0)n[r]=o,o=e[o];return n}const Te=t=>t.__isTeleport;const Ie="components";function Ae(t,e){return xe(Ie,t,!0,e)||t}const Se=Symbol();function xe(t,e,n=!0,i=!1){const r=F||fn;if(r){const n=r.type;if(t===Ie){const t=Cn(n);if(t&&(t===e||t===(0,s._A)(e)||t===(0,s.kC)((0,s._A)(e))))return n}const o=Ce(r[t]||n[t],e)||Ce(r.appContext[t],e);return!o&&i?n:o}}function Ce(t,e){return t&&(t[e]||t[(0,s._A)(e)]||t[(0,s.kC)((0,s._A)(e))])}const ke=Symbol(void 0),De=Symbol(void 0),Ne=Symbol(void 0),Oe=Symbol(void 0),Le=[];let Pe=null;function Re(t=!1){Le.push(Pe=t?null:[])}function Me(){Le.pop(),Pe=Le[Le.length-1]||null}let Fe=1;function Be(t){Fe+=t}function Ve(t){return t.dynamicChildren=Fe>0?Pe||s.Z6:null,Me(),Fe>0&&Pe&&Pe.push(t),t}function je(t,e,n,i,s,r){return Ve(We(t,e,n,i,s,r,!0))}function $e(t,e,n,i,s){return Ve(Ge(t,e,n,i,s,!0))}function Ue(t){return!!t&&!0===t.__v_isVNode}function qe(t,e){return t.type===e.type&&t.key===e.key}const He="__vInternal",ze=({key:t})=>null!=t?t:null,Ke=({ref:t,ref_key:e,ref_for:n})=>null!=t?(0,s.HD)(t)||(0,i.dq)(t)||(0,s.mf)(t)?{i:F,r:t,k:e,f:!!n}:t:null;function We(t,e=null,n=null,i=0,r=null,o=(t===ke?0:1),a=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ze(e),ref:e&&Ke(e),scopeId:B,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null};return c?(nn(l,n),128&o&&t.normalize(l)):n&&(l.shapeFlag|=(0,s.HD)(n)?8:16),Fe>0&&!a&&Pe&&(l.patchFlag>0||6&o)&&32!==l.patchFlag&&Pe.push(l),l}const Ge=Ye;function Ye(t,e=null,n=null,r=0,o=null,a=!1){if(t&&t!==Se||(t=Ne),Ue(t)){const i=Xe(t,e,!0);return n&&nn(i,n),i}if(kn(t)&&(t=t.__vccOpts),e){e=Qe(e);let{class:t,style:n}=e;t&&!(0,s.HD)(t)&&(e.class=(0,s.C_)(t)),(0,s.Kn)(n)&&((0,i.X3)(n)&&!(0,s.kJ)(n)&&(n=(0,s.l7)({},n)),e.style=(0,s.j5)(n))}const c=(0,s.HD)(t)?1:W(t)?128:Te(t)?64:(0,s.Kn)(t)?4:(0,s.mf)(t)?2:0;return We(t,e,n,r,o,c,a,!0)}function Qe(t){return t?(0,i.X3)(t)||He in t?(0,s.l7)({},t):t:null}function Xe(t,e,n=!1){const{props:i,ref:r,patchFlag:o,children:a}=t,c=e?sn(i||{},e):i,l={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&ze(c),ref:e&&e.ref?n&&r?(0,s.kJ)(r)?r.concat(Ke(e)):[r,Ke(e)]:Ke(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ke?-1===o?16:16|o:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Xe(t.ssContent),ssFallback:t.ssFallback&&Xe(t.ssFallback),el:t.el,anchor:t.anchor};return l}function Je(t=" ",e=0){return Ge(De,null,t,e)}function Ze(t="",e=!1){return e?(Re(),$e(Ne,null,t)):Ge(Ne,null,t)}function tn(t){return null==t||"boolean"===typeof t?Ge(Ne):(0,s.kJ)(t)?Ge(ke,null,t.slice()):"object"===typeof t?en(t):Ge(De,null,String(t))}function en(t){return null===t.el||t.memo?t:Xe(t)}function nn(t,e){let n=0;const{shapeFlag:i}=t;if(null==e)e=null;else if((0,s.kJ)(e))n=16;else if("object"===typeof e){if(65&i){const n=e.default;return void(n&&(n._c&&(n._d=!1),nn(t,n()),n._c&&(n._d=!0)))}{n=32;const i=e._;i||He in e?3===i&&F&&(1===F.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=F}}else(0,s.mf)(e)?(e={default:e,_ctx:F},n=32):(e=String(e),64&i?(n=16,e=[Je(e)]):n=8);t.children=e,t.shapeFlag|=n}function sn(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=(0,s.C_)([e.class,i.class]));else if("style"===t)e.style=(0,s.j5)([e.style,i.style]);else if((0,s.F7)(t)){const n=e[t],r=i[t];!r||n===r||(0,s.kJ)(n)&&n.includes(r)||(e[t]=n?[].concat(n,r):r)}else""!==t&&(e[t]=i[t])}return e}function rn(t,e,n,i=null){o(t,e,7,[n,i])}function on(t,e,n,i){let r;const o=n&&n[i];if((0,s.kJ)(t)||(0,s.HD)(t)){r=new Array(t.length);for(let n=0,i=t.length;n<i;n++)r[n]=e(t[n],n,void 0,o&&o[n])}else if("number"===typeof t){0,r=new Array(t);for(let n=0;n<t;n++)r[n]=e(n+1,n,void 0,o&&o[n])}else if((0,s.Kn)(t))if(t[Symbol.iterator])r=Array.from(t,((t,n)=>e(t,n,void 0,o&&o[n])));else{const n=Object.keys(t);r=new Array(n.length);for(let i=0,s=n.length;i<s;i++){const s=n[i];r[i]=e(t[s],s,i,o&&o[i])}}else r=[];return n&&(n[i]=r),r}const an=t=>t?yn(t)?xn(t)||t.proxy:an(t.parent):null,cn=(0,s.l7)(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>an(t.parent),$root:t=>an(t.root),$emit:t=>t.emit,$options:t=>Vt(t),$forceUpdate:t=>()=>I(t.update),$nextTick:t=>E.bind(t.proxy),$watch:t=>tt.bind(t)}),ln={get({_:t},e){const{ctx:n,setupState:r,data:o,props:a,accessCache:c,type:l,appContext:u}=t;let h;if("$"!==e[0]){const i=c[e];if(void 0!==i)switch(i){case 1:return r[e];case 2:return o[e];case 4:return n[e];case 3:return a[e]}else{if(r!==s.kT&&(0,s.RI)(r,e))return c[e]=1,r[e];if(o!==s.kT&&(0,s.RI)(o,e))return c[e]=2,o[e];if((h=t.propsOptions[0])&&(0,s.RI)(h,e))return c[e]=3,a[e];if(n!==s.kT&&(0,s.RI)(n,e))return c[e]=4,n[e];Pt&&(c[e]=0)}}const d=cn[e];let f,p;return d?("$attrs"===e&&(0,i.j)(t,"get",e),d(t)):(f=l.__cssModules)&&(f=f[e])?f:n!==s.kT&&(0,s.RI)(n,e)?(c[e]=4,n[e]):(p=u.config.globalProperties,(0,s.RI)(p,e)?p[e]:void 0)},set({_:t},e,n){const{data:i,setupState:r,ctx:o}=t;return r!==s.kT&&(0,s.RI)(r,e)?(r[e]=n,!0):i!==s.kT&&(0,s.RI)(i,e)?(i[e]=n,!0):!(0,s.RI)(t.props,e)&&(("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=n,!0))},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:o}},a){let c;return!!n[a]||t!==s.kT&&(0,s.RI)(t,a)||e!==s.kT&&(0,s.RI)(e,a)||(c=o[0])&&(0,s.RI)(c,a)||(0,s.RI)(i,a)||(0,s.RI)(cn,a)||(0,s.RI)(r.config.globalProperties,a)},defineProperty(t,e,n){return null!=n.get?this.set(t,e,n.get(),null):null!=n.value&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};const un=de();let hn=0;function dn(t,e,n){const r=t.type,o=(e?e.appContext:t.appContext)||un,a={uid:hn++,vnode:t,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new i.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Jt(r,o),emitsOptions:R(r,o),emit:null,emitted:null,propsDefaults:s.kT,inheritAttrs:r.inheritAttrs,ctx:s.kT,data:s.kT,props:s.kT,attrs:s.kT,slots:s.kT,refs:s.kT,setupState:s.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=P.bind(null,a),t.ce&&t.ce(a),a}let fn=null;const pn=()=>fn||F,mn=t=>{fn=t,t.scope.on()},gn=()=>{fn&&fn.scope.off(),fn=null};function yn(t){return 4&t.vnode.shapeFlag}let wn,vn,bn=!1;function _n(t,e=!1){bn=e;const{props:n,children:i}=t.vnode,s=yn(t);Gt(t,n,s,e),ce(t,i);const r=s?En(t,e):void 0;return bn=!1,r}function En(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=(0,i.Xl)(new Proxy(t.ctx,ln));const{setup:o}=n;if(o){const n=t.setupContext=o.length>1?Sn(t):null;mn(t),(0,i.Jd)();const c=r(o,t,0,[t.props,n]);if((0,i.lk)(),gn(),(0,s.tI)(c)){if(c.then(gn,gn),e)return c.then((n=>{Tn(t,n,e)})).catch((e=>{a(e,t,0)}));t.asyncDep=c}else Tn(t,c,e)}else In(t,e)}function Tn(t,e,n){(0,s.mf)(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:(0,s.Kn)(e)&&(t.setupState=(0,i.WL)(e)),In(t,n)}function In(t,e,n){const r=t.type;if(!t.render){if(!e&&wn&&!r.render){const e=r.template;if(e){0;const{isCustomElement:n,compilerOptions:i}=t.appContext.config,{delimiters:o,compilerOptions:a}=r,c=(0,s.l7)((0,s.l7)({isCustomElement:n,delimiters:o},i),a);r.render=wn(e,c)}}t.render=r.render||s.dG,vn&&vn(t)}mn(t),(0,i.Jd)(),Rt(t),(0,i.lk)(),gn()}function An(t){return new Proxy(t.attrs,{get(e,n){return(0,i.j)(t,"get","$attrs"),e[n]}})}function Sn(t){const e=e=>{t.exposed=e||{}};let n;return{get attrs(){return n||(n=An(t))},slots:t.slots,emit:t.emit,expose:e}}function xn(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy((0,i.WL)((0,i.Xl)(t.exposed)),{get(e,n){return n in e?e[n]:n in cn?cn[n](t):void 0}}))}function Cn(t){return(0,s.mf)(t)&&t.displayName||t.name}function kn(t){return(0,s.mf)(t)&&"__vccOpts"in t}const Dn=(t,e)=>(0,i.Fl)(t,e,bn);function Nn(t,e,n){const i=arguments.length;return 2===i?(0,s.Kn)(e)&&!(0,s.kJ)(e)?Ue(e)?Ge(t,null,[e]):Ge(t,e):Ge(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&Ue(n)&&(n=[n]),Ge(t,e,n))}Symbol("");const On="3.2.31"},9242:function(t,e,n){"use strict";n.d(e,{bM:function(){return st},iM:function(){return lt},nr:function(){return it},ri:function(){return ft}});var i=n(7139),s=n(3396);n(4870);const r="http://www.w3.org/2000/svg",o="undefined"!==typeof document?document:null,a=o&&o.createElement("template"),c={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e?o.createElementNS(r,t):o.createElement(t,n?{is:n}:void 0);return"select"===t&&i&&null!=i.multiple&&s.setAttribute("multiple",i.multiple),s},createText:t=>o.createTextNode(t),createComment:t=>o.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>o.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,i,s,r){const o=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling)){while(1)if(e.insertBefore(s.cloneNode(!0),n),s===r||!(s=s.nextSibling))break}else{a.innerHTML=i?`<svg>${t}</svg>`:t;const s=a.content;if(i){const t=s.firstChild;while(t.firstChild)s.appendChild(t.firstChild);s.removeChild(t)}e.insertBefore(s,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function l(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function u(t,e,n){const s=t.style,r=(0,i.HD)(n);if(n&&!r){for(const t in n)d(s,t,n[t]);if(e&&!(0,i.HD)(e))for(const t in e)null==n[t]&&d(s,t,"")}else{const i=s.display;r?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=i)}}const h=/\s*!important$/;function d(t,e,n){if((0,i.kJ)(n))n.forEach((n=>d(t,e,n)));else if(e.startsWith("--"))t.setProperty(e,n);else{const s=m(t,e);h.test(n)?t.setProperty((0,i.rs)(s),n.replace(h,""),"important"):t[s]=n}}const f=["Webkit","Moz","ms"],p={};function m(t,e){const n=p[e];if(n)return n;let s=(0,i._A)(e);if("filter"!==s&&s in t)return p[e]=s;s=(0,i.kC)(s);for(let i=0;i<f.length;i++){const n=f[i]+s;if(n in t)return p[e]=n}return e}const g="http://www.w3.org/1999/xlink";function y(t,e,n,s,r){if(s&&e.startsWith("xlink:"))null==n?t.removeAttributeNS(g,e.slice(6,e.length)):t.setAttributeNS(g,e,n);else{const s=(0,i.Pq)(e);null==n||s&&!(0,i.yA)(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function w(t,e,n,s,r,o,a){if("innerHTML"===e||"textContent"===e)return s&&a(s,r,o),void(t[e]=null==n?"":n);if("value"===e&&"PROGRESS"!==t.tagName&&!t.tagName.includes("-")){t._value=n;const i=null==n?"":n;return t.value===i&&"OPTION"!==t.tagName||(t.value=i),void(null==n&&t.removeAttribute(e))}if(""===n||null==n){const s=typeof t[e];if("boolean"===s)return void(t[e]=(0,i.yA)(n));if(null==n&&"string"===s)return t[e]="",void t.removeAttribute(e);if("number"===s){try{t[e]=0}catch(c){}return void t.removeAttribute(e)}}try{t[e]=n}catch(l){0}}let v=Date.now,b=!1;if("undefined"!==typeof window){v()>document.createEvent("Event").timeStamp&&(v=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);b=!!(t&&Number(t[1])<=53)}let _=0;const E=Promise.resolve(),T=()=>{_=0},I=()=>_||(E.then(T),_=v());function A(t,e,n,i){t.addEventListener(e,n,i)}function S(t,e,n,i){t.removeEventListener(e,n,i)}function x(t,e,n,i,s=null){const r=t._vei||(t._vei={}),o=r[e];if(i&&o)o.value=i;else{const[n,a]=k(e);if(i){const o=r[e]=D(i,s);A(t,n,o,a)}else o&&(S(t,n,o,a),r[e]=void 0)}}const C=/(?:Once|Passive|Capture)$/;function k(t){let e;if(C.test(t)){let n;e={};while(n=t.match(C))t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[(0,i.rs)(t.slice(2)),e]}function D(t,e){const n=t=>{const i=t.timeStamp||v();(b||i>=n.attached-1)&&(0,s.$d)(N(t,n.value),e,5,[t])};return n.value=t,n.attached=I(),n}function N(t,e){if((0,i.kJ)(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}const O=/^on[a-z]/,L=(t,e,n,s,r=!1,o,a,c,h)=>{"class"===e?l(t,s,r):"style"===e?u(t,n,s):(0,i.F7)(e)?(0,i.tR)(e)||x(t,e,n,s,a):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):P(t,e,s,r))?w(t,e,s,o,a,c,h):("true-value"===e?t._trueValue=s:"false-value"===e&&(t._falseValue=s),y(t,e,s,r))};function P(t,e,n,s){return s?"innerHTML"===e||"textContent"===e||!!(e in t&&O.test(e)&&(0,i.mf)(n)):"spellcheck"!==e&&"draggable"!==e&&("form"!==e&&(("list"!==e||"INPUT"!==t.tagName)&&(("type"!==e||"TEXTAREA"!==t.tagName)&&((!O.test(e)||!(0,i.HD)(n))&&e in t))))}"undefined"!==typeof HTMLElement&&HTMLElement;const R="transition",M="animation",F=(t,{slots:e})=>(0,s.h)(s.P$,$(t),e);F.displayName="Transition";const B={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},V=(F.props=(0,i.l7)({},s.P$.props,B),(t,e=[])=>{(0,i.kJ)(t)?t.forEach((t=>t(...e))):t&&t(...e)}),j=t=>!!t&&((0,i.kJ)(t)?t.some((t=>t.length>1)):t.length>1);function $(t){const e={};for(const i in t)i in B||(e[i]=t[i]);if(!1===t.css)return e;const{name:n="v",type:s,duration:r,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:u=a,appearToClass:h=c,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,m=U(r),g=m&&m[0],y=m&&m[1],{onBeforeEnter:w,onEnter:v,onEnterCancelled:b,onLeave:_,onLeaveCancelled:E,onBeforeAppear:T=w,onAppear:I=v,onAppearCancelled:A=b}=e,S=(t,e,n)=>{z(t,e?h:c),z(t,e?u:a),n&&n()},x=(t,e)=>{z(t,p),z(t,f),e&&e()},C=t=>(e,n)=>{const i=t?I:v,r=()=>S(e,t,n);V(i,[e,r]),K((()=>{z(e,t?l:o),H(e,t?h:c),j(i)||G(e,s,g,r)}))};return(0,i.l7)(e,{onBeforeEnter(t){V(w,[t]),H(t,o),H(t,a)},onBeforeAppear(t){V(T,[t]),H(t,l),H(t,u)},onEnter:C(!1),onAppear:C(!0),onLeave(t,e){const n=()=>x(t,e);H(t,d),J(),H(t,f),K((()=>{z(t,d),H(t,p),j(_)||G(t,s,y,n)})),V(_,[t,n])},onEnterCancelled(t){S(t,!1),V(b,[t])},onAppearCancelled(t){S(t,!0),V(A,[t])},onLeaveCancelled(t){x(t),V(E,[t])}})}function U(t){if(null==t)return null;if((0,i.Kn)(t))return[q(t.enter),q(t.leave)];{const e=q(t);return[e,e]}}function q(t){const e=(0,i.He)(t);return e}function H(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t._vtc||(t._vtc=new Set)).add(e)}function z(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function K(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let W=0;function G(t,e,n,i){const s=t._endId=++W,r=()=>{s===t._endId&&i()};if(n)return setTimeout(r,n);const{type:o,timeout:a,propCount:c}=Y(t,e);if(!o)return i();const l=o+"end";let u=0;const h=()=>{t.removeEventListener(l,d),r()},d=e=>{e.target===t&&++u>=c&&h()};setTimeout((()=>{u<c&&h()}),a+1),t.addEventListener(l,d)}function Y(t,e){const n=window.getComputedStyle(t),i=t=>(n[t]||"").split(", "),s=i(R+"Delay"),r=i(R+"Duration"),o=Q(s,r),a=i(M+"Delay"),c=i(M+"Duration"),l=Q(a,c);let u=null,h=0,d=0;e===R?o>0&&(u=R,h=o,d=r.length):e===M?l>0&&(u=M,h=l,d=c.length):(h=Math.max(o,l),u=h>0?o>l?R:M:null,d=u?u===R?r.length:c.length:0);const f=u===R&&/\b(transform|all)(,|$)/.test(n[R+"Property"]);return{type:u,timeout:h,propCount:d,hasTransform:f}}function Q(t,e){while(t.length<e.length)t=t.concat(t);return Math.max(...e.map(((e,n)=>X(e)+X(t[n]))))}function X(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function J(){return document.body.offsetHeight}new WeakMap,new WeakMap;const Z=t=>{const e=t.props["onUpdate:modelValue"];return(0,i.kJ)(e)?t=>(0,i.ir)(e,t):e};function tt(t){t.target.composing=!0}function et(t){const e=t.target;e.composing&&(e.composing=!1,nt(e,"input"))}function nt(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}const it={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t._assign=Z(r);const o=s||r.props&&"number"===r.props.type;A(t,e?"change":"input",(e=>{if(e.target.composing)return;let s=t.value;n?s=s.trim():o&&(s=(0,i.He)(s)),t._assign(s)})),n&&A(t,"change",(()=>{t.value=t.value.trim()})),e||(A(t,"compositionstart",tt),A(t,"compositionend",et),A(t,"change",et))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:r}},o){if(t._assign=Z(o),t.composing)return;if(document.activeElement===t){if(n)return;if(s&&t.value.trim()===e)return;if((r||"number"===t.type)&&(0,i.He)(t.value)===e)return}const a=null==e?"":e;t.value!==a&&(t.value=a)}};const st={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=(0,i.DM)(e);A(t,"change",(()=>{const e=Array.prototype.filter.call(t.options,(t=>t.selected)).map((t=>n?(0,i.He)(ot(t)):ot(t)));t._assign(t.multiple?r?new Set(e):e:e[0])})),t._assign=Z(s)},mounted(t,{value:e}){rt(t,e)},beforeUpdate(t,e,n){t._assign=Z(n)},updated(t,{value:e}){rt(t,e)}};function rt(t,e){const n=t.multiple;if(!n||(0,i.kJ)(e)||(0,i.DM)(e)){for(let s=0,r=t.options.length;s<r;s++){const r=t.options[s],o=ot(r);if(n)(0,i.kJ)(e)?r.selected=(0,i.hq)(e,o)>-1:r.selected=e.has(o);else if((0,i.WV)(ot(r),e))return void(t.selectedIndex!==s&&(t.selectedIndex=s))}n||-1===t.selectedIndex||(t.selectedIndex=-1)}}function ot(t){return"_value"in t?t._value:t.value}const at=["ctrl","shift","alt","meta"],ct={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>at.some((n=>t[`${n}Key`]&&!e.includes(n)))},lt=(t,e)=>(n,...i)=>{for(let t=0;t<e.length;t++){const i=ct[e[t]];if(i&&i(n,e))return}return t(n,...i)};const ut=(0,i.l7)({patchProp:L},c);let ht;function dt(){return ht||(ht=(0,s.Us)(ut))}const ft=(...t)=>{const e=dt().createApp(...t);const{mount:n}=e;return e.mount=t=>{const s=pt(t);if(!s)return;const r=e._component;(0,i.mf)(r)||r.render||r.template||(r.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function pt(t){if((0,i.HD)(t)){const e=document.querySelector(t);return e}return t}},7139:function(t,e,n){"use strict";function i(t,e){const n=Object.create(null),i=t.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}n.d(e,{C_:function(){return f},DM:function(){return O},E9:function(){return it},F7:function(){return I},Gg:function(){return H},HD:function(){return R},He:function(){return et},Kn:function(){return F},NO:function(){return E},Nj:function(){return tt},Od:function(){return x},PO:function(){return U},Pq:function(){return a},RI:function(){return k},S0:function(){return q},W7:function(){return $},WV:function(){return m},Z6:function(){return b},_A:function(){return W},_N:function(){return N},aU:function(){return J},dG:function(){return _},e1:function(){return r},fY:function(){return i},hR:function(){return X},hq:function(){return g},ir:function(){return Z},j5:function(){return l},kC:function(){return Q},kJ:function(){return D},kT:function(){return v},l7:function(){return S},mf:function(){return P},rs:function(){return Y},tI:function(){return B},tR:function(){return A},yA:function(){return c},yk:function(){return M},zw:function(){return y}});const s="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",r=i(s);const o="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",a=i(o);function c(t){return!!t||""===t}function l(t){if(D(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=R(i)?d(i):l(i);if(s)for(const t in s)e[t]=s[t]}return e}return R(t)||F(t)?t:void 0}const u=/;(?![^(]*\))/g,h=/:(.+)/;function d(t){const e={};return t.split(u).forEach((t=>{if(t){const n=t.split(h);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function f(t){let e="";if(R(t))e=t;else if(D(t))for(let n=0;n<t.length;n++){const i=f(t[n]);i&&(e+=i+" ")}else if(F(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function p(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=m(t[i],e[i]);return n}function m(t,e){if(t===e)return!0;let n=L(t),i=L(e);if(n||i)return!(!n||!i)&&t.getTime()===e.getTime();if(n=D(t),i=D(e),n||i)return!(!n||!i)&&p(t,e);if(n=F(t),i=F(e),n||i){if(!n||!i)return!1;const s=Object.keys(t).length,r=Object.keys(e).length;if(s!==r)return!1;for(const n in t){const i=t.hasOwnProperty(n),s=e.hasOwnProperty(n);if(i&&!s||!i&&s||!m(t[n],e[n]))return!1}}return String(t)===String(e)}function g(t,e){return t.findIndex((t=>m(t,e)))}const y=t=>R(t)?t:null==t?"":D(t)||F(t)&&(t.toString===V||!P(t.toString))?JSON.stringify(t,w,2):String(t),w=(t,e)=>e&&e.__v_isRef?w(t,e.value):N(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:O(e)?{[`Set(${e.size})`]:[...e.values()]}:!F(e)||D(e)||U(e)?e:String(e),v={},b=[],_=()=>{},E=()=>!1,T=/^on[^a-z]/,I=t=>T.test(t),A=t=>t.startsWith("onUpdate:"),S=Object.assign,x=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},C=Object.prototype.hasOwnProperty,k=(t,e)=>C.call(t,e),D=Array.isArray,N=t=>"[object Map]"===j(t),O=t=>"[object Set]"===j(t),L=t=>t instanceof Date,P=t=>"function"===typeof t,R=t=>"string"===typeof t,M=t=>"symbol"===typeof t,F=t=>null!==t&&"object"===typeof t,B=t=>F(t)&&P(t.then)&&P(t.catch),V=Object.prototype.toString,j=t=>V.call(t),$=t=>j(t).slice(8,-1),U=t=>"[object Object]"===j(t),q=t=>R(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,H=i(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),z=t=>{const e=Object.create(null);return n=>{const i=e[n];return i||(e[n]=t(n))}},K=/-(\w)/g,W=z((t=>t.replace(K,((t,e)=>e?e.toUpperCase():"")))),G=/\B([A-Z])/g,Y=z((t=>t.replace(G,"-$1").toLowerCase())),Q=z((t=>t.charAt(0).toUpperCase()+t.slice(1))),X=z((t=>t?`on${Q(t)}`:"")),J=(t,e)=>!Object.is(t,e),Z=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},tt=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},et=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let nt;const it=()=>nt||(nt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{})},6744:function(t,e,n){n(1703),function(e,n){t.exports=n()}(0,(function(){"use strict";const t="transitionend",e=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&"#"!==n?n.trim():null}return e},n=t=>{const n=e(t);return n&&document.querySelector(n)?n:null},i=t=>{const n=e(t);return n?document.querySelector(n):null},s=e=>{e.dispatchEvent(new Event(t))},r=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),o=t=>r(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(t):null,a=(t,e,n)=>{Object.keys(n).forEach((i=>{const s=n[i],o=e[i],a=o&&r(o)?"element":null==(c=o)?`${c}`:{}.toString.call(c).match(/\s([a-z]+)/i)[1].toLowerCase();var c;if(!new RegExp(s).test(a))throw new TypeError(`${t.toUpperCase()}: Option "${i}" provided type "${a}" but expected type "${s}".`)}))},c=t=>!(!r(t)||0===t.getClientRects().length)&&"visible"===getComputedStyle(t).getPropertyValue("visibility"),l=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),u=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?u(t.parentNode):null},h=()=>{},d=t=>{t.offsetHeight},f=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},p=[],m=()=>"rtl"===document.documentElement.dir,g=t=>{var e;e=()=>{const e=f();if(e){const n=t.NAME,i=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=i,t.jQueryInterface)}},"loading"===document.readyState?(p.length||document.addEventListener("DOMContentLoaded",(()=>{p.forEach((t=>t()))})),p.push(e)):e()},y=t=>{"function"==typeof t&&t()},w=(e,n,i=!0)=>{if(!i)return void y(e);const r=(t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const i=Number.parseFloat(e),s=Number.parseFloat(n);return i||s?(e=e.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(n))):0})(n)+5;let o=!1;const a=({target:i})=>{i===n&&(o=!0,n.removeEventListener(t,a),y(e))};n.addEventListener(t,a),setTimeout((()=>{o||s(n)}),r)},v=(t,e,n,i)=>{let s=t.indexOf(e);if(-1===s)return t[!n&&i?t.length-1:0];const r=t.length;return s+=n?1:-1,i&&(s=(s+r)%r),t[Math.max(0,Math.min(s,r-1))]},b=/[^.]*(?=\..*)\.|.*/,_=/\..*/,E=/::\d+$/,T={};let I=1;const A={mouseenter:"mouseover",mouseleave:"mouseout"},S=/^(mouseenter|mouseleave)/i,x=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function C(t,e){return e&&`${e}::${I++}`||t.uidEvent||I++}function k(t){const e=C(t);return t.uidEvent=e,T[e]=T[e]||{},T[e]}function D(t,e,n=null){const i=Object.keys(t);for(let s=0,r=i.length;s<r;s++){const r=t[i[s]];if(r.originalHandler===e&&r.delegationSelector===n)return r}return null}function N(t,e,n){const i="string"==typeof e,s=i?n:e;let r=P(t);return x.has(r)||(r=t),[i,s,r]}function O(t,e,n,i,s){if("string"!=typeof e||!t)return;if(n||(n=i,i=null),S.test(e)){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};i?i=t(i):n=t(n)}const[r,o,a]=N(e,n,i),c=k(t),l=c[a]||(c[a]={}),u=D(l,o,r?n:null);if(u)return void(u.oneOff=u.oneOff&&s);const h=C(o,e.replace(b,"")),d=r?function(t,e,n){return function i(s){const r=t.querySelectorAll(e);for(let{target:o}=s;o&&o!==this;o=o.parentNode)for(let a=r.length;a--;)if(r[a]===o)return s.delegateTarget=o,i.oneOff&&R.off(t,s.type,e,n),n.apply(o,[s]);return null}}(t,n,i):function(t,e){return function n(i){return i.delegateTarget=t,n.oneOff&&R.off(t,i.type,e),e.apply(t,[i])}}(t,n);d.delegationSelector=r?n:null,d.originalHandler=o,d.oneOff=s,d.uidEvent=h,l[h]=d,t.addEventListener(a,d,r)}function L(t,e,n,i,s){const r=D(e[n],i,s);r&&(t.removeEventListener(n,r,Boolean(s)),delete e[n][r.uidEvent])}function P(t){return t=t.replace(_,""),A[t]||t}const R={on(t,e,n,i){O(t,e,n,i,!1)},one(t,e,n,i){O(t,e,n,i,!0)},off(t,e,n,i){if("string"!=typeof e||!t)return;const[s,r,o]=N(e,n,i),a=o!==e,c=k(t),l=e.startsWith(".");if(void 0!==r){if(!c||!c[o])return;return void L(t,c,o,r,s?n:null)}l&&Object.keys(c).forEach((n=>{!function(t,e,n,i){const s=e[n]||{};Object.keys(s).forEach((r=>{if(r.includes(i)){const i=s[r];L(t,e,n,i.originalHandler,i.delegationSelector)}}))}(t,c,n,e.slice(1))}));const u=c[o]||{};Object.keys(u).forEach((n=>{const i=n.replace(E,"");if(!a||e.includes(i)){const e=u[n];L(t,c,o,e.originalHandler,e.delegationSelector)}}))},trigger(t,e,n){if("string"!=typeof e||!t)return null;const i=f(),s=P(e),r=e!==s,o=x.has(s);let a,c=!0,l=!0,u=!1,h=null;return r&&i&&(a=i.Event(e,n),i(t).trigger(a),c=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),u=a.isDefaultPrevented()),o?(h=document.createEvent("HTMLEvents"),h.initEvent(s,c,!0)):h=new CustomEvent(e,{bubbles:c,cancelable:!0}),void 0!==n&&Object.keys(n).forEach((t=>{Object.defineProperty(h,t,{get:()=>n[t]})})),u&&h.preventDefault(),l&&t.dispatchEvent(h),h.defaultPrevented&&void 0!==a&&a.preventDefault(),h}},M=new Map,F={set(t,e,n){M.has(t)||M.set(t,new Map);const i=M.get(t);i.has(e)||0===i.size?i.set(e,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(t,e)=>M.has(t)&&M.get(t).get(e)||null,remove(t,e){if(!M.has(t))return;const n=M.get(t);n.delete(e),0===n.size&&M.delete(t)}};class B{constructor(t){(t=o(t))&&(this._element=t,F.set(this._element,this.constructor.DATA_KEY,this))}dispose(){F.remove(this._element,this.constructor.DATA_KEY),R.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach((t=>{this[t]=null}))}_queueCallback(t,e,n=!0){w(t,e,n)}static getInstance(t){return F.get(o(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.1.3"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const V=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,s=t.NAME;R.on(document,n,`[data-bs-dismiss="${s}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),l(this))return;const r=i(this)||this.closest(`.${s}`);t.getOrCreateInstance(r)[e]()}))};class j extends B{static get NAME(){return"alert"}close(){if(R.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,t)}_destroyElement(){this._element.remove(),R.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(t){return this.each((function(){const e=j.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}V(j,"close"),g(j);const $='[data-bs-toggle="button"]';class U extends B{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each((function(){const e=U.getOrCreateInstance(this);"toggle"===t&&e[t]()}))}}function q(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function H(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}R.on(document,"click.bs.button.data-api",$,(t=>{t.preventDefault();const e=t.target.closest($);U.getOrCreateInstance(e).toggle()})),g(U);const z={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${H(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${H(e)}`)},getDataAttributes(t){if(!t)return{};const e={};return Object.keys(t.dataset).filter((t=>t.startsWith("bs"))).forEach((n=>{let i=n.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=q(t.dataset[n])})),e},getDataAttribute:(t,e)=>q(t.getAttribute(`data-bs-${H(e)}`)),offset(t){const e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}},position:t=>({top:t.offsetTop,left:t.offsetLeft})},K={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter((t=>t.matches(e))),parents(t,e){const n=[];let i=t.parentNode;for(;i&&i.nodeType===Node.ELEMENT_NODE&&3!==i.nodeType;)i.matches(e)&&n.push(i),i=i.parentNode;return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((t=>`${t}:not([tabindex^="-"])`)).join(", ");return this.find(e,t).filter((t=>!l(t)&&c(t)))}},W="carousel",G={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Y={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Q="next",X="prev",J="left",Z="right",tt={ArrowLeft:Z,ArrowRight:J},et="slid.bs.carousel",nt="active",it=".active.carousel-item";class st extends B{constructor(t,e){super(t),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._indicatorsElement=K.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return G}static get NAME(){return W}next(){this._slide(Q)}nextWhenVisible(){!document.hidden&&c(this._element)&&this.next()}prev(){this._slide(X)}pause(t){t||(this._isPaused=!0),K.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(s(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(t){this._activeElement=K.findOne(it,this._element);const e=this._getItemIndex(this._activeElement);if(t>this._items.length-1||t<0)return;if(this._isSliding)return void R.one(this._element,et,(()=>this.to(t)));if(e===t)return this.pause(),void this.cycle();const n=t>e?Q:X;this._slide(n,this._items[t])}_getConfig(t){return t={...G,...z.getDataAttributes(this._element),..."object"==typeof t?t:{}},a(W,t,Y),t}_handleSwipe(){const t=Math.abs(this.touchDeltaX);if(t<=40)return;const e=t/this.touchDeltaX;this.touchDeltaX=0,e&&this._slide(e>0?Z:J)}_addEventListeners(){this._config.keyboard&&R.on(this._element,"keydown.bs.carousel",(t=>this._keydown(t))),"hover"===this._config.pause&&(R.on(this._element,"mouseenter.bs.carousel",(t=>this.pause(t))),R.on(this._element,"mouseleave.bs.carousel",(t=>this.cycle(t)))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const t=t=>this._pointerEvent&&("pen"===t.pointerType||"touch"===t.pointerType),e=e=>{t(e)?this.touchStartX=e.clientX:this._pointerEvent||(this.touchStartX=e.touches[0].clientX)},n=t=>{this.touchDeltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this.touchStartX},i=e=>{t(e)&&(this.touchDeltaX=e.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((t=>this.cycle(t)),500+this._config.interval))};K.find(".carousel-item img",this._element).forEach((t=>{R.on(t,"dragstart.bs.carousel",(t=>t.preventDefault()))})),this._pointerEvent?(R.on(this._element,"pointerdown.bs.carousel",(t=>e(t))),R.on(this._element,"pointerup.bs.carousel",(t=>i(t))),this._element.classList.add("pointer-event")):(R.on(this._element,"touchstart.bs.carousel",(t=>e(t))),R.on(this._element,"touchmove.bs.carousel",(t=>n(t))),R.on(this._element,"touchend.bs.carousel",(t=>i(t))))}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=tt[t.key];e&&(t.preventDefault(),this._slide(e))}_getItemIndex(t){return this._items=t&&t.parentNode?K.find(".carousel-item",t.parentNode):[],this._items.indexOf(t)}_getItemByOrder(t,e){const n=t===Q;return v(this._items,e,n,this._config.wrap)}_triggerSlideEvent(t,e){const n=this._getItemIndex(t),i=this._getItemIndex(K.findOne(it,this._element));return R.trigger(this._element,"slide.bs.carousel",{relatedTarget:t,direction:e,from:i,to:n})}_setActiveIndicatorElement(t){if(this._indicatorsElement){const e=K.findOne(".active",this._indicatorsElement);e.classList.remove(nt),e.removeAttribute("aria-current");const n=K.find("[data-bs-target]",this._indicatorsElement);for(let i=0;i<n.length;i++)if(Number.parseInt(n[i].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(t)){n[i].classList.add(nt),n[i].setAttribute("aria-current","true");break}}}_updateInterval(){const t=this._activeElement||K.findOne(it,this._element);if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);e?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(t,e){const n=this._directionToOrder(t),i=K.findOne(it,this._element),s=this._getItemIndex(i),r=e||this._getItemByOrder(n,i),o=this._getItemIndex(r),a=Boolean(this._interval),c=n===Q,l=c?"carousel-item-start":"carousel-item-end",u=c?"carousel-item-next":"carousel-item-prev",h=this._orderToDirection(n);if(r&&r.classList.contains(nt))return void(this._isSliding=!1);if(this._isSliding)return;if(this._triggerSlideEvent(r,h).defaultPrevented)return;if(!i||!r)return;this._isSliding=!0,a&&this.pause(),this._setActiveIndicatorElement(r),this._activeElement=r;const f=()=>{R.trigger(this._element,et,{relatedTarget:r,direction:h,from:s,to:o})};if(this._element.classList.contains("slide")){r.classList.add(u),d(r),i.classList.add(l),r.classList.add(l);const t=()=>{r.classList.remove(l,u),r.classList.add(nt),i.classList.remove(nt,u,l),this._isSliding=!1,setTimeout(f,0)};this._queueCallback(t,i,!0)}else i.classList.remove(nt),r.classList.add(nt),this._isSliding=!1,f();a&&this.cycle()}_directionToOrder(t){return[Z,J].includes(t)?m()?t===J?X:Q:t===J?Q:X:t}_orderToDirection(t){return[Q,X].includes(t)?m()?t===X?J:Z:t===X?Z:J:t}static carouselInterface(t,e){const n=st.getOrCreateInstance(t,e);let{_config:i}=n;"object"==typeof e&&(i={...i,...e});const s="string"==typeof e?e:i.slide;if("number"==typeof e)n.to(e);else if("string"==typeof s){if(void 0===n[s])throw new TypeError(`No method named "${s}"`);n[s]()}else i.interval&&i.ride&&(n.pause(),n.cycle())}static jQueryInterface(t){return this.each((function(){st.carouselInterface(this,t)}))}static dataApiClickHandler(t){const e=i(this);if(!e||!e.classList.contains("carousel"))return;const n={...z.getDataAttributes(e),...z.getDataAttributes(this)},s=this.getAttribute("data-bs-slide-to");s&&(n.interval=!1),st.carouselInterface(e,n),s&&st.getInstance(e).to(s),t.preventDefault()}}R.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",st.dataApiClickHandler),R.on(window,"load.bs.carousel.data-api",(()=>{const t=K.find('[data-bs-ride="carousel"]');for(let e=0,n=t.length;e<n;e++)st.carouselInterface(t[e],st.getInstance(t[e]))})),g(st);const rt="collapse",ot={toggle:!0,parent:null},at={toggle:"boolean",parent:"(null|element)"},ct="show",lt="collapse",ut="collapsing",ht="collapsed",dt=":scope .collapse .collapse",ft='[data-bs-toggle="collapse"]';class pt extends B{constructor(t,e){super(t),this._isTransitioning=!1,this._config=this._getConfig(e),this._triggerArray=[];const i=K.find(ft);for(let s=0,r=i.length;s<r;s++){const t=i[s],e=n(t),r=K.find(e).filter((t=>t===this._element));null!==e&&r.length&&(this._selector=e,this._triggerArray.push(t))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ot}static get NAME(){return rt}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t,e=[];if(this._config.parent){const t=K.find(dt,this._config.parent);e=K.find(".collapse.show, .collapse.collapsing",this._config.parent).filter((e=>!t.includes(e)))}const n=K.findOne(this._selector);if(e.length){const i=e.find((t=>n!==t));if(t=i?pt.getInstance(i):null,t&&t._isTransitioning)return}if(R.trigger(this._element,"show.bs.collapse").defaultPrevented)return;e.forEach((e=>{n!==e&&pt.getOrCreateInstance(e,{toggle:!1}).hide(),t||F.set(e,"bs.collapse",null)}));const i=this._getDimension();this._element.classList.remove(lt),this._element.classList.add(ut),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const s=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(ut),this._element.classList.add(lt,ct),this._element.style[i]="",R.trigger(this._element,"shown.bs.collapse")}),this._element,!0),this._element.style[i]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(R.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,d(this._element),this._element.classList.add(ut),this._element.classList.remove(lt,ct);const e=this._triggerArray.length;for(let n=0;n<e;n++){const t=this._triggerArray[n],e=i(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(ut),this._element.classList.add(lt),R.trigger(this._element,"hidden.bs.collapse")}),this._element,!0)}_isShown(t=this._element){return t.classList.contains(ct)}_getConfig(t){return(t={...ot,...z.getDataAttributes(this._element),...t}).toggle=Boolean(t.toggle),t.parent=o(t.parent),a(rt,t,at),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=K.find(dt,this._config.parent);K.find(ft,this._config.parent).filter((e=>!t.includes(e))).forEach((t=>{const e=i(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}))}_addAriaAndCollapsedClass(t,e){t.length&&t.forEach((t=>{e?t.classList.remove(ht):t.classList.add(ht),t.setAttribute("aria-expanded",e)}))}static jQueryInterface(t){return this.each((function(){const e={};"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1);const n=pt.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}}))}}R.on(document,"click.bs.collapse.data-api",ft,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();const e=n(this);K.find(e).forEach((t=>{pt.getOrCreateInstance(t,{toggle:!1}).toggle()}))})),g(pt);var mt="top",gt="bottom",yt="right",wt="left",vt="auto",bt=[mt,gt,yt,wt],_t="start",Et="end",Tt="clippingParents",It="viewport",At="popper",St="reference",xt=bt.reduce((function(t,e){return t.concat([e+"-"+_t,e+"-"+Et])}),[]),Ct=[].concat(bt,[vt]).reduce((function(t,e){return t.concat([e,e+"-"+_t,e+"-"+Et])}),[]),kt="beforeRead",Dt="read",Nt="afterRead",Ot="beforeMain",Lt="main",Pt="afterMain",Rt="beforeWrite",Mt="write",Ft="afterWrite",Bt=[kt,Dt,Nt,Ot,Lt,Pt,Rt,Mt,Ft];function Vt(t){return t?(t.nodeName||"").toLowerCase():null}function jt(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function $t(t){return t instanceof jt(t).Element||t instanceof Element}function Ut(t){return t instanceof jt(t).HTMLElement||t instanceof HTMLElement}function qt(t){return"undefined"!=typeof ShadowRoot&&(t instanceof jt(t).ShadowRoot||t instanceof ShadowRoot)}const Ht={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];Ut(s)&&Vt(s)&&(Object.assign(s.style,n),Object.keys(i).forEach((function(t){var e=i[t];!1===e?s.removeAttribute(t):s.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var i=e.elements[t],s=e.attributes[t]||{},r=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});Ut(i)&&Vt(i)&&(Object.assign(i.style,r),Object.keys(s).forEach((function(t){i.removeAttribute(t)})))}))}},requires:["computeStyles"]};function zt(t){return t.split("-")[0]}function Kt(t,e){var n=t.getBoundingClientRect();return{width:n.width/1,height:n.height/1,top:n.top/1,right:n.right/1,bottom:n.bottom/1,left:n.left/1,x:n.left/1,y:n.top/1}}function Wt(t){var e=Kt(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function Gt(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&qt(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Yt(t){return jt(t).getComputedStyle(t)}function Qt(t){return["table","td","th"].indexOf(Vt(t))>=0}function Xt(t){return(($t(t)?t.ownerDocument:t.document)||window.document).documentElement}function Jt(t){return"html"===Vt(t)?t:t.assignedSlot||t.parentNode||(qt(t)?t.host:null)||Xt(t)}function Zt(t){return Ut(t)&&"fixed"!==Yt(t).position?t.offsetParent:null}function te(t){for(var e=jt(t),n=Zt(t);n&&Qt(n)&&"static"===Yt(n).position;)n=Zt(n);return n&&("html"===Vt(n)||"body"===Vt(n)&&"static"===Yt(n).position)?e:n||function(t){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Ut(t)&&"fixed"===Yt(t).position)return null;for(var n=Jt(t);Ut(n)&&["html","body"].indexOf(Vt(n))<0;){var i=Yt(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||e&&"filter"===i.willChange||e&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(t)||e}function ee(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}var ne=Math.max,ie=Math.min,se=Math.round;function re(t,e,n){return ne(t,ie(e,n))}function oe(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function ae(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}const ce={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,i=t.name,s=t.options,r=n.elements.arrow,o=n.modifiersData.popperOffsets,a=zt(n.placement),c=ee(a),l=[wt,yt].indexOf(a)>=0?"height":"width";if(r&&o){var u=function(t,e){return oe("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:ae(t,bt))}(s.padding,n),h=Wt(r),d="y"===c?mt:wt,f="y"===c?gt:yt,p=n.rects.reference[l]+n.rects.reference[c]-o[c]-n.rects.popper[l],m=o[c]-n.rects.reference[c],g=te(r),y=g?"y"===c?g.clientHeight||0:g.clientWidth||0:0,w=p/2-m/2,v=u[d],b=y-h[l]-u[f],_=y/2-h[l]/2+w,E=re(v,_,b),T=c;n.modifiersData[i]=((e={})[T]=E,e.centerOffset=E-_,e)}},effect:function(t){var e=t.state,n=t.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=e.elements.popper.querySelector(i)))&&Gt(e.elements.popper,i)&&(e.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function le(t){return t.split("-")[1]}var ue={top:"auto",right:"auto",bottom:"auto",left:"auto"};function he(t){var e,n=t.popper,i=t.popperRect,s=t.placement,r=t.variation,o=t.offsets,a=t.position,c=t.gpuAcceleration,l=t.adaptive,u=t.roundOffsets,h=!0===u?function(t){var e=t.x,n=t.y,i=window.devicePixelRatio||1;return{x:se(se(e*i)/i)||0,y:se(se(n*i)/i)||0}}(o):"function"==typeof u?u(o):o,d=h.x,f=void 0===d?0:d,p=h.y,m=void 0===p?0:p,g=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),w=wt,v=mt,b=window;if(l){var _=te(n),E="clientHeight",T="clientWidth";_===jt(n)&&"static"!==Yt(_=Xt(n)).position&&"absolute"===a&&(E="scrollHeight",T="scrollWidth"),_=_,s!==mt&&(s!==wt&&s!==yt||r!==Et)||(v=gt,m-=_[E]-i.height,m*=c?1:-1),s!==wt&&(s!==mt&&s!==gt||r!==Et)||(w=yt,f-=_[T]-i.width,f*=c?1:-1)}var I,A=Object.assign({position:a},l&&ue);return c?Object.assign({},A,((I={})[v]=y?"0":"",I[w]=g?"0":"",I.transform=(b.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",I)):Object.assign({},A,((e={})[v]=y?m+"px":"",e[w]=g?f+"px":"",e.transform="",e))}const de={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,i=n.gpuAcceleration,s=void 0===i||i,r=n.adaptive,o=void 0===r||r,a=n.roundOffsets,c=void 0===a||a,l={placement:zt(e.placement),variation:le(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,he(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,he(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var fe={passive:!0};const pe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,i=t.options,s=i.scroll,r=void 0===s||s,o=i.resize,a=void 0===o||o,c=jt(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&l.forEach((function(t){t.addEventListener("scroll",n.update,fe)})),a&&c.addEventListener("resize",n.update,fe),function(){r&&l.forEach((function(t){t.removeEventListener("scroll",n.update,fe)})),a&&c.removeEventListener("resize",n.update,fe)}},data:{}};var me={left:"right",right:"left",bottom:"top",top:"bottom"};function ge(t){return t.replace(/left|right|bottom|top/g,(function(t){return me[t]}))}var ye={start:"end",end:"start"};function we(t){return t.replace(/start|end/g,(function(t){return ye[t]}))}function ve(t){var e=jt(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function be(t){return Kt(Xt(t)).left+ve(t).scrollLeft}function _e(t){var e=Yt(t),n=e.overflow,i=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+i)}function Ee(t){return["html","body","#document"].indexOf(Vt(t))>=0?t.ownerDocument.body:Ut(t)&&_e(t)?t:Ee(Jt(t))}function Te(t,e){var n;void 0===e&&(e=[]);var i=Ee(t),s=i===(null==(n=t.ownerDocument)?void 0:n.body),r=jt(i),o=s?[r].concat(r.visualViewport||[],_e(i)?i:[]):i,a=e.concat(o);return s?a:a.concat(Te(Jt(o)))}function Ie(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Ae(t,e){return e===It?Ie(function(t){var e=jt(t),n=Xt(t),i=e.visualViewport,s=n.clientWidth,r=n.clientHeight,o=0,a=0;return i&&(s=i.width,r=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=i.offsetLeft,a=i.offsetTop)),{width:s,height:r,x:o+be(t),y:a}}(t)):Ut(e)?function(t){var e=Kt(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(e):Ie(function(t){var e,n=Xt(t),i=ve(t),s=null==(e=t.ownerDocument)?void 0:e.body,r=ne(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=ne(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+be(t),c=-i.scrollTop;return"rtl"===Yt(s||n).direction&&(a+=ne(n.clientWidth,s?s.clientWidth:0)-r),{width:r,height:o,x:a,y:c}}(Xt(t)))}function Se(t){var e,n=t.reference,i=t.element,s=t.placement,r=s?zt(s):null,o=s?le(s):null,a=n.x+n.width/2-i.width/2,c=n.y+n.height/2-i.height/2;switch(r){case mt:e={x:a,y:n.y-i.height};break;case gt:e={x:a,y:n.y+n.height};break;case yt:e={x:n.x+n.width,y:c};break;case wt:e={x:n.x-i.width,y:c};break;default:e={x:n.x,y:n.y}}var l=r?ee(r):null;if(null!=l){var u="y"===l?"height":"width";switch(o){case _t:e[l]=e[l]-(n[u]/2-i[u]/2);break;case Et:e[l]=e[l]+(n[u]/2-i[u]/2)}}return e}function xe(t,e){void 0===e&&(e={});var n=e,i=n.placement,s=void 0===i?t.placement:i,r=n.boundary,o=void 0===r?Tt:r,a=n.rootBoundary,c=void 0===a?It:a,l=n.elementContext,u=void 0===l?At:l,h=n.altBoundary,d=void 0!==h&&h,f=n.padding,p=void 0===f?0:f,m=oe("number"!=typeof p?p:ae(p,bt)),g=u===At?St:At,y=t.rects.popper,w=t.elements[d?g:u],v=function(t,e,n){var i="clippingParents"===e?function(t){var e=Te(Jt(t)),n=["absolute","fixed"].indexOf(Yt(t).position)>=0&&Ut(t)?te(t):t;return $t(n)?e.filter((function(t){return $t(t)&&Gt(t,n)&&"body"!==Vt(t)})):[]}(t):[].concat(e),s=[].concat(i,[n]),r=s[0],o=s.reduce((function(e,n){var i=Ae(t,n);return e.top=ne(i.top,e.top),e.right=ie(i.right,e.right),e.bottom=ie(i.bottom,e.bottom),e.left=ne(i.left,e.left),e}),Ae(t,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}($t(w)?w:w.contextElement||Xt(t.elements.popper),o,c),b=Kt(t.elements.reference),_=Se({reference:b,element:y,strategy:"absolute",placement:s}),E=Ie(Object.assign({},y,_)),T=u===At?E:b,I={top:v.top-T.top+m.top,bottom:T.bottom-v.bottom+m.bottom,left:v.left-T.left+m.left,right:T.right-v.right+m.right},A=t.modifiersData.offset;if(u===At&&A){var S=A[s];Object.keys(I).forEach((function(t){var e=[yt,gt].indexOf(t)>=0?1:-1,n=[mt,gt].indexOf(t)>=0?"y":"x";I[t]+=S[n]*e}))}return I}function Ce(t,e){void 0===e&&(e={});var n=e,i=n.placement,s=n.boundary,r=n.rootBoundary,o=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?Ct:c,u=le(i),h=u?a?xt:xt.filter((function(t){return le(t)===u})):bt,d=h.filter((function(t){return l.indexOf(t)>=0}));0===d.length&&(d=h);var f=d.reduce((function(e,n){return e[n]=xe(t,{placement:n,boundary:s,rootBoundary:r,padding:o})[zt(n)],e}),{});return Object.keys(f).sort((function(t,e){return f[t]-f[e]}))}const ke={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var s=n.mainAxis,r=void 0===s||s,o=n.altAxis,a=void 0===o||o,c=n.fallbackPlacements,l=n.padding,u=n.boundary,h=n.rootBoundary,d=n.altBoundary,f=n.flipVariations,p=void 0===f||f,m=n.allowedAutoPlacements,g=e.options.placement,y=zt(g),w=c||(y!==g&&p?function(t){if(zt(t)===vt)return[];var e=ge(t);return[we(t),e,we(e)]}(g):[ge(g)]),v=[g].concat(w).reduce((function(t,n){return t.concat(zt(n)===vt?Ce(e,{placement:n,boundary:u,rootBoundary:h,padding:l,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),b=e.rects.reference,_=e.rects.popper,E=new Map,T=!0,I=v[0],A=0;A<v.length;A++){var S=v[A],x=zt(S),C=le(S)===_t,k=[mt,gt].indexOf(x)>=0,D=k?"width":"height",N=xe(e,{placement:S,boundary:u,rootBoundary:h,altBoundary:d,padding:l}),O=k?C?yt:wt:C?gt:mt;b[D]>_[D]&&(O=ge(O));var L=ge(O),P=[];if(r&&P.push(N[x]<=0),a&&P.push(N[O]<=0,N[L]<=0),P.every((function(t){return t}))){I=S,T=!1;break}E.set(S,P)}if(T)for(var R=function(t){var e=v.find((function(e){var n=E.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return I=e,"break"},M=p?3:1;M>0&&"break"!==R(M);M--);e.placement!==I&&(e.modifiersData[i]._skip=!0,e.placement=I,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function De(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Ne(t){return[mt,yt,gt,wt].some((function(e){return t[e]>=0}))}const Oe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,i=e.rects.reference,s=e.rects.popper,r=e.modifiersData.preventOverflow,o=xe(e,{elementContext:"reference"}),a=xe(e,{altBoundary:!0}),c=De(o,i),l=De(a,s,r),u=Ne(c),h=Ne(l);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}},Le={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,i=t.name,s=n.offset,r=void 0===s?[0,0]:s,o=Ct.reduce((function(t,n){return t[n]=function(t,e,n){var i=zt(t),s=[wt,mt].indexOf(i)>=0?-1:1,r="function"==typeof n?n(Object.assign({},e,{placement:t})):n,o=r[0],a=r[1];return o=o||0,a=(a||0)*s,[wt,yt].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}(n,e.rects,r),t}),{}),a=o[e.placement],c=a.x,l=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[i]=o}},Pe={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=Se({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},Re={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,i=t.name,s=n.mainAxis,r=void 0===s||s,o=n.altAxis,a=void 0!==o&&o,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,h=n.padding,d=n.tether,f=void 0===d||d,p=n.tetherOffset,m=void 0===p?0:p,g=xe(e,{boundary:c,rootBoundary:l,padding:h,altBoundary:u}),y=zt(e.placement),w=le(e.placement),v=!w,b=ee(y),_="x"===b?"y":"x",E=e.modifiersData.popperOffsets,T=e.rects.reference,I=e.rects.popper,A="function"==typeof m?m(Object.assign({},e.rects,{placement:e.placement})):m,S={x:0,y:0};if(E){if(r||a){var x="y"===b?mt:wt,C="y"===b?gt:yt,k="y"===b?"height":"width",D=E[b],N=E[b]+g[x],O=E[b]-g[C],L=f?-I[k]/2:0,P=w===_t?T[k]:I[k],R=w===_t?-I[k]:-T[k],M=e.elements.arrow,F=f&&M?Wt(M):{width:0,height:0},B=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},V=B[x],j=B[C],$=re(0,T[k],F[k]),U=v?T[k]/2-L-$-V-A:P-$-V-A,q=v?-T[k]/2+L+$+j+A:R+$+j+A,H=e.elements.arrow&&te(e.elements.arrow),z=H?"y"===b?H.clientTop||0:H.clientLeft||0:0,K=e.modifiersData.offset?e.modifiersData.offset[e.placement][b]:0,W=E[b]+U-K-z,G=E[b]+q-K;if(r){var Y=re(f?ie(N,W):N,D,f?ne(O,G):O);E[b]=Y,S[b]=Y-D}if(a){var Q="x"===b?mt:wt,X="x"===b?gt:yt,J=E[_],Z=J+g[Q],tt=J-g[X],et=re(f?ie(Z,W):Z,J,f?ne(tt,G):tt);E[_]=et,S[_]=et-J}}e.modifiersData[i]=S}},requiresIfExists:["offset"]};function Me(t,e,n){void 0===n&&(n=!1);var i=Ut(e);Ut(e)&&function(t){var e=t.getBoundingClientRect();e.width,t.offsetWidth,e.height,t.offsetHeight}(e);var s,r,o=Xt(e),a=Kt(t),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&(("body"!==Vt(e)||_e(o))&&(c=(s=e)!==jt(s)&&Ut(s)?{scrollLeft:(r=s).scrollLeft,scrollTop:r.scrollTop}:ve(s)),Ut(e)?((l=Kt(e)).x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=be(o))),{x:a.left+c.scrollLeft-l.x,y:a.top+c.scrollTop-l.y,width:a.width,height:a.height}}function Fe(t){var e=new Map,n=new Set,i=[];function s(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var i=e.get(t);i&&s(i)}})),i.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||s(t)})),i}var Be={placement:"bottom",modifiers:[],strategy:"absolute"};function Ve(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function je(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,i=void 0===n?[]:n,s=e.defaultOptions,r=void 0===s?Be:s;return function(t,e,n){void 0===n&&(n=r);var s,o,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},Be,r),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},c=[],l=!1,u={state:a,setOptions:function(n){var s="function"==typeof n?n(a.options):n;h(),a.options=Object.assign({},r,a.options,s),a.scrollParents={reference:$t(t)?Te(t):t.contextElement?Te(t.contextElement):[],popper:Te(e)};var o,l,d=function(t){var e=Fe(t);return Bt.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}((o=[].concat(i,a.options.modifiers),l=o.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{}),Object.keys(l).map((function(t){return l[t]}))));return a.orderedModifiers=d.filter((function(t){return t.enabled})),a.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,i=void 0===n?{}:n,s=t.effect;if("function"==typeof s){var r=s({state:a,name:e,instance:u,options:i});c.push(r||function(){})}})),u.update()},forceUpdate:function(){if(!l){var t=a.elements,e=t.reference,n=t.popper;if(Ve(e,n)){a.rects={reference:Me(e,te(n),"fixed"===a.options.strategy),popper:Wt(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(t){return a.modifiersData[t.name]=Object.assign({},t.data)}));for(var i=0;i<a.orderedModifiers.length;i++)if(!0!==a.reset){var s=a.orderedModifiers[i],r=s.fn,o=s.options,c=void 0===o?{}:o,h=s.name;"function"==typeof r&&(a=r({state:a,options:c,name:h,instance:u})||a)}else a.reset=!1,i=-1}}},update:(s=function(){return new Promise((function(t){u.forceUpdate(),t(a)}))},function(){return o||(o=new Promise((function(t){Promise.resolve().then((function(){o=void 0,t(s())}))}))),o}),destroy:function(){h(),l=!0}};if(!Ve(t,e))return u;function h(){c.forEach((function(t){return t()})),c=[]}return u.setOptions(n).then((function(t){!l&&n.onFirstUpdate&&n.onFirstUpdate(t)})),u}}var $e=je(),Ue=je({defaultModifiers:[pe,Pe,de,Ht]}),qe=je({defaultModifiers:[pe,Pe,de,Ht,Le,ke,Re,ce,Oe]});const He=Object.freeze({__proto__:null,popperGenerator:je,detectOverflow:xe,createPopperBase:$e,createPopper:qe,createPopperLite:Ue,top:mt,bottom:gt,right:yt,left:wt,auto:vt,basePlacements:bt,start:_t,end:Et,clippingParents:Tt,viewport:It,popper:At,reference:St,variationPlacements:xt,placements:Ct,beforeRead:kt,read:Dt,afterRead:Nt,beforeMain:Ot,main:Lt,afterMain:Pt,beforeWrite:Rt,write:Mt,afterWrite:Ft,modifierPhases:Bt,applyStyles:Ht,arrow:ce,computeStyles:de,eventListeners:pe,flip:ke,hide:Oe,offset:Le,popperOffsets:Pe,preventOverflow:Re}),ze="dropdown",Ke="Escape",We="Space",Ge="ArrowUp",Ye="ArrowDown",Qe=new RegExp("ArrowUp|ArrowDown|Escape"),Xe="click.bs.dropdown.data-api",Je="keydown.bs.dropdown.data-api",Ze="show",tn='[data-bs-toggle="dropdown"]',en=".dropdown-menu",nn=m()?"top-end":"top-start",sn=m()?"top-start":"top-end",rn=m()?"bottom-end":"bottom-start",on=m()?"bottom-start":"bottom-end",an=m()?"left-start":"right-start",cn=m()?"right-start":"left-start",ln={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},un={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class hn extends B{constructor(t,e){super(t),this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return ln}static get DefaultType(){return un}static get NAME(){return ze}toggle(){return this._isShown()?this.hide():this.show()}show(){if(l(this._element)||this._isShown(this._menu))return;const t={relatedTarget:this._element};if(R.trigger(this._element,"show.bs.dropdown",t).defaultPrevented)return;const e=hn.getParentFromElement(this._element);this._inNavbar?z.setDataAttribute(this._menu,"popper","none"):this._createPopper(e),"ontouchstart"in document.documentElement&&!e.closest(".navbar-nav")&&[].concat(...document.body.children).forEach((t=>R.on(t,"mouseover",h))),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ze),this._element.classList.add(Ze),R.trigger(this._element,"shown.bs.dropdown",t)}hide(){if(l(this._element)||!this._isShown(this._menu))return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){R.trigger(this._element,"hide.bs.dropdown",t).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((t=>R.off(t,"mouseover",h))),this._popper&&this._popper.destroy(),this._menu.classList.remove(Ze),this._element.classList.remove(Ze),this._element.setAttribute("aria-expanded","false"),z.removeDataAttribute(this._menu,"popper"),R.trigger(this._element,"hidden.bs.dropdown",t))}_getConfig(t){if(t={...this.constructor.Default,...z.getDataAttributes(this._element),...t},a(ze,t,this.constructor.DefaultType),"object"==typeof t.reference&&!r(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${ze.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(t){if(void 0===He)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=t:r(this._config.reference)?e=o(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const n=this._getPopperConfig(),i=n.modifiers.find((t=>"applyStyles"===t.name&&!1===t.enabled));this._popper=qe(e,this._menu,n),i&&z.setDataAttribute(this._menu,"popper","static")}_isShown(t=this._element){return t.classList.contains(Ze)}_getMenuElement(){return K.next(this._element,en)[0]}_getPlacement(){const t=this._element.parentNode;if(t.classList.contains("dropend"))return an;if(t.classList.contains("dropstart"))return cn;const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?sn:nn:e?on:rn}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_selectMenuItem({key:t,target:e}){const n=K.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(c);n.length&&v(n,e,t===Ye,!n.includes(e)).focus()}static jQueryInterface(t){return this.each((function(){const e=hn.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}static clearMenus(t){if(t&&(2===t.button||"keyup"===t.type&&"Tab"!==t.key))return;const e=K.find(tn);for(let n=0,i=e.length;n<i;n++){const i=hn.getInstance(e[n]);if(!i||!1===i._config.autoClose)continue;if(!i._isShown())continue;const s={relatedTarget:i._element};if(t){const e=t.composedPath(),n=e.includes(i._menu);if(e.includes(i._element)||"inside"===i._config.autoClose&&!n||"outside"===i._config.autoClose&&n)continue;if(i._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;"click"===t.type&&(s.clickEvent=t)}i._completeHide(s)}}static getParentFromElement(t){return i(t)||t.parentNode}static dataApiKeydownHandler(t){if(/input|textarea/i.test(t.target.tagName)?t.key===We||t.key!==Ke&&(t.key!==Ye&&t.key!==Ge||t.target.closest(en)):!Qe.test(t.key))return;const e=this.classList.contains(Ze);if(!e&&t.key===Ke)return;if(t.preventDefault(),t.stopPropagation(),l(this))return;const n=this.matches(tn)?this:K.prev(this,tn)[0],i=hn.getOrCreateInstance(n);if(t.key!==Ke)return t.key===Ge||t.key===Ye?(e||i.show(),void i._selectMenuItem(t)):void(e&&t.key!==We||hn.clearMenus());i.hide()}}R.on(document,Je,tn,hn.dataApiKeydownHandler),R.on(document,Je,en,hn.dataApiKeydownHandler),R.on(document,Xe,hn.clearMenus),R.on(document,"keyup.bs.dropdown.data-api",hn.clearMenus),R.on(document,Xe,tn,(function(t){t.preventDefault(),hn.getOrCreateInstance(this).toggle()})),g(hn);const dn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",fn=".sticky-top";class pn{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",(e=>e+t)),this._setElementAttributes(dn,"paddingRight",(e=>e+t)),this._setElementAttributes(fn,"marginRight",(e=>e-t))}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,n){const i=this.getWidth();this._applyManipulationCallback(t,(t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+i)return;this._saveInitialAttribute(t,e);const s=window.getComputedStyle(t)[e];t.style[e]=`${n(Number.parseFloat(s))}px`}))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(dn,"paddingRight"),this._resetElementAttributes(fn,"marginRight")}_saveInitialAttribute(t,e){const n=t.style[e];n&&z.setDataAttribute(t,e,n)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,(t=>{const n=z.getDataAttribute(t,e);void 0===n?t.style.removeProperty(e):(z.removeDataAttribute(t,e),t.style[e]=n)}))}_applyManipulationCallback(t,e){r(t)?e(t):K.find(t,this._element).forEach(e)}isOverflowing(){return this.getWidth()>0}}const mn={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},gn={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},yn="show",wn="mousedown.bs.backdrop";class vn{constructor(t){this._config=this._getConfig(t),this._isAppended=!1,this._element=null}show(t){this._config.isVisible?(this._append(),this._config.isAnimated&&d(this._getElement()),this._getElement().classList.add(yn),this._emulateAnimation((()=>{y(t)}))):y(t)}hide(t){this._config.isVisible?(this._getElement().classList.remove(yn),this._emulateAnimation((()=>{this.dispose(),y(t)}))):y(t)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_getConfig(t){return(t={...mn,..."object"==typeof t?t:{}}).rootElement=o(t.rootElement),a("backdrop",t,gn),t}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),R.on(this._getElement(),wn,(()=>{y(this._config.clickCallback)})),this._isAppended=!0)}dispose(){this._isAppended&&(R.off(this._element,wn),this._element.remove(),this._isAppended=!1)}_emulateAnimation(t){w(t,this._getElement(),this._config.isAnimated)}}const bn={trapElement:null,autofocus:!0},_n={trapElement:"element",autofocus:"boolean"},En=".bs.focustrap",Tn="backward";class In{constructor(t){this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:t,autofocus:e}=this._config;this._isActive||(e&&t.focus(),R.off(document,En),R.on(document,"focusin.bs.focustrap",(t=>this._handleFocusin(t))),R.on(document,"keydown.tab.bs.focustrap",(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,R.off(document,En))}_handleFocusin(t){const{target:e}=t,{trapElement:n}=this._config;if(e===document||e===n||n.contains(e))return;const i=K.focusableChildren(n);0===i.length?n.focus():this._lastTabNavDirection===Tn?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?Tn:"forward")}_getConfig(t){return t={...bn,..."object"==typeof t?t:{}},a("focustrap",t,_n),t}}const An="modal",Sn="Escape",xn={backdrop:!0,keyboard:!0,focus:!0},Cn={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},kn="hidden.bs.modal",Dn="show.bs.modal",Nn="resize.bs.modal",On="click.dismiss.bs.modal",Ln="keydown.dismiss.bs.modal",Pn="mousedown.dismiss.bs.modal",Rn="modal-open",Mn="show",Fn="modal-static";class Bn extends B{constructor(t,e){super(t),this._config=this._getConfig(e),this._dialog=K.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new pn}static get Default(){return xn}static get NAME(){return An}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||R.trigger(this._element,Dn,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(Rn),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),R.on(this._dialog,Pn,(()=>{R.one(this._element,"mouseup.dismiss.bs.modal",(t=>{t.target===this._element&&(this._ignoreBackdropClick=!0)}))})),this._showBackdrop((()=>this._showElement(t))))}hide(){if(!this._isShown||this._isTransitioning)return;if(R.trigger(this._element,"hide.bs.modal").defaultPrevented)return;this._isShown=!1;const t=this._isAnimated();t&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(Mn),R.off(this._element,On),R.off(this._dialog,Pn),this._queueCallback((()=>this._hideModal()),this._element,t)}dispose(){[window,this._dialog].forEach((t=>R.off(t,".bs.modal"))),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new vn({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new In({trapElement:this._element})}_getConfig(t){return t={...xn,...z.getDataAttributes(this._element),..."object"==typeof t?t:{}},a(An,t,Cn),t}_showElement(t){const e=this._isAnimated(),n=K.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,n&&(n.scrollTop=0),e&&d(this._element),this._element.classList.add(Mn),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,R.trigger(this._element,"shown.bs.modal",{relatedTarget:t})}),this._dialog,e)}_setEscapeEvent(){this._isShown?R.on(this._element,Ln,(t=>{this._config.keyboard&&t.key===Sn?(t.preventDefault(),this.hide()):this._config.keyboard||t.key!==Sn||this._triggerBackdropTransition()})):R.off(this._element,Ln)}_setResizeEvent(){this._isShown?R.on(window,Nn,(()=>this._adjustDialog())):R.off(window,Nn)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(Rn),this._resetAdjustments(),this._scrollBar.reset(),R.trigger(this._element,kn)}))}_showBackdrop(t){R.on(this._element,On,(t=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:t.target===t.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())})),this._backdrop.show(t)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(R.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const{classList:t,scrollHeight:e,style:n}=this._element,i=e>document.documentElement.clientHeight;!i&&"hidden"===n.overflowY||t.contains(Fn)||(i||(n.overflowY="hidden"),t.add(Fn),this._queueCallback((()=>{t.remove(Fn),i||this._queueCallback((()=>{n.overflowY=""}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),n=e>0;(!n&&t&&!m()||n&&!t&&m())&&(this._element.style.paddingLeft=`${e}px`),(n&&!t&&!m()||!n&&t&&m())&&(this._element.style.paddingRight=`${e}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each((function(){const n=Bn.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t](e)}}))}}R.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',(function(t){const e=i(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),R.one(e,Dn,(t=>{t.defaultPrevented||R.one(e,kn,(()=>{c(this)&&this.focus()}))}));const n=K.findOne(".modal.show");n&&Bn.getInstance(n).hide(),Bn.getOrCreateInstance(e).toggle(this)})),V(Bn),g(Bn);const Vn="offcanvas",jn={backdrop:!0,keyboard:!0,scroll:!1},$n={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},Un="show",qn=".offcanvas.show",Hn="hidden.bs.offcanvas";class zn extends B{constructor(t,e){super(t),this._config=this._getConfig(e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return Vn}static get Default(){return jn}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||R.trigger(this._element,"show.bs.offcanvas",{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new pn).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Un),this._queueCallback((()=>{this._config.scroll||this._focustrap.activate(),R.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:t})}),this._element,!0))}hide(){this._isShown&&(R.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove(Un),this._backdrop.hide(),this._queueCallback((()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new pn).reset(),R.trigger(this._element,Hn)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(t){return t={...jn,...z.getDataAttributes(this._element),..."object"==typeof t?t:{}},a(Vn,t,$n),t}_initializeBackDrop(){return new vn({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new In({trapElement:this._element})}_addEventListeners(){R.on(this._element,"keydown.dismiss.bs.offcanvas",(t=>{this._config.keyboard&&"Escape"===t.key&&this.hide()}))}static jQueryInterface(t){return this.each((function(){const e=zn.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}R.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',(function(t){const e=i(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),l(this))return;R.one(e,Hn,(()=>{c(this)&&this.focus()}));const n=K.findOne(qn);n&&n!==e&&zn.getInstance(n).hide(),zn.getOrCreateInstance(e).toggle(this)})),R.on(window,"load.bs.offcanvas.data-api",(()=>K.find(qn).forEach((t=>zn.getOrCreateInstance(t).show())))),V(zn),g(zn);const Kn=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Wn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Gn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Yn=(t,e)=>{const n=t.nodeName.toLowerCase();if(e.includes(n))return!Kn.has(n)||Boolean(Wn.test(t.nodeValue)||Gn.test(t.nodeValue));const i=e.filter((t=>t instanceof RegExp));for(let s=0,r=i.length;s<r;s++)if(i[s].test(n))return!0;return!1};function Qn(t,e,n){if(!t.length)return t;if(n&&"function"==typeof n)return n(t);const i=(new window.DOMParser).parseFromString(t,"text/html"),s=[].concat(...i.body.querySelectorAll("*"));for(let r=0,o=s.length;r<o;r++){const t=s[r],n=t.nodeName.toLowerCase();if(!Object.keys(e).includes(n)){t.remove();continue}const i=[].concat(...t.attributes),o=[].concat(e["*"]||[],e[n]||[]);i.forEach((e=>{Yn(e,o)||t.removeAttribute(e.nodeName)}))}return i.body.innerHTML}const Xn="tooltip",Jn=new Set(["sanitize","allowList","sanitizeFn"]),Zn={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},ti={AUTO:"auto",TOP:"top",RIGHT:m()?"left":"right",BOTTOM:"bottom",LEFT:m()?"right":"left"},ei={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},ni={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},ii="fade",si="show",ri="show",oi="out",ai=".tooltip-inner",ci=".modal",li="hide.bs.modal",ui="hover",hi="focus";class di extends B{constructor(t,e){if(void 0===He)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(e),this.tip=null,this._setListeners()}static get Default(){return ei}static get NAME(){return Xn}static get Event(){return ni}static get DefaultType(){return Zn}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(t){if(this._isEnabled)if(t){const e=this._initializeOnDelegatedTarget(t);e._activeTrigger.click=!e._activeTrigger.click,e._isWithActiveTrigger()?e._enter(null,e):e._leave(null,e)}else{if(this.getTipElement().classList.contains(si))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),R.off(this._element.closest(ci),li,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const t=R.trigger(this._element,this.constructor.Event.SHOW),e=u(this._element),n=null===e?this._element.ownerDocument.documentElement.contains(this._element):e.contains(this._element);if(t.defaultPrevented||!n)return;"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(ai).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const i=this.getTipElement(),s=(t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t})(this.constructor.NAME);i.setAttribute("id",s),this._element.setAttribute("aria-describedby",s),this._config.animation&&i.classList.add(ii);const r="function"==typeof this._config.placement?this._config.placement.call(this,i,this._element):this._config.placement,o=this._getAttachment(r);this._addAttachmentClass(o);const{container:a}=this._config;F.set(i,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(i),R.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=qe(this._element,i,this._getPopperConfig(o)),i.classList.add(si);const c=this._resolvePossibleFunction(this._config.customClass);c&&i.classList.add(...c.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((t=>{R.on(t,"mouseover",h)}));const l=this.tip.classList.contains(ii);this._queueCallback((()=>{const t=this._hoverState;this._hoverState=null,R.trigger(this._element,this.constructor.Event.SHOWN),t===oi&&this._leave(null,this)}),this.tip,l)}hide(){if(!this._popper)return;const t=this.getTipElement();if(R.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;t.classList.remove(si),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((t=>R.off(t,"mouseover",h))),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1;const e=this.tip.classList.contains(ii);this._queueCallback((()=>{this._isWithActiveTrigger()||(this._hoverState!==ri&&t.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),R.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())}),this.tip,e),this._hoverState=""}update(){null!==this._popper&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const t=document.createElement("div");t.innerHTML=this._config.template;const e=t.children[0];return this.setContent(e),e.classList.remove(ii,si),this.tip=e,this.tip}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),ai)}_sanitizeAndSetContent(t,e,n){const i=K.findOne(n,t);e||!i?this.setElementContent(i,e):i.remove()}setElementContent(t,e){if(null!==t)return r(e)?(e=o(e),void(this._config.html?e.parentNode!==t&&(t.innerHTML="",t.append(e)):t.textContent=e.textContent)):void(this._config.html?(this._config.sanitize&&(e=Qn(e,this._config.allowList,this._config.sanitizeFn)),t.innerHTML=e):t.textContent=e)}getTitle(){const t=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(t)}updateAttachment(t){return"right"===t?"end":"left"===t?"start":t}_initializeOnDelegatedTarget(t,e){return e||this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return"function"==typeof t?t.call(this._element):t}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:t=>this._handlePopperPlacementChange(t)}],onFirstUpdate:t=>{t.options.placement!==t.placement&&this._handlePopperPlacementChange(t)}};return{...e,..."function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_addAttachmentClass(t){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(t)}`)}_getAttachment(t){return ti[t.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach((t=>{if("click"===t)R.on(this._element,this.constructor.Event.CLICK,this._config.selector,(t=>this.toggle(t)));else if("manual"!==t){const e=t===ui?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,n=t===ui?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;R.on(this._element,e,this._config.selector,(t=>this._enter(t))),R.on(this._element,n,this._config.selector,(t=>this._leave(t)))}})),this._hideModalHandler=()=>{this._element&&this.hide()},R.on(this._element.closest(ci),li,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const t=this._element.getAttribute("title"),e=typeof this._element.getAttribute("data-bs-original-title");(t||"string"!==e)&&(this._element.setAttribute("data-bs-original-title",t||""),!t||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",t),this._element.setAttribute("title",""))}_enter(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusin"===t.type?hi:ui]=!0),e.getTipElement().classList.contains(si)||e._hoverState===ri?e._hoverState=ri:(clearTimeout(e._timeout),e._hoverState=ri,e._config.delay&&e._config.delay.show?e._timeout=setTimeout((()=>{e._hoverState===ri&&e.show()}),e._config.delay.show):e.show())}_leave(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusout"===t.type?hi:ui]=e._element.contains(t.relatedTarget)),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=oi,e._config.delay&&e._config.delay.hide?e._timeout=setTimeout((()=>{e._hoverState===oi&&e.hide()}),e._config.delay.hide):e.hide())}_isWithActiveTrigger(){for(const t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1}_getConfig(t){const e=z.getDataAttributes(this._element);return Object.keys(e).forEach((t=>{Jn.has(t)&&delete e[t]})),(t={...this.constructor.Default,...e,..."object"==typeof t&&t?t:{}}).container=!1===t.container?document.body:o(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),a(Xn,t,this.constructor.DefaultType),t.sanitize&&(t.template=Qn(t.template,t.allowList,t.sanitizeFn)),t}_getDelegateConfig(){const t={};for(const e in this._config)this.constructor.Default[e]!==this._config[e]&&(t[e]=this._config[e]);return t}_cleanTipClass(){const t=this.getTipElement(),e=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),n=t.getAttribute("class").match(e);null!==n&&n.length>0&&n.map((t=>t.trim())).forEach((e=>t.classList.remove(e)))}_getBasicClassPrefix(){return"bs-tooltip"}_handlePopperPlacementChange(t){const{state:e}=t;e&&(this.tip=e.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(e.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(t){return this.each((function(){const e=di.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}g(di);const fi={...di.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},pi={...di.DefaultType,content:"(string|element|function)"},mi={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"};class gi extends di{static get Default(){return fi}static get NAME(){return"popover"}static get Event(){return mi}static get DefaultType(){return pi}isWithContent(){return this.getTitle()||this._getContent()}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(t,this._getContent(),".popover-body")}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return"bs-popover"}static jQueryInterface(t){return this.each((function(){const e=gi.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}g(gi);const yi="scrollspy",wi={offset:10,method:"auto",target:""},vi={offset:"number",method:"string",target:"(string|element)"},bi="active",_i=".nav-link, .list-group-item, .dropdown-item",Ei="position";class Ti extends B{constructor(t,e){super(t),this._scrollElement="BODY"===this._element.tagName?window:this._element,this._config=this._getConfig(e),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,R.on(this._scrollElement,"scroll.bs.scrollspy",(()=>this._process())),this.refresh(),this._process()}static get Default(){return wi}static get NAME(){return yi}refresh(){const t=this._scrollElement===this._scrollElement.window?"offset":Ei,e="auto"===this._config.method?t:this._config.method,i=e===Ei?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),K.find(_i,this._config.target).map((t=>{const s=n(t),r=s?K.findOne(s):null;if(r){const t=r.getBoundingClientRect();if(t.width||t.height)return[z[e](r).top+i,s]}return null})).filter((t=>t)).sort(((t,e)=>t[0]-e[0])).forEach((t=>{this._offsets.push(t[0]),this._targets.push(t[1])}))}dispose(){R.off(this._scrollElement,".bs.scrollspy"),super.dispose()}_getConfig(t){return(t={...wi,...z.getDataAttributes(this._element),..."object"==typeof t&&t?t:{}}).target=o(t.target)||document.documentElement,a(yi,t,vi),t}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){const t=this._targets[this._targets.length-1];this._activeTarget!==t&&this._activate(t)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let e=this._offsets.length;e--;)this._activeTarget!==this._targets[e]&&t>=this._offsets[e]&&(void 0===this._offsets[e+1]||t<this._offsets[e+1])&&this._activate(this._targets[e])}}_activate(t){this._activeTarget=t,this._clear();const e=_i.split(",").map((e=>`${e}[data-bs-target="${t}"],${e}[href="${t}"]`)),n=K.findOne(e.join(","),this._config.target);n.classList.add(bi),n.classList.contains("dropdown-item")?K.findOne(".dropdown-toggle",n.closest(".dropdown")).classList.add(bi):K.parents(n,".nav, .list-group").forEach((t=>{K.prev(t,".nav-link, .list-group-item").forEach((t=>t.classList.add(bi))),K.prev(t,".nav-item").forEach((t=>{K.children(t,".nav-link").forEach((t=>t.classList.add(bi)))}))})),R.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:t})}_clear(){K.find(_i,this._config.target).filter((t=>t.classList.contains(bi))).forEach((t=>t.classList.remove(bi)))}static jQueryInterface(t){return this.each((function(){const e=Ti.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}R.on(window,"load.bs.scrollspy.data-api",(()=>{K.find('[data-bs-spy="scroll"]').forEach((t=>new Ti(t)))})),g(Ti);const Ii="active",Ai="fade",Si="show",xi=".active",Ci=":scope > li > .active";class ki extends B{static get NAME(){return"tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(Ii))return;let t;const e=i(this._element),n=this._element.closest(".nav, .list-group");if(n){const e="UL"===n.nodeName||"OL"===n.nodeName?Ci:xi;t=K.find(e,n),t=t[t.length-1]}const s=t?R.trigger(t,"hide.bs.tab",{relatedTarget:this._element}):null;if(R.trigger(this._element,"show.bs.tab",{relatedTarget:t}).defaultPrevented||null!==s&&s.defaultPrevented)return;this._activate(this._element,n);const r=()=>{R.trigger(t,"hidden.bs.tab",{relatedTarget:this._element}),R.trigger(this._element,"shown.bs.tab",{relatedTarget:t})};e?this._activate(e,e.parentNode,r):r()}_activate(t,e,n){const i=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?K.children(e,xi):K.find(Ci,e))[0],s=n&&i&&i.classList.contains(Ai),r=()=>this._transitionComplete(t,i,n);i&&s?(i.classList.remove(Si),this._queueCallback(r,t,!0)):r()}_transitionComplete(t,e,n){if(e){e.classList.remove(Ii);const t=K.findOne(":scope > .dropdown-menu .active",e.parentNode);t&&t.classList.remove(Ii),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}t.classList.add(Ii),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),d(t),t.classList.contains(Ai)&&t.classList.add(Si);let i=t.parentNode;if(i&&"LI"===i.nodeName&&(i=i.parentNode),i&&i.classList.contains("dropdown-menu")){const e=t.closest(".dropdown");e&&K.find(".dropdown-toggle",e).forEach((t=>t.classList.add(Ii))),t.setAttribute("aria-expanded",!0)}n&&n()}static jQueryInterface(t){return this.each((function(){const e=ki.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}R.on(document,"click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',(function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),l(this)||ki.getOrCreateInstance(this).show()})),g(ki);const Di="toast",Ni="hide",Oi="show",Li="showing",Pi={animation:"boolean",autohide:"boolean",delay:"number"},Ri={animation:!0,autohide:!0,delay:5e3};class Mi extends B{constructor(t,e){super(t),this._config=this._getConfig(e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return Pi}static get Default(){return Ri}static get NAME(){return Di}show(){R.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Ni),d(this._element),this._element.classList.add(Oi),this._element.classList.add(Li),this._queueCallback((()=>{this._element.classList.remove(Li),R.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){this._element.classList.contains(Oi)&&(R.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(Li),this._queueCallback((()=>{this._element.classList.add(Ni),this._element.classList.remove(Li),this._element.classList.remove(Oi),R.trigger(this._element,"hidden.bs.toast")}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this._element.classList.contains(Oi)&&this._element.classList.remove(Oi),super.dispose()}_getConfig(t){return t={...Ri,...z.getDataAttributes(this._element),..."object"==typeof t&&t?t:{}},a(Di,t,this.constructor.DefaultType),t}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const n=t.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){R.on(this._element,"mouseover.bs.toast",(t=>this._onInteraction(t,!0))),R.on(this._element,"mouseout.bs.toast",(t=>this._onInteraction(t,!1))),R.on(this._element,"focusin.bs.toast",(t=>this._onInteraction(t,!0))),R.on(this._element,"focusout.bs.toast",(t=>this._onInteraction(t,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const e=Mi.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}return V(Mi),g(Mi),{Alert:j,Button:U,Carousel:st,Collapse:pt,Dropdown:hn,Modal:Bn,Offcanvas:zn,Popover:gi,ScrollSpy:Ti,Tab:ki,Toast:Mi,Tooltip:di}}))},8937:function(t,e,n){"use strict";var i={};n.r(i),n.d(i,{afterMain:function(){return T},afterRead:function(){return b},afterWrite:function(){return S},applyStyles:function(){return R},arrow:function(){return rt},auto:function(){return c},basePlacements:function(){return l},beforeMain:function(){return _},beforeRead:function(){return w},beforeWrite:function(){return I},bottom:function(){return r},clippingParents:function(){return d},computeStyles:function(){return ht},createPopper:function(){return ce},createPopperBase:function(){return oe},createPopperLite:function(){return ue},detectOverflow:function(){return Ot},end:function(){return h},eventListeners:function(){return pt},flip:function(){return Mt},hide:function(){return jt},left:function(){return a},main:function(){return E},modifierPhases:function(){return x},offset:function(){return qt},placements:function(){return y},popper:function(){return p},popperGenerator:function(){return re},popperOffsets:function(){return zt},preventOverflow:function(){return Gt},read:function(){return v},reference:function(){return m},right:function(){return o},start:function(){return u},top:function(){return s},variationPlacements:function(){return g},viewport:function(){return f},write:function(){return A}});n(1703);var s="top",r="bottom",o="right",a="left",c="auto",l=[s,r,o,a],u="start",h="end",d="clippingParents",f="viewport",p="popper",m="reference",g=l.reduce((function(t,e){return t.concat([e+"-"+u,e+"-"+h])}),[]),y=[].concat(l,[c]).reduce((function(t,e){return t.concat([e,e+"-"+u,e+"-"+h])}),[]),w="beforeRead",v="read",b="afterRead",_="beforeMain",E="main",T="afterMain",I="beforeWrite",A="write",S="afterWrite",x=[w,v,b,_,E,T,I,A,S];function C(t){return t?(t.nodeName||"").toLowerCase():null}function k(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function D(t){var e=k(t).Element;return t instanceof e||t instanceof Element}function N(t){var e=k(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function O(t){if("undefined"===typeof ShadowRoot)return!1;var e=k(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function L(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];N(s)&&C(s)&&(Object.assign(s.style,n),Object.keys(i).forEach((function(t){var e=i[t];!1===e?s.removeAttribute(t):s.setAttribute(t,!0===e?"":e)})))}))}function P(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var i=e.elements[t],s=e.attributes[t]||{},r=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]),o=r.reduce((function(t,e){return t[e]="",t}),{});N(i)&&C(i)&&(Object.assign(i.style,o),Object.keys(s).forEach((function(t){i.removeAttribute(t)})))}))}}var R={name:"applyStyles",enabled:!0,phase:"write",fn:L,effect:P,requires:["computeStyles"]};function M(t){return t.split("-")[0]}var F=Math.max,B=Math.min,V=Math.round;function j(t,e){void 0===e&&(e=!1);var n=t.getBoundingClientRect(),i=1,s=1;if(N(t)&&e){var r=t.offsetHeight,o=t.offsetWidth;o>0&&(i=V(n.width)/o||1),r>0&&(s=V(n.height)/r||1)}return{width:n.width/i,height:n.height/s,top:n.top/s,right:n.right/i,bottom:n.bottom/s,left:n.left/i,x:n.left/i,y:n.top/s}}function $(t){var e=j(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function U(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&O(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function q(t){return k(t).getComputedStyle(t)}function H(t){return["table","td","th"].indexOf(C(t))>=0}function z(t){return((D(t)?t.ownerDocument:t.document)||window.document).documentElement}function K(t){return"html"===C(t)?t:t.assignedSlot||t.parentNode||(O(t)?t.host:null)||z(t)}function W(t){return N(t)&&"fixed"!==q(t).position?t.offsetParent:null}function G(t){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),n=-1!==navigator.userAgent.indexOf("Trident");if(n&&N(t)){var i=q(t);if("fixed"===i.position)return null}var s=K(t);O(s)&&(s=s.host);while(N(s)&&["html","body"].indexOf(C(s))<0){var r=q(s);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return s;s=s.parentNode}return null}function Y(t){var e=k(t),n=W(t);while(n&&H(n)&&"static"===q(n).position)n=W(n);return n&&("html"===C(n)||"body"===C(n)&&"static"===q(n).position)?e:n||G(t)||e}function Q(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function X(t,e,n){return F(t,B(e,n))}function J(t,e,n){var i=X(t,e,n);return i>n?n:i}function Z(){return{top:0,right:0,bottom:0,left:0}}function tt(t){return Object.assign({},Z(),t)}function et(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}var nt=function(t,e){return t="function"===typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t,tt("number"!==typeof t?t:et(t,l))};function it(t){var e,n=t.state,i=t.name,c=t.options,l=n.elements.arrow,u=n.modifiersData.popperOffsets,h=M(n.placement),d=Q(h),f=[a,o].indexOf(h)>=0,p=f?"height":"width";if(l&&u){var m=nt(c.padding,n),g=$(l),y="y"===d?s:a,w="y"===d?r:o,v=n.rects.reference[p]+n.rects.reference[d]-u[d]-n.rects.popper[p],b=u[d]-n.rects.reference[d],_=Y(l),E=_?"y"===d?_.clientHeight||0:_.clientWidth||0:0,T=v/2-b/2,I=m[y],A=E-g[p]-m[w],S=E/2-g[p]/2+T,x=X(I,S,A),C=d;n.modifiersData[i]=(e={},e[C]=x,e.centerOffset=x-S,e)}}function st(t){var e=t.state,n=t.options,i=n.element,s=void 0===i?"[data-popper-arrow]":i;null!=s&&("string"!==typeof s||(s=e.elements.popper.querySelector(s),s))&&U(e.elements.popper,s)&&(e.elements.arrow=s)}var rt={name:"arrow",enabled:!0,phase:"main",fn:it,effect:st,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ot(t){return t.split("-")[1]}var at={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ct(t){var e=t.x,n=t.y,i=window,s=i.devicePixelRatio||1;return{x:V(e*s)/s||0,y:V(n*s)/s||0}}function lt(t){var e,n=t.popper,i=t.popperRect,c=t.placement,l=t.variation,u=t.offsets,d=t.position,f=t.gpuAcceleration,p=t.adaptive,m=t.roundOffsets,g=t.isFixed,y=u.x,w=void 0===y?0:y,v=u.y,b=void 0===v?0:v,_="function"===typeof m?m({x:w,y:b}):{x:w,y:b};w=_.x,b=_.y;var E=u.hasOwnProperty("x"),T=u.hasOwnProperty("y"),I=a,A=s,S=window;if(p){var x=Y(n),C="clientHeight",D="clientWidth";if(x===k(n)&&(x=z(n),"static"!==q(x).position&&"absolute"===d&&(C="scrollHeight",D="scrollWidth")),x=x,c===s||(c===a||c===o)&&l===h){A=r;var N=g&&x===S&&S.visualViewport?S.visualViewport.height:x[C];b-=N-i.height,b*=f?1:-1}if(c===a||(c===s||c===r)&&l===h){I=o;var O=g&&x===S&&S.visualViewport?S.visualViewport.width:x[D];w-=O-i.width,w*=f?1:-1}}var L,P=Object.assign({position:d},p&&at),R=!0===m?ct({x:w,y:b}):{x:w,y:b};return w=R.x,b=R.y,f?Object.assign({},P,(L={},L[A]=T?"0":"",L[I]=E?"0":"",L.transform=(S.devicePixelRatio||1)<=1?"translate("+w+"px, "+b+"px)":"translate3d("+w+"px, "+b+"px, 0)",L)):Object.assign({},P,(e={},e[A]=T?b+"px":"",e[I]=E?w+"px":"",e.transform="",e))}function ut(t){var e=t.state,n=t.options,i=n.gpuAcceleration,s=void 0===i||i,r=n.adaptive,o=void 0===r||r,a=n.roundOffsets,c=void 0===a||a,l={placement:M(e.placement),variation:ot(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,lt(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,lt(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var ht={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ut,data:{}},dt={passive:!0};function ft(t){var e=t.state,n=t.instance,i=t.options,s=i.scroll,r=void 0===s||s,o=i.resize,a=void 0===o||o,c=k(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&l.forEach((function(t){t.addEventListener("scroll",n.update,dt)})),a&&c.addEventListener("resize",n.update,dt),function(){r&&l.forEach((function(t){t.removeEventListener("scroll",n.update,dt)})),a&&c.removeEventListener("resize",n.update,dt)}}var pt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ft,data:{}},mt={left:"right",right:"left",bottom:"top",top:"bottom"};function gt(t){return t.replace(/left|right|bottom|top/g,(function(t){return mt[t]}))}var yt={start:"end",end:"start"};function wt(t){return t.replace(/start|end/g,(function(t){return yt[t]}))}function vt(t){var e=k(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function bt(t){return j(z(t)).left+vt(t).scrollLeft}function _t(t){var e=k(t),n=z(t),i=e.visualViewport,s=n.clientWidth,r=n.clientHeight,o=0,a=0;return i&&(s=i.width,r=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=i.offsetLeft,a=i.offsetTop)),{width:s,height:r,x:o+bt(t),y:a}}function Et(t){var e,n=z(t),i=vt(t),s=null==(e=t.ownerDocument)?void 0:e.body,r=F(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=F(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+bt(t),c=-i.scrollTop;return"rtl"===q(s||n).direction&&(a+=F(n.clientWidth,s?s.clientWidth:0)-r),{width:r,height:o,x:a,y:c}}function Tt(t){var e=q(t),n=e.overflow,i=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+i)}function It(t){return["html","body","#document"].indexOf(C(t))>=0?t.ownerDocument.body:N(t)&&Tt(t)?t:It(K(t))}function At(t,e){var n;void 0===e&&(e=[]);var i=It(t),s=i===(null==(n=t.ownerDocument)?void 0:n.body),r=k(i),o=s?[r].concat(r.visualViewport||[],Tt(i)?i:[]):i,a=e.concat(o);return s?a:a.concat(At(K(o)))}function St(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function xt(t){var e=j(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function Ct(t,e){return e===f?St(_t(t)):D(e)?xt(e):St(Et(z(t)))}function kt(t){var e=At(K(t)),n=["absolute","fixed"].indexOf(q(t).position)>=0,i=n&&N(t)?Y(t):t;return D(i)?e.filter((function(t){return D(t)&&U(t,i)&&"body"!==C(t)})):[]}function Dt(t,e,n){var i="clippingParents"===e?kt(t):[].concat(e),s=[].concat(i,[n]),r=s[0],o=s.reduce((function(e,n){var i=Ct(t,n);return e.top=F(i.top,e.top),e.right=B(i.right,e.right),e.bottom=B(i.bottom,e.bottom),e.left=F(i.left,e.left),e}),Ct(t,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Nt(t){var e,n=t.reference,i=t.element,c=t.placement,l=c?M(c):null,d=c?ot(c):null,f=n.x+n.width/2-i.width/2,p=n.y+n.height/2-i.height/2;switch(l){case s:e={x:f,y:n.y-i.height};break;case r:e={x:f,y:n.y+n.height};break;case o:e={x:n.x+n.width,y:p};break;case a:e={x:n.x-i.width,y:p};break;default:e={x:n.x,y:n.y}}var m=l?Q(l):null;if(null!=m){var g="y"===m?"height":"width";switch(d){case u:e[m]=e[m]-(n[g]/2-i[g]/2);break;case h:e[m]=e[m]+(n[g]/2-i[g]/2);break;default:}}return e}function Ot(t,e){void 0===e&&(e={});var n=e,i=n.placement,a=void 0===i?t.placement:i,c=n.boundary,u=void 0===c?d:c,h=n.rootBoundary,g=void 0===h?f:h,y=n.elementContext,w=void 0===y?p:y,v=n.altBoundary,b=void 0!==v&&v,_=n.padding,E=void 0===_?0:_,T=tt("number"!==typeof E?E:et(E,l)),I=w===p?m:p,A=t.rects.popper,S=t.elements[b?I:w],x=Dt(D(S)?S:S.contextElement||z(t.elements.popper),u,g),C=j(t.elements.reference),k=Nt({reference:C,element:A,strategy:"absolute",placement:a}),N=St(Object.assign({},A,k)),O=w===p?N:C,L={top:x.top-O.top+T.top,bottom:O.bottom-x.bottom+T.bottom,left:x.left-O.left+T.left,right:O.right-x.right+T.right},P=t.modifiersData.offset;if(w===p&&P){var R=P[a];Object.keys(L).forEach((function(t){var e=[o,r].indexOf(t)>=0?1:-1,n=[s,r].indexOf(t)>=0?"y":"x";L[t]+=R[n]*e}))}return L}function Lt(t,e){void 0===e&&(e={});var n=e,i=n.placement,s=n.boundary,r=n.rootBoundary,o=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,u=void 0===c?y:c,h=ot(i),d=h?a?g:g.filter((function(t){return ot(t)===h})):l,f=d.filter((function(t){return u.indexOf(t)>=0}));0===f.length&&(f=d);var p=f.reduce((function(e,n){return e[n]=Ot(t,{placement:n,boundary:s,rootBoundary:r,padding:o})[M(n)],e}),{});return Object.keys(p).sort((function(t,e){return p[t]-p[e]}))}function Pt(t){if(M(t)===c)return[];var e=gt(t);return[wt(t),e,wt(e)]}function Rt(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var l=n.mainAxis,h=void 0===l||l,d=n.altAxis,f=void 0===d||d,p=n.fallbackPlacements,m=n.padding,g=n.boundary,y=n.rootBoundary,w=n.altBoundary,v=n.flipVariations,b=void 0===v||v,_=n.allowedAutoPlacements,E=e.options.placement,T=M(E),I=T===E,A=p||(I||!b?[gt(E)]:Pt(E)),S=[E].concat(A).reduce((function(t,n){return t.concat(M(n)===c?Lt(e,{placement:n,boundary:g,rootBoundary:y,padding:m,flipVariations:b,allowedAutoPlacements:_}):n)}),[]),x=e.rects.reference,C=e.rects.popper,k=new Map,D=!0,N=S[0],O=0;O<S.length;O++){var L=S[O],P=M(L),R=ot(L)===u,F=[s,r].indexOf(P)>=0,B=F?"width":"height",V=Ot(e,{placement:L,boundary:g,rootBoundary:y,altBoundary:w,padding:m}),j=F?R?o:a:R?r:s;x[B]>C[B]&&(j=gt(j));var $=gt(j),U=[];if(h&&U.push(V[P]<=0),f&&U.push(V[j]<=0,V[$]<=0),U.every((function(t){return t}))){N=L,D=!1;break}k.set(L,U)}if(D)for(var q=b?3:1,H=function(t){var e=S.find((function(e){var n=k.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return N=e,"break"},z=q;z>0;z--){var K=H(z);if("break"===K)break}e.placement!==N&&(e.modifiersData[i]._skip=!0,e.placement=N,e.reset=!0)}}var Mt={name:"flip",enabled:!0,phase:"main",fn:Rt,requiresIfExists:["offset"],data:{_skip:!1}};function Ft(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Bt(t){return[s,o,r,a].some((function(e){return t[e]>=0}))}function Vt(t){var e=t.state,n=t.name,i=e.rects.reference,s=e.rects.popper,r=e.modifiersData.preventOverflow,o=Ot(e,{elementContext:"reference"}),a=Ot(e,{altBoundary:!0}),c=Ft(o,i),l=Ft(a,s,r),u=Bt(c),h=Bt(l);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}var jt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Vt};function $t(t,e,n){var i=M(t),r=[a,s].indexOf(i)>=0?-1:1,c="function"===typeof n?n(Object.assign({},e,{placement:t})):n,l=c[0],u=c[1];return l=l||0,u=(u||0)*r,[a,o].indexOf(i)>=0?{x:u,y:l}:{x:l,y:u}}function Ut(t){var e=t.state,n=t.options,i=t.name,s=n.offset,r=void 0===s?[0,0]:s,o=y.reduce((function(t,n){return t[n]=$t(n,e.rects,r),t}),{}),a=o[e.placement],c=a.x,l=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[i]=o}var qt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ut};function Ht(t){var e=t.state,n=t.name;e.modifiersData[n]=Nt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var zt={name:"popperOffsets",enabled:!0,phase:"read",fn:Ht,data:{}};function Kt(t){return"x"===t?"y":"x"}function Wt(t){var e=t.state,n=t.options,i=t.name,c=n.mainAxis,l=void 0===c||c,h=n.altAxis,d=void 0!==h&&h,f=n.boundary,p=n.rootBoundary,m=n.altBoundary,g=n.padding,y=n.tether,w=void 0===y||y,v=n.tetherOffset,b=void 0===v?0:v,_=Ot(e,{boundary:f,rootBoundary:p,padding:g,altBoundary:m}),E=M(e.placement),T=ot(e.placement),I=!T,A=Q(E),S=Kt(A),x=e.modifiersData.popperOffsets,C=e.rects.reference,k=e.rects.popper,D="function"===typeof b?b(Object.assign({},e.rects,{placement:e.placement})):b,N="number"===typeof D?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,L={x:0,y:0};if(x){if(l){var P,R="y"===A?s:a,V="y"===A?r:o,j="y"===A?"height":"width",U=x[A],q=U+_[R],H=U-_[V],z=w?-k[j]/2:0,K=T===u?C[j]:k[j],W=T===u?-k[j]:-C[j],G=e.elements.arrow,tt=w&&G?$(G):{width:0,height:0},et=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Z(),nt=et[R],it=et[V],st=X(0,C[j],tt[j]),rt=I?C[j]/2-z-st-nt-N.mainAxis:K-st-nt-N.mainAxis,at=I?-C[j]/2+z+st+it+N.mainAxis:W+st+it+N.mainAxis,ct=e.elements.arrow&&Y(e.elements.arrow),lt=ct?"y"===A?ct.clientTop||0:ct.clientLeft||0:0,ut=null!=(P=null==O?void 0:O[A])?P:0,ht=U+rt-ut-lt,dt=U+at-ut,ft=X(w?B(q,ht):q,U,w?F(H,dt):H);x[A]=ft,L[A]=ft-U}if(d){var pt,mt="x"===A?s:a,gt="x"===A?r:o,yt=x[S],wt="y"===S?"height":"width",vt=yt+_[mt],bt=yt-_[gt],_t=-1!==[s,a].indexOf(E),Et=null!=(pt=null==O?void 0:O[S])?pt:0,Tt=_t?vt:yt-C[wt]-k[wt]-Et+N.altAxis,It=_t?yt+C[wt]+k[wt]-Et-N.altAxis:bt,At=w&&_t?J(Tt,yt,It):X(w?Tt:vt,yt,w?It:bt);x[S]=At,L[S]=At-yt}e.modifiersData[i]=L}}var Gt={name:"preventOverflow",enabled:!0,phase:"main",fn:Wt,requiresIfExists:["offset"]};function Yt(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Qt(t){return t!==k(t)&&N(t)?Yt(t):vt(t)}function Xt(t){var e=t.getBoundingClientRect(),n=V(e.width)/t.offsetWidth||1,i=V(e.height)/t.offsetHeight||1;return 1!==n||1!==i}function Jt(t,e,n){void 0===n&&(n=!1);var i=N(e),s=N(e)&&Xt(e),r=z(e),o=j(t,s),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(i||!i&&!n)&&(("body"!==C(e)||Tt(r))&&(a=Qt(e)),N(e)?(c=j(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):r&&(c.x=bt(r))),{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function Zt(t){var e=new Map,n=new Set,i=[];function s(t){n.add(t.name);var r=[].concat(t.requires||[],t.requiresIfExists||[]);r.forEach((function(t){if(!n.has(t)){var i=e.get(t);i&&s(i)}})),i.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||s(t)})),i}function te(t){var e=Zt(t);return x.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}function ee(t){var e;return function(){return e||(e=new Promise((function(n){Promise.resolve().then((function(){e=void 0,n(t())}))}))),e}}function ne(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}var ie={placement:"bottom",modifiers:[],strategy:"absolute"};function se(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"===typeof t.getBoundingClientRect)}))}function re(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,i=void 0===n?[]:n,s=e.defaultOptions,r=void 0===s?ie:s;return function(t,e,n){void 0===n&&(n=r);var s={placement:"bottom",orderedModifiers:[],options:Object.assign({},ie,r),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},o=[],a=!1,c={state:s,setOptions:function(n){var o="function"===typeof n?n(s.options):n;u(),s.options=Object.assign({},r,s.options,o),s.scrollParents={reference:D(t)?At(t):t.contextElement?At(t.contextElement):[],popper:At(e)};var a=te(ne([].concat(i,s.options.modifiers)));return s.orderedModifiers=a.filter((function(t){return t.enabled})),l(),c.update()},forceUpdate:function(){if(!a){var t=s.elements,e=t.reference,n=t.popper;if(se(e,n)){s.rects={reference:Jt(e,Y(n),"fixed"===s.options.strategy),popper:$(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(t){return s.modifiersData[t.name]=Object.assign({},t.data)}));for(var i=0;i<s.orderedModifiers.length;i++)if(!0!==s.reset){var r=s.orderedModifiers[i],o=r.fn,l=r.options,u=void 0===l?{}:l,h=r.name;"function"===typeof o&&(s=o({state:s,options:u,name:h,instance:c})||s)}else s.reset=!1,i=-1}}},update:ee((function(){return new Promise((function(t){c.forceUpdate(),t(s)}))})),destroy:function(){u(),a=!0}};if(!se(t,e))return c;function l(){s.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,i=void 0===n?{}:n,r=t.effect;if("function"===typeof r){var a=r({state:s,name:e,instance:c,options:i}),l=function(){};o.push(a||l)}}))}function u(){o.forEach((function(t){return t()})),o=[]}return c.setOptions(n).then((function(t){!a&&n.onFirstUpdate&&n.onFirstUpdate(t)})),c}}var oe=re(),ae=[pt,zt,ht,R,qt,Mt,Gt,rt,jt],ce=re({defaultModifiers:ae}),le=[pt,zt,ht,R],ue=re({defaultModifiers:le});
/*!
  * Bootstrap v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
const he=1e6,de=1e3,fe="transitionend",pe=t=>null===t||void 0===t?`${t}`:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),me=t=>{do{t+=Math.floor(Math.random()*he)}while(document.getElementById(t));return t},ge=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&"#"!==n?n.trim():null}return e},ye=t=>{const e=ge(t);return e&&document.querySelector(e)?e:null},we=t=>{const e=ge(t);return e?document.querySelector(e):null},ve=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const i=Number.parseFloat(e),s=Number.parseFloat(n);return i||s?(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*de):0},be=t=>{t.dispatchEvent(new Event(fe))},_e=t=>!(!t||"object"!==typeof t)&&("undefined"!==typeof t.jquery&&(t=t[0]),"undefined"!==typeof t.nodeType),Ee=t=>_e(t)?t.jquery?t[0]:t:"string"===typeof t&&t.length>0?document.querySelector(t):null,Te=(t,e,n)=>{Object.keys(n).forEach((i=>{const s=n[i],r=e[i],o=r&&_e(r)?"element":pe(r);if(!new RegExp(s).test(o))throw new TypeError(`${t.toUpperCase()}: Option "${i}" provided type "${o}" but expected type "${s}".`)}))},Ie=t=>!(!_e(t)||0===t.getClientRects().length)&&"visible"===getComputedStyle(t).getPropertyValue("visibility"),Ae=t=>!t||t.nodeType!==Node.ELEMENT_NODE||(!!t.classList.contains("disabled")||("undefined"!==typeof t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled"))),Se=t=>{if(!document.documentElement.attachShadow)return null;if("function"===typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?Se(t.parentNode):null},xe=()=>{},Ce=t=>{t.offsetHeight},ke=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},De=[],Ne=t=>{"loading"===document.readyState?(De.length||document.addEventListener("DOMContentLoaded",(()=>{De.forEach((t=>t()))})),De.push(t)):t()},Oe=()=>"rtl"===document.documentElement.dir,Le=t=>{Ne((()=>{const e=ke();if(e){const n=t.NAME,i=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=i,t.jQueryInterface)}}))},Pe=t=>{"function"===typeof t&&t()},Re=(t,e,n=!0)=>{if(!n)return void Pe(t);const i=5,s=ve(e)+i;let r=!1;const o=({target:n})=>{n===e&&(r=!0,e.removeEventListener(fe,o),Pe(t))};e.addEventListener(fe,o),setTimeout((()=>{r||be(e)}),s)},Me=(t,e,n,i)=>{let s=t.indexOf(e);if(-1===s)return t[!n&&i?t.length-1:0];const r=t.length;return s+=n?1:-1,i&&(s=(s+r)%r),t[Math.max(0,Math.min(s,r-1))]},Fe=/[^.]*(?=\..*)\.|.*/,Be=/\..*/,Ve=/::\d+$/,je={};let $e=1;const Ue={mouseenter:"mouseover",mouseleave:"mouseout"},qe=/^(mouseenter|mouseleave)/i,He=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ze(t,e){return e&&`${e}::${$e++}`||t.uidEvent||$e++}function Ke(t){const e=ze(t);return t.uidEvent=e,je[e]=je[e]||{},je[e]}function We(t,e){return function n(i){return i.delegateTarget=t,n.oneOff&&en.off(t,i.type,e),e.apply(t,[i])}}function Ge(t,e,n){return function i(s){const r=t.querySelectorAll(e);for(let{target:o}=s;o&&o!==this;o=o.parentNode)for(let a=r.length;a--;)if(r[a]===o)return s.delegateTarget=o,i.oneOff&&en.off(t,s.type,e,n),n.apply(o,[s]);return null}}function Ye(t,e,n=null){const i=Object.keys(t);for(let s=0,r=i.length;s<r;s++){const r=t[i[s]];if(r.originalHandler===e&&r.delegationSelector===n)return r}return null}function Qe(t,e,n){const i="string"===typeof e,s=i?n:e;let r=tn(t);const o=He.has(r);return o||(r=t),[i,s,r]}function Xe(t,e,n,i,s){if("string"!==typeof e||!t)return;if(n||(n=i,i=null),qe.test(e)){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};i?i=t(i):n=t(n)}const[r,o,a]=Qe(e,n,i),c=Ke(t),l=c[a]||(c[a]={}),u=Ye(l,o,r?n:null);if(u)return void(u.oneOff=u.oneOff&&s);const h=ze(o,e.replace(Fe,"")),d=r?Ge(t,n,i):We(t,n);d.delegationSelector=r?n:null,d.originalHandler=o,d.oneOff=s,d.uidEvent=h,l[h]=d,t.addEventListener(a,d,r)}function Je(t,e,n,i,s){const r=Ye(e[n],i,s);r&&(t.removeEventListener(n,r,Boolean(s)),delete e[n][r.uidEvent])}function Ze(t,e,n,i){const s=e[n]||{};Object.keys(s).forEach((r=>{if(r.includes(i)){const i=s[r];Je(t,e,n,i.originalHandler,i.delegationSelector)}}))}function tn(t){return t=t.replace(Be,""),Ue[t]||t}const en={on(t,e,n,i){Xe(t,e,n,i,!1)},one(t,e,n,i){Xe(t,e,n,i,!0)},off(t,e,n,i){if("string"!==typeof e||!t)return;const[s,r,o]=Qe(e,n,i),a=o!==e,c=Ke(t),l=e.startsWith(".");if("undefined"!==typeof r){if(!c||!c[o])return;return void Je(t,c,o,r,s?n:null)}l&&Object.keys(c).forEach((n=>{Ze(t,c,n,e.slice(1))}));const u=c[o]||{};Object.keys(u).forEach((n=>{const i=n.replace(Ve,"");if(!a||e.includes(i)){const e=u[n];Je(t,c,o,e.originalHandler,e.delegationSelector)}}))},trigger(t,e,n){if("string"!==typeof e||!t)return null;const i=ke(),s=tn(e),r=e!==s,o=He.has(s);let a,c=!0,l=!0,u=!1,h=null;return r&&i&&(a=i.Event(e,n),i(t).trigger(a),c=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),u=a.isDefaultPrevented()),o?(h=document.createEvent("HTMLEvents"),h.initEvent(s,c,!0)):h=new CustomEvent(e,{bubbles:c,cancelable:!0}),"undefined"!==typeof n&&Object.keys(n).forEach((t=>{Object.defineProperty(h,t,{get(){return n[t]}})})),u&&h.preventDefault(),l&&t.dispatchEvent(h),h.defaultPrevented&&"undefined"!==typeof a&&a.preventDefault(),h}},nn=new Map,sn={set(t,e,n){nn.has(t)||nn.set(t,new Map);const i=nn.get(t);i.has(e)||0===i.size?i.set(e,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get(t,e){return nn.has(t)&&nn.get(t).get(e)||null},remove(t,e){if(!nn.has(t))return;const n=nn.get(t);n.delete(e),0===n.size&&nn.delete(t)}},rn="5.1.3";class on{constructor(t){t=Ee(t),t&&(this._element=t,sn.set(this._element,this.constructor.DATA_KEY,this))}dispose(){sn.remove(this._element,this.constructor.DATA_KEY),en.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach((t=>{this[t]=null}))}_queueCallback(t,e,n=!0){Re(t,e,n)}static getInstance(t){return sn.get(Ee(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"===typeof e?e:null)}static get VERSION(){return rn}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const an=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,i=t.NAME;en.on(document,n,`[data-bs-dismiss="${i}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Ae(this))return;const s=we(this)||this.closest(`.${i}`),r=t.getOrCreateInstance(s);r[e]()}))},cn="alert",ln="bs.alert",un=`.${ln}`,hn=`close${un}`,dn=`closed${un}`,fn="fade",pn="show";class mn extends on{static get NAME(){return cn}close(){const t=en.trigger(this._element,hn);if(t.defaultPrevented)return;this._element.classList.remove(pn);const e=this._element.classList.contains(fn);this._queueCallback((()=>this._destroyElement()),this._element,e)}_destroyElement(){this._element.remove(),en.trigger(this._element,dn),this.dispose()}static jQueryInterface(t){return this.each((function(){const e=mn.getOrCreateInstance(this);if("string"===typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}an(mn,"close"),Le(mn);const gn="button",yn="bs.button",wn=`.${yn}`,vn=".data-api",bn="active",_n='[data-bs-toggle="button"]',En=`click${wn}${vn}`;class Tn extends on{static get NAME(){return gn}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(bn))}static jQueryInterface(t){return this.each((function(){const e=Tn.getOrCreateInstance(this);"toggle"===t&&e[t]()}))}}function In(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function An(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}en.on(document,En,_n,(t=>{t.preventDefault();const e=t.target.closest(_n),n=Tn.getOrCreateInstance(e);n.toggle()})),Le(Tn);const Sn={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${An(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${An(e)}`)},getDataAttributes(t){if(!t)return{};const e={};return Object.keys(t.dataset).filter((t=>t.startsWith("bs"))).forEach((n=>{let i=n.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=In(t.dataset[n])})),e},getDataAttribute(t,e){return In(t.getAttribute(`data-bs-${An(e)}`))},offset(t){const e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}},position(t){return{top:t.offsetTop,left:t.offsetLeft}}},xn=3,Cn={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter((t=>t.matches(e)))},parents(t,e){const n=[];let i=t.parentNode;while(i&&i.nodeType===Node.ELEMENT_NODE&&i.nodeType!==xn)i.matches(e)&&n.push(i),i=i.parentNode;return n},prev(t,e){let n=t.previousElementSibling;while(n){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;while(n){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((t=>`${t}:not([tabindex^="-"])`)).join(", ");return this.find(e,t).filter((t=>!Ae(t)&&Ie(t)))}},kn="carousel",Dn="bs.carousel",Nn=`.${Dn}`,On=".data-api",Ln="ArrowLeft",Pn="ArrowRight",Rn=500,Mn=40,Fn={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Bn={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Vn="next",jn="prev",$n="left",Un="right",qn={[Ln]:Un,[Pn]:$n},Hn=`slide${Nn}`,zn=`slid${Nn}`,Kn=`keydown${Nn}`,Wn=`mouseenter${Nn}`,Gn=`mouseleave${Nn}`,Yn=`touchstart${Nn}`,Qn=`touchmove${Nn}`,Xn=`touchend${Nn}`,Jn=`pointerdown${Nn}`,Zn=`pointerup${Nn}`,ti=`dragstart${Nn}`,ei=`load${Nn}${On}`,ni=`click${Nn}${On}`,ii="carousel",si="active",ri="slide",oi="carousel-item-end",ai="carousel-item-start",ci="carousel-item-next",li="carousel-item-prev",ui="pointer-event",hi=".active",di=".active.carousel-item",fi=".carousel-item",pi=".carousel-item img",mi=".carousel-item-next, .carousel-item-prev",gi=".carousel-indicators",yi="[data-bs-target]",wi="[data-bs-slide], [data-bs-slide-to]",vi='[data-bs-ride="carousel"]',bi="touch",_i="pen";class Ei extends on{constructor(t,e){super(t),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._indicatorsElement=Cn.findOne(gi,this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return Fn}static get NAME(){return kn}next(){this._slide(Vn)}nextWhenVisible(){!document.hidden&&Ie(this._element)&&this.next()}prev(){this._slide(jn)}pause(t){t||(this._isPaused=!0),Cn.findOne(mi,this._element)&&(be(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(t){this._activeElement=Cn.findOne(di,this._element);const e=this._getItemIndex(this._activeElement);if(t>this._items.length-1||t<0)return;if(this._isSliding)return void en.one(this._element,zn,(()=>this.to(t)));if(e===t)return this.pause(),void this.cycle();const n=t>e?Vn:jn;this._slide(n,this._items[t])}_getConfig(t){return t={...Fn,...Sn.getDataAttributes(this._element),..."object"===typeof t?t:{}},Te(kn,t,Bn),t}_handleSwipe(){const t=Math.abs(this.touchDeltaX);if(t<=Mn)return;const e=t/this.touchDeltaX;this.touchDeltaX=0,e&&this._slide(e>0?Un:$n)}_addEventListeners(){this._config.keyboard&&en.on(this._element,Kn,(t=>this._keydown(t))),"hover"===this._config.pause&&(en.on(this._element,Wn,(t=>this.pause(t))),en.on(this._element,Gn,(t=>this.cycle(t)))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const t=t=>this._pointerEvent&&(t.pointerType===_i||t.pointerType===bi),e=e=>{t(e)?this.touchStartX=e.clientX:this._pointerEvent||(this.touchStartX=e.touches[0].clientX)},n=t=>{this.touchDeltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this.touchStartX},i=e=>{t(e)&&(this.touchDeltaX=e.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((t=>this.cycle(t)),Rn+this._config.interval))};Cn.find(pi,this._element).forEach((t=>{en.on(t,ti,(t=>t.preventDefault()))})),this._pointerEvent?(en.on(this._element,Jn,(t=>e(t))),en.on(this._element,Zn,(t=>i(t))),this._element.classList.add(ui)):(en.on(this._element,Yn,(t=>e(t))),en.on(this._element,Qn,(t=>n(t))),en.on(this._element,Xn,(t=>i(t))))}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=qn[t.key];e&&(t.preventDefault(),this._slide(e))}_getItemIndex(t){return this._items=t&&t.parentNode?Cn.find(fi,t.parentNode):[],this._items.indexOf(t)}_getItemByOrder(t,e){const n=t===Vn;return Me(this._items,e,n,this._config.wrap)}_triggerSlideEvent(t,e){const n=this._getItemIndex(t),i=this._getItemIndex(Cn.findOne(di,this._element));return en.trigger(this._element,Hn,{relatedTarget:t,direction:e,from:i,to:n})}_setActiveIndicatorElement(t){if(this._indicatorsElement){const e=Cn.findOne(hi,this._indicatorsElement);e.classList.remove(si),e.removeAttribute("aria-current");const n=Cn.find(yi,this._indicatorsElement);for(let i=0;i<n.length;i++)if(Number.parseInt(n[i].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(t)){n[i].classList.add(si),n[i].setAttribute("aria-current","true");break}}}_updateInterval(){const t=this._activeElement||Cn.findOne(di,this._element);if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);e?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(t,e){const n=this._directionToOrder(t),i=Cn.findOne(di,this._element),s=this._getItemIndex(i),r=e||this._getItemByOrder(n,i),o=this._getItemIndex(r),a=Boolean(this._interval),c=n===Vn,l=c?ai:oi,u=c?ci:li,h=this._orderToDirection(n);if(r&&r.classList.contains(si))return void(this._isSliding=!1);if(this._isSliding)return;const d=this._triggerSlideEvent(r,h);if(d.defaultPrevented)return;if(!i||!r)return;this._isSliding=!0,a&&this.pause(),this._setActiveIndicatorElement(r),this._activeElement=r;const f=()=>{en.trigger(this._element,zn,{relatedTarget:r,direction:h,from:s,to:o})};if(this._element.classList.contains(ri)){r.classList.add(u),Ce(r),i.classList.add(l),r.classList.add(l);const t=()=>{r.classList.remove(l,u),r.classList.add(si),i.classList.remove(si,u,l),this._isSliding=!1,setTimeout(f,0)};this._queueCallback(t,i,!0)}else i.classList.remove(si),r.classList.add(si),this._isSliding=!1,f();a&&this.cycle()}_directionToOrder(t){return[Un,$n].includes(t)?Oe()?t===$n?jn:Vn:t===$n?Vn:jn:t}_orderToDirection(t){return[Vn,jn].includes(t)?Oe()?t===jn?$n:Un:t===jn?Un:$n:t}static carouselInterface(t,e){const n=Ei.getOrCreateInstance(t,e);let{_config:i}=n;"object"===typeof e&&(i={...i,...e});const s="string"===typeof e?e:i.slide;if("number"===typeof e)n.to(e);else if("string"===typeof s){if("undefined"===typeof n[s])throw new TypeError(`No method named "${s}"`);n[s]()}else i.interval&&i.ride&&(n.pause(),n.cycle())}static jQueryInterface(t){return this.each((function(){Ei.carouselInterface(this,t)}))}static dataApiClickHandler(t){const e=we(this);if(!e||!e.classList.contains(ii))return;const n={...Sn.getDataAttributes(e),...Sn.getDataAttributes(this)},i=this.getAttribute("data-bs-slide-to");i&&(n.interval=!1),Ei.carouselInterface(e,n),i&&Ei.getInstance(e).to(i),t.preventDefault()}}en.on(document,ni,wi,Ei.dataApiClickHandler),en.on(window,ei,(()=>{const t=Cn.find(vi);for(let e=0,n=t.length;e<n;e++)Ei.carouselInterface(t[e],Ei.getInstance(t[e]))})),Le(Ei);const Ti="collapse",Ii="bs.collapse",Ai=`.${Ii}`,Si=".data-api",xi={toggle:!0,parent:null},Ci={toggle:"boolean",parent:"(null|element)"},ki=`show${Ai}`,Di=`shown${Ai}`,Ni=`hide${Ai}`,Oi=`hidden${Ai}`,Li=`click${Ai}${Si}`,Pi="show",Ri="collapse",Mi="collapsing",Fi="collapsed",Bi=`:scope .${Ri} .${Ri}`,Vi="collapse-horizontal",ji="width",$i="height",Ui=".collapse.show, .collapse.collapsing",qi='[data-bs-toggle="collapse"]';class Hi extends on{constructor(t,e){super(t),this._isTransitioning=!1,this._config=this._getConfig(e),this._triggerArray=[];const n=Cn.find(qi);for(let i=0,s=n.length;i<s;i++){const t=n[i],e=ye(t),s=Cn.find(e).filter((t=>t===this._element));null!==e&&s.length&&(this._selector=e,this._triggerArray.push(t))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return xi}static get NAME(){return Ti}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t,e=[];if(this._config.parent){const t=Cn.find(Bi,this._config.parent);e=Cn.find(Ui,this._config.parent).filter((e=>!t.includes(e)))}const n=Cn.findOne(this._selector);if(e.length){const i=e.find((t=>n!==t));if(t=i?Hi.getInstance(i):null,t&&t._isTransitioning)return}const i=en.trigger(this._element,ki);if(i.defaultPrevented)return;e.forEach((e=>{n!==e&&Hi.getOrCreateInstance(e,{toggle:!1}).hide(),t||sn.set(e,Ii,null)}));const s=this._getDimension();this._element.classList.remove(Ri),this._element.classList.add(Mi),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Mi),this._element.classList.add(Ri,Pi),this._element.style[s]="",en.trigger(this._element,Di)},o=s[0].toUpperCase()+s.slice(1),a=`scroll${o}`;this._queueCallback(r,this._element,!0),this._element.style[s]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown())return;const t=en.trigger(this._element,Ni);if(t.defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,Ce(this._element),this._element.classList.add(Mi),this._element.classList.remove(Ri,Pi);const n=this._triggerArray.length;for(let s=0;s<n;s++){const t=this._triggerArray[s],e=we(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Mi),this._element.classList.add(Ri),en.trigger(this._element,Oi)};this._element.style[e]="",this._queueCallback(i,this._element,!0)}_isShown(t=this._element){return t.classList.contains(Pi)}_getConfig(t){return t={...xi,...Sn.getDataAttributes(this._element),...t},t.toggle=Boolean(t.toggle),t.parent=Ee(t.parent),Te(Ti,t,Ci),t}_getDimension(){return this._element.classList.contains(Vi)?ji:$i}_initializeChildren(){if(!this._config.parent)return;const t=Cn.find(Bi,this._config.parent);Cn.find(qi,this._config.parent).filter((e=>!t.includes(e))).forEach((t=>{const e=we(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}))}_addAriaAndCollapsedClass(t,e){t.length&&t.forEach((t=>{e?t.classList.remove(Fi):t.classList.add(Fi),t.setAttribute("aria-expanded",e)}))}static jQueryInterface(t){return this.each((function(){const e={};"string"===typeof t&&/show|hide/.test(t)&&(e.toggle=!1);const n=Hi.getOrCreateInstance(this,e);if("string"===typeof t){if("undefined"===typeof n[t])throw new TypeError(`No method named "${t}"`);n[t]()}}))}}en.on(document,Li,qi,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();const e=ye(this),n=Cn.find(e);n.forEach((t=>{Hi.getOrCreateInstance(t,{toggle:!1}).toggle()}))})),Le(Hi);const zi="dropdown",Ki="bs.dropdown",Wi=`.${Ki}`,Gi=".data-api",Yi="Escape",Qi="Space",Xi="Tab",Ji="ArrowUp",Zi="ArrowDown",ts=2,es=new RegExp(`${Ji}|${Zi}|${Yi}`),ns=`hide${Wi}`,is=`hidden${Wi}`,ss=`show${Wi}`,rs=`shown${Wi}`,os=`click${Wi}${Gi}`,as=`keydown${Wi}${Gi}`,cs=`keyup${Wi}${Gi}`,ls="show",us="dropup",hs="dropend",ds="dropstart",fs="navbar",ps='[data-bs-toggle="dropdown"]',ms=".dropdown-menu",gs=".navbar-nav",ys=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",ws=Oe()?"top-end":"top-start",vs=Oe()?"top-start":"top-end",bs=Oe()?"bottom-end":"bottom-start",_s=Oe()?"bottom-start":"bottom-end",Es=Oe()?"left-start":"right-start",Ts=Oe()?"right-start":"left-start",Is={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},As={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class Ss extends on{constructor(t,e){super(t),this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return Is}static get DefaultType(){return As}static get NAME(){return zi}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ae(this._element)||this._isShown(this._menu))return;const t={relatedTarget:this._element},e=en.trigger(this._element,ss,t);if(e.defaultPrevented)return;const n=Ss.getParentFromElement(this._element);this._inNavbar?Sn.setDataAttribute(this._menu,"popper","none"):this._createPopper(n),"ontouchstart"in document.documentElement&&!n.closest(gs)&&[].concat(...document.body.children).forEach((t=>en.on(t,"mouseover",xe))),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ls),this._element.classList.add(ls),en.trigger(this._element,rs,t)}hide(){if(Ae(this._element)||!this._isShown(this._menu))return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){const e=en.trigger(this._element,ns,t);e.defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((t=>en.off(t,"mouseover",xe))),this._popper&&this._popper.destroy(),this._menu.classList.remove(ls),this._element.classList.remove(ls),this._element.setAttribute("aria-expanded","false"),Sn.removeDataAttribute(this._menu,"popper"),en.trigger(this._element,is,t))}_getConfig(t){if(t={...this.constructor.Default,...Sn.getDataAttributes(this._element),...t},Te(zi,t,this.constructor.DefaultType),"object"===typeof t.reference&&!_e(t.reference)&&"function"!==typeof t.reference.getBoundingClientRect)throw new TypeError(`${zi.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(t){if("undefined"===typeof i)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=t:_e(this._config.reference)?e=Ee(this._config.reference):"object"===typeof this._config.reference&&(e=this._config.reference);const n=this._getPopperConfig(),s=n.modifiers.find((t=>"applyStyles"===t.name&&!1===t.enabled));this._popper=ce(e,this._menu,n),s&&Sn.setDataAttribute(this._menu,"popper","static")}_isShown(t=this._element){return t.classList.contains(ls)}_getMenuElement(){return Cn.next(this._element,ms)[0]}_getPlacement(){const t=this._element.parentNode;if(t.classList.contains(hs))return Es;if(t.classList.contains(ds))return Ts;const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains(us)?e?vs:ws:e?_s:bs}_detectNavbar(){return null!==this._element.closest(`.${fs}`)}_getOffset(){const{offset:t}=this._config;return"string"===typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"===typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,..."function"===typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_selectMenuItem({key:t,target:e}){const n=Cn.find(ys,this._menu).filter(Ie);n.length&&Me(n,e,t===Zi,!n.includes(e)).focus()}static jQueryInterface(t){return this.each((function(){const e=Ss.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}static clearMenus(t){if(t&&(t.button===ts||"keyup"===t.type&&t.key!==Xi))return;const e=Cn.find(ps);for(let n=0,i=e.length;n<i;n++){const i=Ss.getInstance(e[n]);if(!i||!1===i._config.autoClose)continue;if(!i._isShown())continue;const s={relatedTarget:i._element};if(t){const e=t.composedPath(),n=e.includes(i._menu);if(e.includes(i._element)||"inside"===i._config.autoClose&&!n||"outside"===i._config.autoClose&&n)continue;if(i._menu.contains(t.target)&&("keyup"===t.type&&t.key===Xi||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;"click"===t.type&&(s.clickEvent=t)}i._completeHide(s)}}static getParentFromElement(t){return we(t)||t.parentNode}static dataApiKeydownHandler(t){if(/input|textarea/i.test(t.target.tagName)?t.key===Qi||t.key!==Yi&&(t.key!==Zi&&t.key!==Ji||t.target.closest(ms)):!es.test(t.key))return;const e=this.classList.contains(ls);if(!e&&t.key===Yi)return;if(t.preventDefault(),t.stopPropagation(),Ae(this))return;const n=this.matches(ps)?this:Cn.prev(this,ps)[0],i=Ss.getOrCreateInstance(n);if(t.key!==Yi)return t.key===Ji||t.key===Zi?(e||i.show(),void i._selectMenuItem(t)):void(e&&t.key!==Qi||Ss.clearMenus());i.hide()}}en.on(document,as,ps,Ss.dataApiKeydownHandler),en.on(document,as,ms,Ss.dataApiKeydownHandler),en.on(document,os,Ss.clearMenus),en.on(document,cs,Ss.clearMenus),en.on(document,os,ps,(function(t){t.preventDefault(),Ss.getOrCreateInstance(this).toggle()})),Le(Ss);const xs=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Cs=".sticky-top";class ks{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",(e=>e+t)),this._setElementAttributes(xs,"paddingRight",(e=>e+t)),this._setElementAttributes(Cs,"marginRight",(e=>e-t))}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,n){const i=this.getWidth(),s=t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+i)return;this._saveInitialAttribute(t,e);const s=window.getComputedStyle(t)[e];t.style[e]=`${n(Number.parseFloat(s))}px`};this._applyManipulationCallback(t,s)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(xs,"paddingRight"),this._resetElementAttributes(Cs,"marginRight")}_saveInitialAttribute(t,e){const n=t.style[e];n&&Sn.setDataAttribute(t,e,n)}_resetElementAttributes(t,e){const n=t=>{const n=Sn.getDataAttribute(t,e);"undefined"===typeof n?t.style.removeProperty(e):(Sn.removeDataAttribute(t,e),t.style[e]=n)};this._applyManipulationCallback(t,n)}_applyManipulationCallback(t,e){_e(t)?e(t):Cn.find(t,this._element).forEach(e)}isOverflowing(){return this.getWidth()>0}}const Ds={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},Ns={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},Os="backdrop",Ls="fade",Ps="show",Rs=`mousedown.bs.${Os}`;class Ms{constructor(t){this._config=this._getConfig(t),this._isAppended=!1,this._element=null}show(t){this._config.isVisible?(this._append(),this._config.isAnimated&&Ce(this._getElement()),this._getElement().classList.add(Ps),this._emulateAnimation((()=>{Pe(t)}))):Pe(t)}hide(t){this._config.isVisible?(this._getElement().classList.remove(Ps),this._emulateAnimation((()=>{this.dispose(),Pe(t)}))):Pe(t)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(Ls),this._element=t}return this._element}_getConfig(t){return t={...Ds,..."object"===typeof t?t:{}},t.rootElement=Ee(t.rootElement),Te(Os,t,Ns),t}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),en.on(this._getElement(),Rs,(()=>{Pe(this._config.clickCallback)})),this._isAppended=!0)}dispose(){this._isAppended&&(en.off(this._element,Rs),this._element.remove(),this._isAppended=!1)}_emulateAnimation(t){Re(t,this._getElement(),this._config.isAnimated)}}const Fs={trapElement:null,autofocus:!0},Bs={trapElement:"element",autofocus:"boolean"},Vs="focustrap",js="bs.focustrap",$s=`.${js}`,Us=`focusin${$s}`,qs=`keydown.tab${$s}`,Hs="Tab",zs="forward",Ks="backward";class Ws{constructor(t){this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:t,autofocus:e}=this._config;this._isActive||(e&&t.focus(),en.off(document,$s),en.on(document,Us,(t=>this._handleFocusin(t))),en.on(document,qs,(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,en.off(document,$s))}_handleFocusin(t){const{target:e}=t,{trapElement:n}=this._config;if(e===document||e===n||n.contains(e))return;const i=Cn.focusableChildren(n);0===i.length?n.focus():this._lastTabNavDirection===Ks?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){t.key===Hs&&(this._lastTabNavDirection=t.shiftKey?Ks:zs)}_getConfig(t){return t={...Fs,..."object"===typeof t?t:{}},Te(Vs,t,Bs),t}}const Gs="modal",Ys="bs.modal",Qs=`.${Ys}`,Xs=".data-api",Js="Escape",Zs={backdrop:!0,keyboard:!0,focus:!0},tr={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},er=`hide${Qs}`,nr=`hidePrevented${Qs}`,ir=`hidden${Qs}`,sr=`show${Qs}`,rr=`shown${Qs}`,or=`resize${Qs}`,ar=`click.dismiss${Qs}`,cr=`keydown.dismiss${Qs}`,lr=`mouseup.dismiss${Qs}`,ur=`mousedown.dismiss${Qs}`,hr=`click${Qs}${Xs}`,dr="modal-open",fr="fade",pr="show",mr="modal-static",gr=".modal.show",yr=".modal-dialog",wr=".modal-body",vr='[data-bs-toggle="modal"]';class br extends on{constructor(t,e){super(t),this._config=this._getConfig(e),this._dialog=Cn.findOne(yr,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new ks}static get Default(){return Zs}static get NAME(){return Gs}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||this._isTransitioning)return;const e=en.trigger(this._element,sr,{relatedTarget:t});e.defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(dr),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),en.on(this._dialog,ur,(()=>{en.one(this._element,lr,(t=>{t.target===this._element&&(this._ignoreBackdropClick=!0)}))})),this._showBackdrop((()=>this._showElement(t))))}hide(){if(!this._isShown||this._isTransitioning)return;const t=en.trigger(this._element,er);if(t.defaultPrevented)return;this._isShown=!1;const e=this._isAnimated();e&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(pr),en.off(this._element,ar),en.off(this._dialog,ur),this._queueCallback((()=>this._hideModal()),this._element,e)}dispose(){[window,this._dialog].forEach((t=>en.off(t,Qs))),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ms({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ws({trapElement:this._element})}_getConfig(t){return t={...Zs,...Sn.getDataAttributes(this._element),..."object"===typeof t?t:{}},Te(Gs,t,tr),t}_showElement(t){const e=this._isAnimated(),n=Cn.findOne(wr,this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,n&&(n.scrollTop=0),e&&Ce(this._element),this._element.classList.add(pr);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,en.trigger(this._element,rr,{relatedTarget:t})};this._queueCallback(i,this._dialog,e)}_setEscapeEvent(){this._isShown?en.on(this._element,cr,(t=>{this._config.keyboard&&t.key===Js?(t.preventDefault(),this.hide()):this._config.keyboard||t.key!==Js||this._triggerBackdropTransition()})):en.off(this._element,cr)}_setResizeEvent(){this._isShown?en.on(window,or,(()=>this._adjustDialog())):en.off(window,or)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(dr),this._resetAdjustments(),this._scrollBar.reset(),en.trigger(this._element,ir)}))}_showBackdrop(t){en.on(this._element,ar,(t=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:t.target===t.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())})),this._backdrop.show(t)}_isAnimated(){return this._element.classList.contains(fr)}_triggerBackdropTransition(){const t=en.trigger(this._element,nr);if(t.defaultPrevented)return;const{classList:e,scrollHeight:n,style:i}=this._element,s=n>document.documentElement.clientHeight;!s&&"hidden"===i.overflowY||e.contains(mr)||(s||(i.overflowY="hidden"),e.add(mr),this._queueCallback((()=>{e.remove(mr),s||this._queueCallback((()=>{i.overflowY=""}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),n=e>0;(!n&&t&&!Oe()||n&&!t&&Oe())&&(this._element.style.paddingLeft=`${e}px`),(n&&!t&&!Oe()||!n&&t&&Oe())&&(this._element.style.paddingRight=`${e}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each((function(){const n=br.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof n[t])throw new TypeError(`No method named "${t}"`);n[t](e)}}))}}en.on(document,hr,vr,(function(t){const e=we(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),en.one(e,sr,(t=>{t.defaultPrevented||en.one(e,ir,(()=>{Ie(this)&&this.focus()}))}));const n=Cn.findOne(gr);n&&br.getInstance(n).hide();const i=br.getOrCreateInstance(e);i.toggle(this)})),an(br),Le(br);const _r="offcanvas",Er="bs.offcanvas",Tr=`.${Er}`,Ir=".data-api",Ar=`load${Tr}${Ir}`,Sr="Escape",xr={backdrop:!0,keyboard:!0,scroll:!1},Cr={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},kr="show",Dr="offcanvas-backdrop",Nr=".offcanvas.show",Or=`show${Tr}`,Lr=`shown${Tr}`,Pr=`hide${Tr}`,Rr=`hidden${Tr}`,Mr=`click${Tr}${Ir}`,Fr=`keydown.dismiss${Tr}`,Br='[data-bs-toggle="offcanvas"]';class Vr extends on{constructor(t,e){super(t),this._config=this._getConfig(e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return _r}static get Default(){return xr}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown)return;const e=en.trigger(this._element,Or,{relatedTarget:t});if(e.defaultPrevented)return;this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new ks).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(kr);const n=()=>{this._config.scroll||this._focustrap.activate(),en.trigger(this._element,Lr,{relatedTarget:t})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown)return;const t=en.trigger(this._element,Pr);if(t.defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove(kr),this._backdrop.hide();const e=()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new ks).reset(),en.trigger(this._element,Rr)};this._queueCallback(e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(t){return t={...xr,...Sn.getDataAttributes(this._element),..."object"===typeof t?t:{}},Te(_r,t,Cr),t}_initializeBackDrop(){return new Ms({className:Dr,isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new Ws({trapElement:this._element})}_addEventListeners(){en.on(this._element,Fr,(t=>{this._config.keyboard&&t.key===Sr&&this.hide()}))}static jQueryInterface(t){return this.each((function(){const e=Vr.getOrCreateInstance(this,t);if("string"===typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}en.on(document,Mr,Br,(function(t){const e=we(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Ae(this))return;en.one(e,Rr,(()=>{Ie(this)&&this.focus()}));const n=Cn.findOne(Nr);n&&n!==e&&Vr.getInstance(n).hide();const i=Vr.getOrCreateInstance(e);i.toggle(this)})),en.on(window,Ar,(()=>Cn.find(Nr).forEach((t=>Vr.getOrCreateInstance(t).show())))),an(Vr),Le(Vr);const jr=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),$r=/^aria-[\w-]*$/i,Ur=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,qr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Hr=(t,e)=>{const n=t.nodeName.toLowerCase();if(e.includes(n))return!jr.has(n)||Boolean(Ur.test(t.nodeValue)||qr.test(t.nodeValue));const i=e.filter((t=>t instanceof RegExp));for(let s=0,r=i.length;s<r;s++)if(i[s].test(n))return!0;return!1},zr={"*":["class","dir","id","lang","role",$r],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Kr(t,e,n){if(!t.length)return t;if(n&&"function"===typeof n)return n(t);const i=new window.DOMParser,s=i.parseFromString(t,"text/html"),r=[].concat(...s.body.querySelectorAll("*"));for(let o=0,a=r.length;o<a;o++){const t=r[o],n=t.nodeName.toLowerCase();if(!Object.keys(e).includes(n)){t.remove();continue}const i=[].concat(...t.attributes),s=[].concat(e["*"]||[],e[n]||[]);i.forEach((e=>{Hr(e,s)||t.removeAttribute(e.nodeName)}))}return s.body.innerHTML}const Wr="tooltip",Gr="bs.tooltip",Yr=`.${Gr}`,Qr="bs-tooltip",Xr=new Set(["sanitize","allowList","sanitizeFn"]),Jr={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},Zr={AUTO:"auto",TOP:"top",RIGHT:Oe()?"left":"right",BOTTOM:"bottom",LEFT:Oe()?"right":"left"},to={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:zr,popperConfig:null},eo={HIDE:`hide${Yr}`,HIDDEN:`hidden${Yr}`,SHOW:`show${Yr}`,SHOWN:`shown${Yr}`,INSERTED:`inserted${Yr}`,CLICK:`click${Yr}`,FOCUSIN:`focusin${Yr}`,FOCUSOUT:`focusout${Yr}`,MOUSEENTER:`mouseenter${Yr}`,MOUSELEAVE:`mouseleave${Yr}`},no="fade",io="modal",so="show",ro="show",oo="out",ao=".tooltip-inner",co=`.${io}`,lo="hide.bs.modal",uo="hover",ho="focus",fo="click",po="manual";class mo extends on{constructor(t,e){if("undefined"===typeof i)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(e),this.tip=null,this._setListeners()}static get Default(){return to}static get NAME(){return Wr}static get Event(){return eo}static get DefaultType(){return Jr}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(t){if(this._isEnabled)if(t){const e=this._initializeOnDelegatedTarget(t);e._activeTrigger.click=!e._activeTrigger.click,e._isWithActiveTrigger()?e._enter(null,e):e._leave(null,e)}else{if(this.getTipElement().classList.contains(so))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),en.off(this._element.closest(co),lo,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const t=en.trigger(this._element,this.constructor.Event.SHOW),e=Se(this._element),n=null===e?this._element.ownerDocument.documentElement.contains(this._element):e.contains(this._element);if(t.defaultPrevented||!n)return;"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(ao).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const i=this.getTipElement(),s=me(this.constructor.NAME);i.setAttribute("id",s),this._element.setAttribute("aria-describedby",s),this._config.animation&&i.classList.add(no);const r="function"===typeof this._config.placement?this._config.placement.call(this,i,this._element):this._config.placement,o=this._getAttachment(r);this._addAttachmentClass(o);const{container:a}=this._config;sn.set(i,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(i),en.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=ce(this._element,i,this._getPopperConfig(o)),i.classList.add(so);const c=this._resolvePossibleFunction(this._config.customClass);c&&i.classList.add(...c.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((t=>{en.on(t,"mouseover",xe)}));const l=()=>{const t=this._hoverState;this._hoverState=null,en.trigger(this._element,this.constructor.Event.SHOWN),t===oo&&this._leave(null,this)},u=this.tip.classList.contains(no);this._queueCallback(l,this.tip,u)}hide(){if(!this._popper)return;const t=this.getTipElement(),e=()=>{this._isWithActiveTrigger()||(this._hoverState!==ro&&t.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),en.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())},n=en.trigger(this._element,this.constructor.Event.HIDE);if(n.defaultPrevented)return;t.classList.remove(so),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((t=>en.off(t,"mouseover",xe))),this._activeTrigger[fo]=!1,this._activeTrigger[ho]=!1,this._activeTrigger[uo]=!1;const i=this.tip.classList.contains(no);this._queueCallback(e,this.tip,i),this._hoverState=""}update(){null!==this._popper&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const t=document.createElement("div");t.innerHTML=this._config.template;const e=t.children[0];return this.setContent(e),e.classList.remove(no,so),this.tip=e,this.tip}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),ao)}_sanitizeAndSetContent(t,e,n){const i=Cn.findOne(n,t);e||!i?this.setElementContent(i,e):i.remove()}setElementContent(t,e){if(null!==t)return _e(e)?(e=Ee(e),void(this._config.html?e.parentNode!==t&&(t.innerHTML="",t.append(e)):t.textContent=e.textContent)):void(this._config.html?(this._config.sanitize&&(e=Kr(e,this._config.allowList,this._config.sanitizeFn)),t.innerHTML=e):t.textContent=e)}getTitle(){const t=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(t)}updateAttachment(t){return"right"===t?"end":"left"===t?"start":t}_initializeOnDelegatedTarget(t,e){return e||this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:t}=this._config;return"string"===typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"===typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return"function"===typeof t?t.call(this._element):t}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:t=>this._handlePopperPlacementChange(t)}],onFirstUpdate:t=>{t.options.placement!==t.placement&&this._handlePopperPlacementChange(t)}};return{...e,..."function"===typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_addAttachmentClass(t){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(t)}`)}_getAttachment(t){return Zr[t.toUpperCase()]}_setListeners(){const t=this._config.trigger.split(" ");t.forEach((t=>{if("click"===t)en.on(this._element,this.constructor.Event.CLICK,this._config.selector,(t=>this.toggle(t)));else if(t!==po){const e=t===uo?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,n=t===uo?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;en.on(this._element,e,this._config.selector,(t=>this._enter(t))),en.on(this._element,n,this._config.selector,(t=>this._leave(t)))}})),this._hideModalHandler=()=>{this._element&&this.hide()},en.on(this._element.closest(co),lo,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const t=this._element.getAttribute("title"),e=typeof this._element.getAttribute("data-bs-original-title");(t||"string"!==e)&&(this._element.setAttribute("data-bs-original-title",t||""),!t||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",t),this._element.setAttribute("title",""))}_enter(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusin"===t.type?ho:uo]=!0),e.getTipElement().classList.contains(so)||e._hoverState===ro?e._hoverState=ro:(clearTimeout(e._timeout),e._hoverState=ro,e._config.delay&&e._config.delay.show?e._timeout=setTimeout((()=>{e._hoverState===ro&&e.show()}),e._config.delay.show):e.show())}_leave(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusout"===t.type?ho:uo]=e._element.contains(t.relatedTarget)),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=oo,e._config.delay&&e._config.delay.hide?e._timeout=setTimeout((()=>{e._hoverState===oo&&e.hide()}),e._config.delay.hide):e.hide())}_isWithActiveTrigger(){for(const t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1}_getConfig(t){const e=Sn.getDataAttributes(this._element);return Object.keys(e).forEach((t=>{Xr.has(t)&&delete e[t]})),t={...this.constructor.Default,...e,..."object"===typeof t&&t?t:{}},t.container=!1===t.container?document.body:Ee(t.container),"number"===typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"===typeof t.title&&(t.title=t.title.toString()),"number"===typeof t.content&&(t.content=t.content.toString()),Te(Wr,t,this.constructor.DefaultType),t.sanitize&&(t.template=Kr(t.template,t.allowList,t.sanitizeFn)),t}_getDelegateConfig(){const t={};for(const e in this._config)this.constructor.Default[e]!==this._config[e]&&(t[e]=this._config[e]);return t}_cleanTipClass(){const t=this.getTipElement(),e=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),n=t.getAttribute("class").match(e);null!==n&&n.length>0&&n.map((t=>t.trim())).forEach((e=>t.classList.remove(e)))}_getBasicClassPrefix(){return Qr}_handlePopperPlacementChange(t){const{state:e}=t;e&&(this.tip=e.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(e.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(t){return this.each((function(){const e=mo.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}Le(mo);const go="popover",yo="bs.popover",wo=`.${yo}`,vo="bs-popover",bo={...mo.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},_o={...mo.DefaultType,content:"(string|element|function)"},Eo={HIDE:`hide${wo}`,HIDDEN:`hidden${wo}`,SHOW:`show${wo}`,SHOWN:`shown${wo}`,INSERTED:`inserted${wo}`,CLICK:`click${wo}`,FOCUSIN:`focusin${wo}`,FOCUSOUT:`focusout${wo}`,MOUSEENTER:`mouseenter${wo}`,MOUSELEAVE:`mouseleave${wo}`},To=".popover-header",Io=".popover-body";class Ao extends mo{static get Default(){return bo}static get NAME(){return go}static get Event(){return Eo}static get DefaultType(){return _o}isWithContent(){return this.getTitle()||this._getContent()}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),To),this._sanitizeAndSetContent(t,this._getContent(),Io)}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return vo}static jQueryInterface(t){return this.each((function(){const e=Ao.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}Le(Ao);const So="scrollspy",xo="bs.scrollspy",Co=`.${xo}`,ko=".data-api",Do={offset:10,method:"auto",target:""},No={offset:"number",method:"string",target:"(string|element)"},Oo=`activate${Co}`,Lo=`scroll${Co}`,Po=`load${Co}${ko}`,Ro="dropdown-item",Mo="active",Fo='[data-bs-spy="scroll"]',Bo=".nav, .list-group",Vo=".nav-link",jo=".nav-item",$o=".list-group-item",Uo=`${Vo}, ${$o}, .${Ro}`,qo=".dropdown",Ho=".dropdown-toggle",zo="offset",Ko="position";class Wo extends on{constructor(t,e){super(t),this._scrollElement="BODY"===this._element.tagName?window:this._element,this._config=this._getConfig(e),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,en.on(this._scrollElement,Lo,(()=>this._process())),this.refresh(),this._process()}static get Default(){return Do}static get NAME(){return So}refresh(){const t=this._scrollElement===this._scrollElement.window?zo:Ko,e="auto"===this._config.method?t:this._config.method,n=e===Ko?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();const i=Cn.find(Uo,this._config.target);i.map((t=>{const i=ye(t),s=i?Cn.findOne(i):null;if(s){const t=s.getBoundingClientRect();if(t.width||t.height)return[Sn[e](s).top+n,i]}return null})).filter((t=>t)).sort(((t,e)=>t[0]-e[0])).forEach((t=>{this._offsets.push(t[0]),this._targets.push(t[1])}))}dispose(){en.off(this._scrollElement,Co),super.dispose()}_getConfig(t){return t={...Do,...Sn.getDataAttributes(this._element),..."object"===typeof t&&t?t:{}},t.target=Ee(t.target)||document.documentElement,Te(So,t,No),t}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){const t=this._targets[this._targets.length-1];this._activeTarget!==t&&this._activate(t)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let e=this._offsets.length;e--;){const n=this._activeTarget!==this._targets[e]&&t>=this._offsets[e]&&("undefined"===typeof this._offsets[e+1]||t<this._offsets[e+1]);n&&this._activate(this._targets[e])}}}_activate(t){this._activeTarget=t,this._clear();const e=Uo.split(",").map((e=>`${e}[data-bs-target="${t}"],${e}[href="${t}"]`)),n=Cn.findOne(e.join(","),this._config.target);n.classList.add(Mo),n.classList.contains(Ro)?Cn.findOne(Ho,n.closest(qo)).classList.add(Mo):Cn.parents(n,Bo).forEach((t=>{Cn.prev(t,`${Vo}, ${$o}`).forEach((t=>t.classList.add(Mo))),Cn.prev(t,jo).forEach((t=>{Cn.children(t,Vo).forEach((t=>t.classList.add(Mo)))}))})),en.trigger(this._scrollElement,Oo,{relatedTarget:t})}_clear(){Cn.find(Uo,this._config.target).filter((t=>t.classList.contains(Mo))).forEach((t=>t.classList.remove(Mo)))}static jQueryInterface(t){return this.each((function(){const e=Wo.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}en.on(window,Po,(()=>{Cn.find(Fo).forEach((t=>new Wo(t)))})),Le(Wo);const Go="tab",Yo="bs.tab",Qo=`.${Yo}`,Xo=".data-api",Jo=`hide${Qo}`,Zo=`hidden${Qo}`,ta=`show${Qo}`,ea=`shown${Qo}`,na=`click${Qo}${Xo}`,ia="dropdown-menu",sa="active",ra="fade",oa="show",aa=".dropdown",ca=".nav, .list-group",la=".active",ua=":scope > li > .active",ha='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',da=".dropdown-toggle",fa=":scope > .dropdown-menu .active";class pa extends on{static get NAME(){return Go}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(sa))return;let t;const e=we(this._element),n=this._element.closest(ca);if(n){const e="UL"===n.nodeName||"OL"===n.nodeName?ua:la;t=Cn.find(e,n),t=t[t.length-1]}const i=t?en.trigger(t,Jo,{relatedTarget:this._element}):null,s=en.trigger(this._element,ta,{relatedTarget:t});if(s.defaultPrevented||null!==i&&i.defaultPrevented)return;this._activate(this._element,n);const r=()=>{en.trigger(t,Zo,{relatedTarget:this._element}),en.trigger(this._element,ea,{relatedTarget:t})};e?this._activate(e,e.parentNode,r):r()}_activate(t,e,n){const i=!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?Cn.children(e,la):Cn.find(ua,e),s=i[0],r=n&&s&&s.classList.contains(ra),o=()=>this._transitionComplete(t,s,n);s&&r?(s.classList.remove(oa),this._queueCallback(o,t,!0)):o()}_transitionComplete(t,e,n){if(e){e.classList.remove(sa);const t=Cn.findOne(fa,e.parentNode);t&&t.classList.remove(sa),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}t.classList.add(sa),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),Ce(t),t.classList.contains(ra)&&t.classList.add(oa);let i=t.parentNode;if(i&&"LI"===i.nodeName&&(i=i.parentNode),i&&i.classList.contains(ia)){const e=t.closest(aa);e&&Cn.find(da,e).forEach((t=>t.classList.add(sa))),t.setAttribute("aria-expanded",!0)}n&&n()}static jQueryInterface(t){return this.each((function(){const e=pa.getOrCreateInstance(this);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}en.on(document,na,ha,(function(t){if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Ae(this))return;const e=pa.getOrCreateInstance(this);e.show()})),Le(pa);const ma="toast",ga="bs.toast",ya=`.${ga}`,wa=`mouseover${ya}`,va=`mouseout${ya}`,ba=`focusin${ya}`,_a=`focusout${ya}`,Ea=`hide${ya}`,Ta=`hidden${ya}`,Ia=`show${ya}`,Aa=`shown${ya}`,Sa="fade",xa="hide",Ca="show",ka="showing",Da={animation:"boolean",autohide:"boolean",delay:"number"},Na={animation:!0,autohide:!0,delay:5e3};class Oa extends on{constructor(t,e){super(t),this._config=this._getConfig(e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return Da}static get Default(){return Na}static get NAME(){return ma}show(){const t=en.trigger(this._element,Ia);if(t.defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Sa);const e=()=>{this._element.classList.remove(ka),en.trigger(this._element,Aa),this._maybeScheduleHide()};this._element.classList.remove(xa),Ce(this._element),this._element.classList.add(Ca),this._element.classList.add(ka),this._queueCallback(e,this._element,this._config.animation)}hide(){if(!this._element.classList.contains(Ca))return;const t=en.trigger(this._element,Ea);if(t.defaultPrevented)return;const e=()=>{this._element.classList.add(xa),this._element.classList.remove(ka),this._element.classList.remove(Ca),en.trigger(this._element,Ta)};this._element.classList.add(ka),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this._element.classList.contains(Ca)&&this._element.classList.remove(Ca),super.dispose()}_getConfig(t){return t={...Na,...Sn.getDataAttributes(this._element),..."object"===typeof t&&t?t:{}},Te(ma,t,this.constructor.DefaultType),t}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e;break}if(e)return void this._clearTimeout();const n=t.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){en.on(this._element,wa,(t=>this._onInteraction(t,!0))),en.on(this._element,va,(t=>this._onInteraction(t,!1))),en.on(this._element,ba,(t=>this._onInteraction(t,!0))),en.on(this._element,_a,(t=>this._onInteraction(t,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const e=Oa.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}an(Oa),Le(Oa)},6780:function(t,e,n){"use strict";n.d(e,{Z:function(){return i.Z}});var i=n(2661),s="firebase",r="9.6.10";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
i.Z.registerVersion(s,r,"app-compat")},4406:function(t,e,n){"use strict";n(8675),n(3462);var i,s=n(2661),r=(n(1703),n(2801),n(2262),n(4506),n(9684)),o=n(7142),a=n(5168),c=n(223),l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},u={},h=h||{},d=l||self;function f(){}function p(t){var e=typeof t;return e="object"!=e?e:t?Array.isArray(t)?"array":e:"null","array"==e||"object"==e&&"number"==typeof t.length}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++w)}var y="closure_uid_"+(1e9*Math.random()>>>0),w=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return _=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:b,_.apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function T(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,i){for(var s=Array(arguments.length-2),r=2;r<arguments.length;r++)s[r-2]=arguments[r];return e.prototype[n].apply(t,s)}}function I(){this.s=this.s,this.o=this.o}var A=0,S={};I.prototype.s=!1,I.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0!=A)){var t=g(this);delete S[t]}},I.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const x=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},C=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const i=t.length,s="string"===typeof t?t.split(""):t;for(let r=0;r<i;r++)r in s&&e.call(n,s[r],r,t)};function k(t){t:{var e=Wn;const n=t.length,i="string"===typeof t?t.split(""):t;for(let s=0;s<n;s++)if(s in i&&e.call(void 0,i[s],s,t)){e=s;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}function D(t){return Array.prototype.concat.apply([],arguments)}function N(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function O(t){return/^[\s\xa0]*$/.test(t)}var L,P=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function R(t,e){return-1!=t.indexOf(e)}function M(t,e){return t<e?-1:t>e?1:0}t:{var F=d.navigator;if(F){var B=F.userAgent;if(B){L=B;break t}}L=""}function V(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function j(t){const e={};for(const n in t)e[n]=t[n];return e}var $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(t,e){let n,i;for(let s=1;s<arguments.length;s++){for(n in i=arguments[s],i)t[n]=i[n];for(let e=0;e<$.length;e++)n=$[e],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function q(t){return q[" "](t),t}function H(t){var e=it;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}q[" "]=f;var z,K=R(L,"Opera"),W=R(L,"Trident")||R(L,"MSIE"),G=R(L,"Edge"),Y=G||W,Q=R(L,"Gecko")&&!(R(L.toLowerCase(),"webkit")&&!R(L,"Edge"))&&!(R(L,"Trident")||R(L,"MSIE"))&&!R(L,"Edge"),X=R(L.toLowerCase(),"webkit")&&!R(L,"Edge");function J(){var t=d.document;return t?t.documentMode:void 0}t:{var Z="",tt=function(){var t=L;return Q?/rv:([^\);]+)(\)|;)/.exec(t):G?/Edge\/([\d\.]+)/.exec(t):W?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):X?/WebKit\/(\S+)/.exec(t):K?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(tt&&(Z=tt?tt[1]:""),W){var et=J();if(null!=et&&et>parseFloat(Z)){z=String(et);break t}}z=Z}var nt,it={};function st(){return H((function(){let t=0;const e=P(String(z)).split("."),n=P("9").split("."),i=Math.max(e.length,n.length);for(let o=0;0==t&&o<i;o++){var s=e[o]||"",r=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],0==s[0].length&&0==r[0].length)break;t=M(0==s[1].length?0:parseInt(s[1],10),0==r[1].length?0:parseInt(r[1],10))||M(0==s[2].length,0==r[2].length)||M(s[2],r[2]),s=s[3],r=r[3]}while(0==t)}return 0<=t}))}if(d.document&&W){var rt=J();nt=rt||(parseInt(z,10)||void 0)}else nt=void 0;var ot=nt,at=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{d.addEventListener("test",f,e),d.removeEventListener("test",f,e)}catch(n){}return t}();function ct(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function lt(t,e){if(ct.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Q){t:{try{q(e.nodeName);var s=!0;break t}catch(r){}s=!1}s||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:ut[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&lt.Z.h.call(this)}}ct.prototype.h=function(){this.defaultPrevented=!0},T(lt,ct);var ut={2:"touch",3:"pen",4:"mouse"};lt.prototype.h=function(){lt.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),dt=0;function ft(t,e,n,i,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ia=s,this.key=++dt,this.ca=this.fa=!1}function pt(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function mt(t){this.src=t,this.g={},this.h=0}function gt(t,e){var n=e.type;if(n in t.g){var i,s=t.g[n],r=x(s,e);(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(pt(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function yt(t,e,n,i){for(var s=0;s<t.length;++s){var r=t[s];if(!r.ca&&r.listener==e&&r.capture==!!n&&r.ia==i)return s}return-1}mt.prototype.add=function(t,e,n,i,s){var r=t.toString();t=this.g[r],t||(t=this.g[r]=[],this.h++);var o=yt(t,e,i,s);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new ft(e,this.src,r,!!i,s),e.fa=n,t.push(e)),e};var wt="closure_lm_"+(1e6*Math.random()|0),vt={};function bt(t,e,n,i,s){if(i&&i.once)return Tt(t,e,n,i,s);if(Array.isArray(e)){for(var r=0;r<e.length;r++)bt(t,e[r],n,i,s);return null}return n=Dt(n),t&&t[ht]?t.N(e,n,m(i)?!!i.capture:!!i,s):_t(t,e,n,!1,i,s)}function _t(t,e,n,i,s,r){if(!e)throw Error("Invalid event type");var o=m(s)?!!s.capture:!!s,a=Ct(t);if(a||(t[wt]=a=new mt(t)),n=a.add(e,n,i,o,r),n.proxy)return n;if(i=Et(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)at||(s=o),void 0===s&&(s=!1),t.addEventListener(e.toString(),i,s);else if(t.attachEvent)t.attachEvent(St(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function Et(){function t(n){return e.call(t.src,t.listener,n)}var e=xt;return t}function Tt(t,e,n,i,s){if(Array.isArray(e)){for(var r=0;r<e.length;r++)Tt(t,e[r],n,i,s);return null}return n=Dt(n),t&&t[ht]?t.O(e,n,m(i)?!!i.capture:!!i,s):_t(t,e,n,!0,i,s)}function It(t,e,n,i,s){if(Array.isArray(e))for(var r=0;r<e.length;r++)It(t,e[r],n,i,s);else i=m(i)?!!i.capture:!!i,n=Dt(n),t&&t[ht]?(t=t.i,e=String(e).toString(),e in t.g&&(r=t.g[e],n=yt(r,n,i,s),-1<n&&(pt(r[n]),Array.prototype.splice.call(r,n,1),0==r.length&&(delete t.g[e],t.h--)))):t&&(t=Ct(t))&&(e=t.g[e.toString()],t=-1,e&&(t=yt(e,n,i,s)),(n=-1<t?e[t]:null)&&At(n))}function At(t){if("number"!==typeof t&&t&&!t.ca){var e=t.src;if(e&&e[ht])gt(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(St(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Ct(e))?(gt(n,t),0==n.h&&(n.src=null,e[wt]=null)):pt(t)}}}function St(t){return t in vt?vt[t]:vt[t]="on"+t}function xt(t,e){if(t.ca)t=!0;else{e=new lt(e,this);var n=t.listener,i=t.ia||t.src;t.fa&&At(t),t=n.call(i,e)}return t}function Ct(t){return t=t[wt],t instanceof mt?t:null}var kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dt(t){return"function"===typeof t?t:(t[kt]||(t[kt]=function(e){return t.handleEvent(e)}),t[kt])}function Nt(){I.call(this),this.i=new mt(this),this.P=this,this.I=null}function Ot(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,"string"===typeof e)e=new ct(e,t);else if(e instanceof ct)e.target=e.target||t;else{var s=e;e=new ct(i,t),U(e,s)}if(s=!0,n)for(var r=n.length-1;0<=r;r--){var o=e.g=n[r];s=Lt(o,i,!0,e)&&s}if(o=e.g=t,s=Lt(o,i,!0,e)&&s,s=Lt(o,i,!1,e)&&s,n)for(r=0;r<n.length;r++)o=e.g=n[r],s=Lt(o,i,!1,e)&&s}function Lt(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,r=0;r<e.length;++r){var o=e[r];if(o&&!o.ca&&o.capture==n){var a=o.listener,c=o.ia||o.src;o.fa&&gt(t.i,o),s=!1!==a.call(c,i)&&s}}return s&&!i.defaultPrevented}T(Nt,I),Nt.prototype[ht]=!0,Nt.prototype.removeEventListener=function(t,e,n,i){It(this,t,e,n,i)},Nt.prototype.M=function(){if(Nt.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)pt(n[i]);delete e.g[t],e.h--}}this.I=null},Nt.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},Nt.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var Pt=d.JSON.stringify;function Rt(){var t=Ht;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Mt{constructor(){this.h=this.g=null}add(t,e){const n=Bt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}}var Ft,Bt=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new Vt),(t=>t.reset()));class Vt{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function jt(t){d.setTimeout((()=>{throw t}),0)}function $t(t,e){Ft||Ut(),qt||(Ft(),qt=!0),Ht.add(t,e)}function Ut(){var t=d.Promise.resolve(void 0);Ft=function(){t.then(zt)}}var qt=!1,Ht=new Mt;function zt(){for(var t;t=Rt();){try{t.h.call(t.g)}catch(n){jt(n)}var e=Bt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qt=!1}function Kt(t,e){Nt.call(this),this.h=t||1,this.g=e||d,this.j=_(this.kb,this),this.l=Date.now()}function Wt(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Gt(t,e,n){if("function"===typeof t)n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:d.setTimeout(t,e||0)}function Yt(t){t.g=Gt((()=>{t.g=null,t.i&&(t.i=!1,Yt(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}T(Kt,Nt),i=Kt.prototype,i.da=!1,i.S=null,i.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ot(this,"tick"),this.da&&(Wt(this),this.start()))}},i.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},i.M=function(){Kt.Z.M.call(this),Wt(this),delete this.g};class Qt extends I{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Yt(this)}M(){super.M(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xt(t){I.call(this),this.h=t,this.g={}}T(Xt,I);var Jt=[];function Zt(t,e,n,i){Array.isArray(n)||(n&&(Jt[0]=n.toString()),n=Jt);for(var s=0;s<n.length;s++){var r=bt(e,n[s],i||t.handleEvent,!1,t.h||t);if(!r)break;t.g[r.key]=r}}function te(t){V(t.g,(function(t,e){this.g.hasOwnProperty(e)&&At(t)}),t),t.g={}}function ee(){this.g=!0}function ne(t,e,n,i,s,r){t.info((function(){if(t.g)if(r)for(var o="",a=r.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+"\n"+n+"\n"+o}))}function ie(t,e,n,i,s,r,o){t.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+"\n"+n+"\n"+r+" "+o}))}function se(t,e,n,i){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+oe(t,n)+(i?" "+i:"")}))}function re(t,e){t.info((function(){return"TIMEOUT: "+e}))}function oe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var r=s[0];if("noop"!=r&&"stop"!=r&&"close"!=r)for(var o=1;o<s.length;o++)s[o]=""}}}return Pt(n)}catch(a){return e}}Xt.prototype.M=function(){Xt.Z.M.call(this),te(this)},Xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ee.prototype.Aa=function(){this.g=!1},ee.prototype.info=function(){};var ae={},ce=null;function le(){return ce=ce||new Nt}function ue(t){ct.call(this,ae.Ma,t)}function he(t){const e=le();Ot(e,new ue(e,t))}function de(t,e){ct.call(this,ae.STAT_EVENT,t),this.stat=e}function fe(t){const e=le();Ot(e,new de(e,t))}function pe(t,e){ct.call(this,ae.Na,t),this.size=e}function me(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return d.setTimeout((function(){t()}),e)}ae.Ma="serverreachability",T(ue,ct),ae.STAT_EVENT="statevent",T(de,ct),ae.Na="timingevent",T(pe,ct);var ge={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ye={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function we(){}function ve(t){return t.h||(t.h=t.i())}function be(){}we.prototype.h=null;var _e,Ee={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Te(){ct.call(this,"d")}function Ie(){ct.call(this,"c")}function Ae(){}function Se(t,e,n,i){this.l=t,this.j=e,this.m=n,this.X=i||1,this.V=new Xt(this),this.P=Ce,t=Y?125:void 0,this.W=new Kt(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new xe}function xe(){this.i=null,this.g="",this.h=!1}T(Te,ct),T(Ie,ct),T(Ae,we),Ae.prototype.g=function(){return new XMLHttpRequest},Ae.prototype.i=function(){return{}},_e=new Ae;var Ce=45e3,ke={},De={};function Ne(t,e,n){t.K=1,t.v=nn(Qe(e)),t.s=n,t.U=!0,Oe(t,null)}function Oe(t,e){t.F=Date.now(),Me(t),t.A=Qe(t.v);var n=t.A,i=t.X;Array.isArray(i)||(i=[String(i)]),wn(n.h,"t",i),t.C=0,n=t.l.H,t.h=new xe,t.g=Ii(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Qt(_(t.Ia,t,t.g),t.O)),Zt(t.V,t.g,"readystatechange",t.gb),e=t.H?j(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),he(1),ne(t.j,t.u,t.A,t.m,t.X,t.s)}function Le(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function Pe(t,e,n){let i,s=!0;for(;!t.I&&t.C<n.length;){if(i=Re(t,n),i==De){4==e&&(t.o=4,fe(14),s=!1),se(t.j,t.m,null,"[Incomplete Response]");break}if(i==ke){t.o=4,fe(15),se(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}se(t.j,t.m,i,null),$e(t,i)}Le(t)&&i!=De&&i!=ke&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,fe(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),gi(e),e.L=!0,fe(11))):(se(t.j,t.m,n,"[Invalid Chunked Response]"),je(t),Ve(t))}function Re(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?De:(n=Number(e.substring(n,i)),isNaN(n)?ke:(i+=1,i+n>e.length?De:(e=e.substr(i,n),t.C=i+n,e)))}function Me(t){t.Y=Date.now()+t.P,Fe(t,t.P)}function Fe(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=me(_(t.eb,t),e)}function Be(t){t.B&&(d.clearTimeout(t.B),t.B=null)}function Ve(t){0==t.l.G||t.I||vi(t.l,t)}function je(t){Be(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Wt(t.W),te(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function $e(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Sn(n.i,t)))if(n.I=t.N,!t.J&&Sn(n.i,t)&&3==n.G){try{var i=n.Ca.g.parse(e)}catch(l){i=null}if(Array.isArray(i)&&3==i.length){var s=i;if(0==s[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;wi(n),oi(n)}mi(n),fe(18)}}else n.ta=s[1],0<n.ta-n.U&&37500>s[2]&&n.N&&0==n.A&&!n.v&&(n.v=me(_(n.ab,n),6e3));if(1>=An(n.i)&&n.ka){try{n.ka()}catch(l){}n.ka=void 0}}else _i(n,11)}else if((t.J||n.g==t)&&wi(n),!O(e))for(s=n.Ca.g.parse(e),e=0;e<s.length;e++){let l=s[e];if(n.U=l[0],l=l[1],2==n.G)if("c"==l[0]){n.J=l[1],n.la=l[2];const e=l[3];null!=e&&(n.ma=e,n.h.info("VER="+n.ma));const s=l[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(i=1.5*u,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var r=i.i;!r.g&&(R(t,"spdy")||R(t,"quic")||R(t,"h2"))&&(r.j=r.l,r.g=new Set,r.h&&(xn(r,r.h),r.h=null))}if(i.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(i.sa=t,en(i.F,i.D,t))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var o=t;if(i.oa=Ti(i,i.H?i.la:null,i.W),o.J){Cn(i.i,o);var a=o,c=i.K;c&&a.setTimeout(c),a.B&&(Be(a),Me(a)),i.g=o}else pi(i);0<n.l.length&&li(n)}else"stop"!=l[0]&&"close"!=l[0]||_i(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?_i(n,7):ri(n):"noop"!=l[0]&&n.j&&n.j.wa(l),n.A=0)}he(4)}catch(l){}}function Ue(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"===typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function qe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"===typeof t)C(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(p(t)||"string"===typeof t){n=[];for(var i=t.length,s=0;s<i;s++)n.push(s)}else for(s in n=[],i=0,t)n[i++]=s;i=Ue(t),s=i.length;for(var r=0;r<s;r++)e.call(void 0,i[r],n&&n[r],t)}}function He(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof He)for(n=t.T(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function ze(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var i=t.g[e];Ke(t.h,i)&&(t.g[n++]=i),e++}t.g.length=n}if(t.i!=t.g.length){var s={};for(n=e=0;e<t.g.length;)i=t.g[e],Ke(s,i)||(t.g[n++]=i,s[i]=1),e++;t.g.length=n}}function Ke(t,e){return Object.prototype.hasOwnProperty.call(t,e)}i=Se.prototype,i.setTimeout=function(t){this.P=t},i.gb=function(t){t=t.target;const e=this.L;e&&3==Zn(t)?e.l():this.Ia(t)},i.Ia=function(t){try{if(t==this.g)t:{const u=Zn(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>u)&&(3!=u||Y||this.g&&(this.h.h||this.g.ga()||ti(this.g)))){this.I||4!=u||7==e||he(8==e||0>=h?3:2),Be(this);var n=this.g.ba();this.N=n;e:if(Le(this)){var i=ti(this.g);t="";var s=i.length,r=4==Zn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){je(this),Ve(this);var o="";break e}this.h.i=new d.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:r&&e==s-1});i.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,ie(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){e:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(a)){var l=a;break e}}l=null}if(!(n=l)){this.i=!1,this.o=3,fe(12),je(this),Ve(this);break t}se(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,$e(this,n)}this.U?(Pe(this,u,o),Y&&this.i&&3==u&&(Zt(this.V,this.W,"tick",this.fb),this.W.start())):(se(this.j,this.m,o,null),$e(this,o)),4==u&&je(this),this.i&&!this.I&&(4==u?vi(this.l,this):(this.i=!1,Me(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,fe(12)):(this.o=0,fe(13)),je(this),Ve(this)}}}catch(u){}},i.fb=function(){if(this.g){var t=Zn(this.g),e=this.g.ga();this.C<e.length&&(Be(this),Pe(this,t,e),this.i&&4!=t&&Me(this))}},i.cancel=function(){this.I=!0,je(this)},i.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(re(this.j,this.A),2!=this.K&&(he(3),fe(17)),je(this),this.o=2,Ve(this)):Fe(this,this.Y-t)},i=He.prototype,i.R=function(){ze(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},i.T=function(){return ze(this),this.g.concat()},i.get=function(t,e){return Ke(this.h,t)?this.h[t]:e},i.set=function(t,e){Ke(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},i.forEach=function(t,e){for(var n=this.T(),i=0;i<n.length;i++){var s=n[i],r=this.get(s);t.call(e,r,s,this)}};var We=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ge(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),s=null;if(0<=i){var r=t[n].substring(0,i);s=t[n].substring(i+1)}else r=t[n];e(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ye(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ye){this.g=void 0!==e?e:t.g,Xe(this,t.j),this.s=t.s,Je(this,t.i),Ze(this,t.m),this.l=t.l,e=t.h;var n=new pn;n.i=e.i,e.g&&(n.g=new He(e.g),n.h=e.h),tn(this,n),this.o=t.o}else t&&(n=String(t).match(We))?(this.g=!!e,Xe(this,n[1]||"",!0),this.s=on(n[2]||""),Je(this,n[3]||"",!0),Ze(this,n[4]),this.l=on(n[5]||"",!0),tn(this,n[6]||"",!0),this.o=on(n[7]||"")):(this.g=!!e,this.h=new pn(null,this.g))}function Qe(t){return new Ye(t)}function Xe(t,e,n){t.j=n?on(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Je(t,e,n){t.i=n?on(e,!0):e}function Ze(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function tn(t,e,n){e instanceof pn?(t.h=e,bn(t.h,t.g)):(n||(e=an(e,dn)),t.h=new pn(e,t.g))}function en(t,e,n){t.h.set(e,n)}function nn(t){return en(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function sn(t){return t instanceof Ye?Qe(t):new Ye(t,void 0)}function rn(t,e,n,i){var s=new Ye(null,void 0);return t&&Xe(s,t),e&&Je(s,e),n&&Ze(s,n),i&&(s.l=i),s}function on(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function an(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,cn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function cn(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}Ye.prototype.toString=function(){var t=[],e=this.j;e&&t.push(an(e,ln,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(an(e,ln,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,null!=n&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(an(n,"/"==n.charAt(0)?hn:un,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",an(n,fn)),t.join("")};var ln=/[#\/\?@]/g,un=/[#\?:]/g,hn=/[#\?]/g,dn=/[#\?@]/g,fn=/#/g;function pn(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function mn(t){t.g||(t.g=new He,t.h=0,t.i&&Ge(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function gn(t,e){mn(t),e=vn(t,e),Ke(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Ke(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&ze(t)))}function yn(t,e){return mn(t),e=vn(t,e),Ke(t.g.h,e)}function wn(t,e,n){gn(t,e),0<n.length&&(t.i=null,t.g.set(vn(t,e),N(n)),t.h+=n.length)}function vn(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function bn(t,e){e&&!t.j&&(mn(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(gn(this,e),wn(this,n,t))}),t)),t.j=e}i=pn.prototype,i.add=function(t,e){mn(this),this.i=null,t=vn(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},i.forEach=function(t,e){mn(this),this.g.forEach((function(n,i){C(n,(function(n){t.call(e,n,i,this)}),this)}),this)},i.T=function(){mn(this);for(var t=this.g.R(),e=this.g.T(),n=[],i=0;i<e.length;i++)for(var s=t[i],r=0;r<s.length;r++)n.push(e[i]);return n},i.R=function(t){mn(this);var e=[];if("string"===typeof t)yn(this,t)&&(e=D(e,this.g.get(vn(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=D(e,t[n])}return e},i.set=function(t,e){return mn(this),this.i=null,t=vn(this,t),yn(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},i.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e},i.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var i=e[n],s=encodeURIComponent(String(i));i=this.R(i);for(var r=0;r<i.length;r++){var o=s;""!==i[r]&&(o+="="+encodeURIComponent(String(i[r]))),t.push(o)}}return this.i=t.join("&")};var _n=class{constructor(t,e){this.h=t,this.g=e}};function En(t){this.l=t||Tn,d.PerformanceNavigationTiming?(t=d.performance.getEntriesByType("navigation"),t=0<t.length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol)):t=!!(d.g&&d.g.Ea&&d.g.Ea()&&d.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Tn=10;function In(t){return!!t.h||!!t.g&&t.g.size>=t.j}function An(t){return t.h?1:t.g?t.g.size:0}function Sn(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function xn(t,e){t.g?t.g.add(e):t.h=e}function Cn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function kn(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return N(t.i)}function Dn(){}function Nn(){this.g=new Dn}function On(t,e,n){const i=n||"";try{qe(t,(function(t,n){let s=t;m(t)&&(s=Pt(t)),e.push(i+n+"="+encodeURIComponent(s))}))}catch(s){throw e.push(i+"type="+encodeURIComponent("_badmap")),s}}function Ln(t,e){const n=new ee;if(d.Image){const i=new Image;i.onload=E(Pn,n,i,"TestLoadImage: loaded",!0,e),i.onerror=E(Pn,n,i,"TestLoadImage: error",!1,e),i.onabort=E(Pn,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=E(Pn,n,i,"TestLoadImage: timeout",!1,e),d.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}function Pn(t,e,n,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch(r){}}function Rn(t){this.l=t.$b||null,this.j=t.ib||!1}function Mn(t,e){Nt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Fn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}En.prototype.cancel=function(){if(this.i=kn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},Dn.prototype.stringify=function(t){return d.JSON.stringify(t,void 0)},Dn.prototype.parse=function(t){return d.JSON.parse(t,void 0)},T(Rn,we),Rn.prototype.g=function(){return new Mn(this.l,this.j)},Rn.prototype.i=function(t){return function(){return t}}({}),T(Mn,Nt);var Fn=0;function Bn(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Vn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,jn(t)}function jn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}i=Mn.prototype,i.open=function(t,e){if(this.readyState!=Fn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,jn(this)},i.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||d).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},i.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vn(this)),this.readyState=Fn},i.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof d.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Bn(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},i.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Vn(this):jn(this),3==this.readyState&&Bn(this)}},i.Ua=function(t){this.g&&(this.response=this.responseText=t,Vn(this))},i.Ta=function(t){this.g&&(this.response=t,Vn(this))},i.ha=function(){this.g&&Vn(this)},i.setRequestHeader=function(t,e){this.v.append(t,e)},i.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Mn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var $n=d.JSON.parse;function Un(t){Nt.call(this),this.headers=new He,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qn,this.K=this.L=!1}T(Un,Nt);var qn="",Hn=/^https?$/i,zn=["POST","PUT"];function Kn(t){return W&&st()&&"number"===typeof t.timeout&&void 0!==t.ontimeout}function Wn(t){return"content-type"==t.toLowerCase()}function Gn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Yn(t),Xn(t)}function Yn(t){t.D||(t.D=!0,Ot(t,"complete"),Ot(t,"error"))}function Qn(t){if(t.h&&"undefined"!=typeof h&&(!t.C[1]||4!=Zn(t)||2!=t.ba()))if(t.v&&4==Zn(t))Gt(t.Fa,0,t);else if(Ot(t,"readystatechange"),4==Zn(t)){t.h=!1;try{const c=t.ba();t:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var i;if(i=0===c){var s=String(t.H).match(We)[1]||null;if(!s&&d.self&&d.self.location){var r=d.self.location.protocol;s=r.substr(0,r.length-1)}i=!Hn.test(s?s.toLowerCase():"")}n=i}if(n)Ot(t,"complete"),Ot(t,"success");else{t.m=6;try{var o=2<Zn(t)?t.g.statusText:""}catch(a){o=""}t.j=o+" ["+t.ba()+"]",Yn(t)}}finally{Xn(t)}}}function Xn(t,e){if(t.g){Jn(t);const i=t.g,s=t.C[0]?f:null;t.g=null,t.C=null,e||Ot(t,"ready");try{i.onreadystatechange=s}catch(n){}}}function Jn(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(d.clearTimeout(t.A),t.A=null)}function Zn(t){return t.g?t.g.readyState:0}function ti(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case qn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ei(t){let e="";return V(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function ni(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=ei(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):en(t,e,n))}function ii(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function si(t){this.za=0,this.l=[],this.h=new ee,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ii("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ii("baseRetryDelayMs",5e3,t),this.$a=ii("retryDelaySeedMs",1e4,t),this.Ya=ii("forwardChannelMaxRetries",2,t),this.ra=ii("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new En(t&&t.concurrentRequestLimit),this.Ca=new Nn,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function ri(t){if(ai(t),3==t.G){var e=t.V++,n=Qe(t.F);en(n,"SID",t.J),en(n,"RID",e),en(n,"TYPE","terminate"),di(t,n),e=new Se(t,t.h,e,void 0),e.K=2,e.v=nn(Qe(n)),n=!1,d.navigator&&d.navigator.sendBeacon&&(n=d.navigator.sendBeacon(e.v.toString(),"")),!n&&d.Image&&((new Image).src=e.v,n=!0),n||(e.g=Ii(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Me(e)}Ei(t)}function oi(t){t.g&&(gi(t),t.g.cancel(),t.g=null)}function ai(t){oi(t),t.u&&(d.clearTimeout(t.u),t.u=null),wi(t),t.i.cancel(),t.m&&("number"===typeof t.m&&d.clearTimeout(t.m),t.m=null)}function ci(t,e){t.l.push(new _n(t.Za++,e)),3==t.G&&li(t)}function li(t){In(t.i)||t.m||(t.m=!0,$t(t.Ha,t),t.C=0)}function ui(t,e){return!(An(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.l=e.D.concat(t.l),!0):!(1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya))&&(t.m=me(_(t.Ha,t,e),bi(t,t.C)),t.C++,!0))}function hi(t,e){var n;n=e?e.m:t.V++;const i=Qe(t.F);en(i,"SID",t.J),en(i,"RID",n),en(i,"AID",t.U),di(t,i),t.o&&t.s&&ni(i,t.o,t.s),n=new Se(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=fi(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),xn(t.i,n),Ne(n,i,e)}function di(t,e){t.j&&qe({},(function(t,n){en(e,n,t)}))}function fi(t,e,n){n=Math.min(t.l.length,n);var i=t.j?_(t.j.Oa,t.j,t):null;t:{var s=t.l;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=s[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let r=!0;for(let o=0;o<n;o++){let n=s[o].h;const a=s[o].g;if(n-=e,0>n)e=Math.max(0,s[o].h-100),r=!1;else try{On(a,t,"req"+n+"_")}catch(Zi){i&&i(a)}}if(r){i=t.join("&");break t}}}return t=t.l.splice(0,n),e.D=t,i}function pi(t){t.g||t.u||(t.Y=1,$t(t.Ga,t),t.A=0)}function mi(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=me(_(t.Ga,t),bi(t,t.A)),t.A++,!0)}function gi(t){null!=t.B&&(d.clearTimeout(t.B),t.B=null)}function yi(t){t.g=new Se(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Qe(t.oa);en(e,"RID","rpc"),en(e,"SID",t.J),en(e,"CI",t.N?"0":"1"),en(e,"AID",t.U),di(t,e),en(e,"TYPE","xmlhttp"),t.o&&t.s&&ni(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=nn(Qe(e)),n.s=null,n.U=!0,Oe(n,t)}function wi(t){null!=t.v&&(d.clearTimeout(t.v),t.v=null)}function vi(t,e){var n=null;if(t.g==e){wi(t),gi(t),t.g=null;var i=2}else{if(!Sn(t.i,e))return;n=e.D,Cn(t.i,e),i=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.F;var s=t.C;i=le(),Ot(i,new pe(i,n,e,s)),li(t)}else pi(t);else if(s=e.o,3==s||0==s&&0<t.I||!(1==i&&ui(t,e)||2==i&&mi(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:_i(t,5);break;case 4:_i(t,10);break;case 3:_i(t,6);break;default:_i(t,2)}}function bi(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function _i(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var i=_(t.jb,t);n||(n=new Ye("//www.google.com/images/cleardot.gif"),d.location&&"http"==d.location.protocol||Xe(n,"https"),nn(n)),Ln(n.toString(),i)}else fe(2);t.G=0,t.j&&t.j.va(e),Ei(t),ai(t)}function Ei(t){t.G=0,t.I=-1,t.j&&(0==kn(t.i).length&&0==t.l.length||(t.i.i.length=0,N(t.l),t.l.length=0),t.j.ua())}function Ti(t,e,n){let i=sn(n);if(""!=i.i)e&&Je(i,e+"."+i.i),Ze(i,i.m);else{const t=d.location;i=rn(t.protocol,e?e+"."+t.hostname:t.hostname,+t.port,n)}return t.aa&&V(t.aa,(function(t,e){en(i,e,t)})),e=t.D,n=t.sa,e&&n&&en(i,e,n),en(i,"VER",t.ma),di(t,i),i}function Ii(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Un(new Rn({ib:!0})):new Un(t.qa),e.L=t.H,e}function Ai(){}function Si(){if(W&&!(10<=Number(ot)))throw Error("Environmental error: no available transport.")}function xi(t,e){Nt.call(this),this.g=new si(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!O(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!O(e)&&(this.g.D=e,t=this.h,null!==t&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Di(this)}function Ci(t){Te.call(this);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function ki(){Ie.call(this),this.status=1}function Di(t){this.g=t}i=Un.prototype,i.ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_e.g(),this.C=this.u?ve(this.u):ve(_e),this.g.onreadystatechange=_(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(r){return void Gn(this,r)}t=n||"";const s=new He(this.headers);i&&qe(i,(function(t,e){s.set(e,t)})),i=k(s.T()),n=d.FormData&&t instanceof d.FormData,!(0<=x(zn,e))||i||n||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Jn(this),0<this.B&&((this.K=Kn(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_(this.pa,this)):this.A=Gt(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(r){Gn(this,r)}},i.pa=function(){"undefined"!=typeof h&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ot(this,"timeout"),this.abort(8))},i.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ot(this,"complete"),Ot(this,"abort"),Xn(this))},i.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xn(this,!0)),Un.Z.M.call(this)},i.Fa=function(){this.s||(this.F||this.v||this.l?Qn(this):this.cb())},i.cb=function(){Qn(this)},i.ba=function(){try{return 2<Zn(this)?this.g.status:-1}catch(t){return-1}},i.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},i.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),$n(e)}},i.Da=function(){return this.m},i.La=function(){return"string"===typeof this.j?this.j:String(this.j)},i=si.prototype,i.ma=8,i.G=1,i.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},i.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const s=new Se(this,this.h,t,void 0);let r=this.s;if(this.P&&(r?(r=j(r),U(r,this.P)):r=this.P),null===this.o&&(s.H=r),this.ja)t:{for(var e=0,n=0;n<this.l.length;n++){var i=this.l[n];if(i="__data__"in i.g&&(i=i.g.__data__,"string"===typeof i)?i.length:void 0,void 0===i)break;if(e+=i,4096<e){e=n;break t}if(4096===e||n===this.l.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=fi(this,s,e),n=Qe(this.F),en(n,"RID",t),en(n,"CVER",22),this.D&&en(n,"X-HTTP-Session-Id",this.D),di(this,n),this.o&&r&&ni(n,this.o,r),xn(this.i,s),this.Ra&&en(n,"TYPE","init"),this.ja?(en(n,"$req",e),en(n,"SID","null"),s.$=!0,Ne(s,n,null)):Ne(s,n,e),this.G=2}}else 3==this.G&&(t?hi(this,t):0==this.l.length||In(this.i)||hi(this))},i.Ga=function(){if(this.u=null,yi(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=me(_(this.bb,this),t)}},i.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,fe(10),oi(this),yi(this))},i.ab=function(){null!=this.v&&(this.v=null,oi(this),mi(this),fe(19))},i.jb=function(t){t?(this.h.info("Successfully pinged google.com"),fe(2)):(this.h.info("Failed to ping google.com"),fe(1))},i=Ai.prototype,i.xa=function(){},i.wa=function(){},i.va=function(){},i.ua=function(){},i.Oa=function(){},Si.prototype.g=function(t,e){return new xi(t,e)},T(xi,Nt),xi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),$t(_(t.hb,t,e))),fe(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Ti(t,null,t.W),li(t)},xi.prototype.close=function(){ri(this.g)},xi.prototype.u=function(t){if("string"===typeof t){var e={};e.__data__=t,ci(this.g,e)}else this.v?(e={},e.__data__=Pt(t),ci(this.g,e)):ci(this.g,t)},xi.prototype.M=function(){this.g.j=null,delete this.j,ri(this.g),delete this.g,xi.Z.M.call(this)},T(Ci,Te),T(ki,Ie),T(Di,Ai),Di.prototype.xa=function(){Ot(this.g,"a")},Di.prototype.wa=function(t){Ot(this.g,new Ci(t))},Di.prototype.va=function(t){Ot(this.g,new ki(t))},Di.prototype.ua=function(){Ot(this.g,"b")},Si.prototype.createWebChannel=Si.prototype.g,xi.prototype.send=xi.prototype.u,xi.prototype.open=xi.prototype.m,xi.prototype.close=xi.prototype.close,ge.NO_ERROR=0,ge.TIMEOUT=8,ge.HTTP_ERROR=6,ye.COMPLETE="complete",be.EventType=Ee,Ee.OPEN="a",Ee.CLOSE="b",Ee.ERROR="c",Ee.MESSAGE="d",Nt.prototype.listen=Nt.prototype.N,Un.prototype.listenOnce=Un.prototype.O,Un.prototype.getLastError=Un.prototype.La,Un.prototype.getLastErrorCode=Un.prototype.Da,Un.prototype.getStatus=Un.prototype.ba,Un.prototype.getResponseJson=Un.prototype.Qa,Un.prototype.getResponseText=Un.prototype.ga,Un.prototype.send=Un.prototype.ea;var Ni=u.createWebChannelTransport=function(){return new Si},Oi=u.getStatEventTarget=function(){return le()},Li=u.ErrorCode=ge,Pi=u.EventType=ye,Ri=u.Event=ae,Mi=u.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Fi=u.FetchXmlHttpFactory=Rn,Bi=u.WebChannel=be,Vi=u.XhrIo=Un;const ji="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$i.UNAUTHENTICATED=new $i(null),$i.GOOGLE_CREDENTIALS=new $i("google-credentials-uid"),$i.FIRST_PARTY=new $i("first-party-uid"),$i.MOCK_USER=new $i("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Ui="9.6.10";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new a.Yd("@firebase/firestore");function Hi(){return qi.logLevel}function zi(t){qi.setLogLevel(t)}function Ki(t,...e){if(qi.logLevel<=a["in"].DEBUG){const n=e.map(Yi);qi.debug(`Firestore (${Ui}): ${t}`,...n)}}function Wi(t,...e){if(qi.logLevel<=a["in"].ERROR){const n=e.map(Yi);qi.error(`Firestore (${Ui}): ${t}`,...n)}}function Gi(t,...e){if(qi.logLevel<=a["in"].WARN){const n=e.map(Yi);qi.warn(`Firestore (${Ui}): ${t}`,...n)}}function Yi(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t="Unexpected state"){const e=`FIRESTORE (${Ui}) INTERNAL ASSERTION FAILED: `+t;throw Wi(e),new Error(e)}function Xi(t,e){t||Qi()}function Ji(t,e){t||Qi()}function Zi(t,e){return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class es extends c.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ss{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e($i.UNAUTHENTICATED)))}shutdown(){}}class rs{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class os{constructor(t){this.t=t,this.currentUser=$i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const i=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let s=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ns,t.enqueueRetryable((()=>i(this.currentUser)))};const r=()=>{const e=s;t.enqueueRetryable((async()=>{await e.promise,await i(this.currentUser)}))},o=t=>{Ki("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),r()};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(Ki("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ns)}}),0),r()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(Ki("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Xi("string"==typeof e.accessToken),new is(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Xi(null===t||"string"==typeof t),new $i(t)}}class as{constructor(t,e,n){this.type="FirstParty",this.user=$i.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class cs{constructor(t,e,n){this.h=t,this.l=e,this.m=n}getToken(){return Promise.resolve(new as(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable((()=>e($i.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ls{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class us{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const n=t=>{null!=t.error&&Ki("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.p;return this.p=t.token,Ki("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const i=t=>{Ki("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.g.onInit((t=>i(t))),setTimeout((()=>{if(!this.appCheck){const t=this.g.getImmediate({optional:!0});t?i(t):Ki("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(Xi("string"==typeof t.token),this.p=t.token,new ls(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class hs{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.I(t),this.T=t=>e.writeSequenceNumber(t))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hs.A=-1;class fs{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const i=ds(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<e&&(n+=t.charAt(i[s]%t.length))}return n}}function ps(t,e){return t<e?-1:t>e?1:0}function ms(t,e,n){return t.length===e.length&&t.every(((t,i)=>n(t,e[i])))}function gs(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new es(ts.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new es(ts.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new es(ts.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new es(ts.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ys.fromMillis(Date.now())}static fromDate(t){return ys.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new ys(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ps(this.nanoseconds,t.nanoseconds):ps(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ws(t)}static min(){return new ws(new ys(0,0))}static max(){return new ws(new ys(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _s(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(t,e,n){void 0===e?e=0:e>t.length&&Qi(),void 0===n?n=t.length-e:n>t.length-e&&Qi(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Es.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Es?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const n=t.get(i),s=e.get(i);if(n<s)return-1;if(n>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Ts extends Es{construct(t,e,n){return new Ts(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new es(ts.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((t=>t.length>0)))}return new Ts(e)}static emptyPath(){return new Ts([])}}const Is=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class As extends Es{construct(t,e,n){return new As(t,e,n)}static isValidIdentifier(t){return Is.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),As.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new As(["__name__"])}static fromServerFormat(t){const e=[];let n="",i=0;const s=()=>{if(0===n.length)throw new es(ts.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let r=!1;for(;i<t.length;){const e=t[i];if("\\"===e){if(i+1===t.length)throw new es(ts.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[i+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new es(ts.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,i+=2}else"`"===e?(r=!r,i++):"."!==e||r?(n+=e,i++):(s(),i++)}if(s(),r)throw new es(ts.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new As(e)}static emptyPath(){return new As([])}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(t){this.fields=t,t.sort(As.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ms(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(){return"undefined"!=typeof atob}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Cs(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new Cs(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ps(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Cs.EMPTY_BYTE_STRING=new Cs("");const ks=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(t){if(Xi(!!t),"string"==typeof t){let e=0;const n=ks.exec(t);if(Xi(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ns(t.seconds),nanos:Ns(t.nanos)}}function Ns(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Os(t){return"string"==typeof t?Cs.fromBase64String(t):Cs.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ps(t){const e=t.mapValue.fields.__previous_value__;return Ls(e)?Ps(e):e}function Rs(t){const e=Ds(t.mapValue.fields.__local_write_time__.timestampValue);return new ys(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(t,e,n,i,s,r,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=r,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Fs{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Fs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Fs&&t.projectId===this.projectId&&t.database===this.database}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(t){return null==t}function Vs(t){return 0===t&&1/t==-1/0}function js(t){return"number"==typeof t&&Number.isInteger(t)&&!Vs(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t){this.path=t}static fromPath(t){return new $s(Ts.fromString(t))}static fromName(t){return new $s(Ts.fromString(t).popFirst(5))}static empty(){return new $s(Ts.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Ts.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Ts.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new $s(new Ts(t.slice()))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},qs={nullValue:"NULL_VALUE"};function Hs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ls(t)?4:sr(t)?9:10:Qi()}function zs(t,e){if(t===e)return!0;const n=Hs(t);if(n!==Hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rs(t).isEqual(Rs(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=Ds(t.timestampValue),i=Ds(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Os(t.bytesValue).isEqual(Os(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ns(t.geoPointValue.latitude)===Ns(e.geoPointValue.latitude)&&Ns(t.geoPointValue.longitude)===Ns(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ns(t.integerValue)===Ns(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=Ns(t.doubleValue),i=Ns(e.doubleValue);return n===i?Vs(n)===Vs(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return ms(t.arrayValue.values||[],e.arrayValue.values||[],zs);case 10:return function(t,e){const n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(vs(n)!==vs(i))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===i[s]||!zs(n[s],i[s])))return!1;return!0}(t,e);default:return Qi()}}function Ks(t,e){return void 0!==(t.values||[]).find((t=>zs(t,e)))}function Ws(t,e){if(t===e)return 0;const n=Hs(t),i=Hs(e);if(n!==i)return ps(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ps(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=Ns(t.integerValue||t.doubleValue),i=Ns(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return Gs(t.timestampValue,e.timestampValue);case 4:return Gs(Rs(t),Rs(e));case 5:return ps(t.stringValue,e.stringValue);case 6:return function(t,e){const n=Os(t),i=Os(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),i=e.split("/");for(let s=0;s<n.length&&s<i.length;s++){const t=ps(n[s],i[s]);if(0!==t)return t}return ps(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=ps(Ns(t.latitude),Ns(e.latitude));return 0!==n?n:ps(Ns(t.longitude),Ns(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const t=Ws(n[s],i[s]);if(t)return t}return ps(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){const n=t.fields||{},i=Object.keys(n),s=e.fields||{},r=Object.keys(s);i.sort(),r.sort();for(let o=0;o<i.length&&o<r.length;++o){const t=ps(i[o],r[o]);if(0!==t)return t;const e=Ws(n[i[o]],s[r[o]]);if(0!==e)return e}return ps(i.length,r.length)}(t.mapValue,e.mapValue);default:throw Qi()}}function Gs(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ps(t,e);const n=Ds(t),i=Ds(e),s=ps(n.seconds,i.seconds);return 0!==s?s:ps(n.nanos,i.nanos)}function Ys(t){return Qs(t)}function Qs(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=Ds(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Os(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,$s.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",n=!0;for(const i of t.values||[])n?n=!1:e+=",",e+=Qs(i);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",i=!0;for(const s of e)i?i=!1:n+=",",n+=`${s}:${Qs(t.fields[s])}`;return n+"}"}(t.mapValue):Qi();var e,n}function Xs(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Js(t){return!!t&&"integerValue"in t}function Zs(t){return!!t&&"arrayValue"in t}function tr(t){return!!t&&"nullValue"in t}function er(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nr(t){return!!t&&"mapValue"in t}function ir(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return bs(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=ir(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ir(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sr(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function rr(t,e){return void 0===t?e:void 0===e||Ws(t,e)>0?t:e}function or(t,e){return void 0===t?e:void 0===e||Ws(t,e)<0?t:e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(t){this.value=t}static empty(){return new ar({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!nr(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ir(e)}setAll(t){let e=As.emptyPath(),n={},i=[];t.forEach(((t,s)=>{if(!e.isImmediateParentOf(s)){const t=this.getFieldsMap(e);this.applyChanges(t,n,i),n={},i=[],e=s.popLast()}t?n[s.lastSegment()]=ir(t):i.push(s.lastSegment())}));const s=this.getFieldsMap(e);this.applyChanges(s,n,i)}delete(t){const e=this.field(t.popLast());nr(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return zs(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=e.mapValue.fields[t.get(n)];nr(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,n){bs(e,((e,n)=>t[e]=n));for(const i of n)delete t[i]}clone(){return new ar(ir(this.value))}}function cr(t){const e=[];return bs(t.fields,((t,n)=>{const i=new As([t]);if(nr(n)){const t=cr(n.mapValue).fields;if(0===t.length)e.push(i);else for(const n of t)e.push(i.child(n))}else e.push(i)})),new Ss(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class lr{constructor(t,e,n,i,s,r){this.key=t,this.documentType=e,this.version=n,this.readTime=i,this.data=s,this.documentState=r}static newInvalidDocument(t){return new lr(t,0,ws.min(),ws.min(),ar.empty(),0)}static newFoundDocument(t,e,n){return new lr(t,1,e,ws.min(),n,0)}static newNoDocument(t,e){return new lr(t,2,e,ws.min(),ar.empty(),0)}static newUnknownDocument(t,e){return new lr(t,3,e,ws.min(),ar.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof lr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new lr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ur{constructor(t,e,n,i){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=i}}function hr(t){return t.fields.find((t=>2===t.kind))}function dr(t){return t.fields.filter((t=>2!==t.kind))}ur.UNKNOWN_ID=-1;class fr{constructor(t,e){this.fieldPath=t,this.kind=e}}class pr{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new pr(0,yr.min())}}function mr(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=ws.fromTimestamp(1e9===i?new ys(n+1,0):new ys(n,i));return new yr(s,$s.empty(),e)}function gr(t){return new yr(t.readTime,t.key,-1)}class yr{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new yr(ws.min(),$s.empty(),-1)}static max(){return new yr(ws.max(),$s.empty(),-1)}}function wr(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=$s.comparator(t.documentKey,e.documentKey),0!==n?n:ps(t.largestBatchId,e.largestBatchId))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(t,e=null,n=[],i=[],s=null,r=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=r,this.endAt=o,this.P=null}}function br(t,e=null,n=[],i=[],s=null,r=null,o=null){return new vr(t,e,n,i,s,r,o)}function _r(t){const e=Zi(t);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>{return(e=t).field.canonicalString()+e.op.toString()+Ys(e.value);var e})).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),Bs(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>Ys(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>Ys(t))).join(",")),e.P=t}return e.P}function Er(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>{return`${(e=t).field.canonicalString()} ${e.op} ${Ys(e.value)}`;var e})).join(", ")}]`),Bs(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>Ys(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>Ys(t))).join(",")),`Target(${e})`}function Tr(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<t.orderBy.length;s++)if(!Fr(t.orderBy[s],e.orderBy[s]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let s=0;s<t.filters.length;s++)if(n=t.filters[s],i=e.filters[s],n.op!==i.op||!n.field.isEqual(i.field)||!zs(n.value,i.value))return!1;var n,i;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Vr(t.startAt,e.startAt)&&Vr(t.endAt,e.endAt)}function Ir(t){return $s.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function Ar(t,e){return t.filters.filter((t=>t instanceof Sr&&t.field.isEqual(e)))}class Sr extends class{}{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.V(t,e,n):new xr(t,e,n):"array-contains"===e?new Nr(t,n):"in"===e?new Or(t,n):"not-in"===e?new Lr(t,n):"array-contains-any"===e?new Pr(t,n):new Sr(t,e,n)}static V(t,e,n){return"in"===e?new Cr(t,n):new kr(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(Ws(e,this.value)):null!==e&&Hs(this.value)===Hs(e)&&this.v(Ws(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Qi()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class xr extends Sr{constructor(t,e,n){super(t,e,n),this.key=$s.fromName(n.referenceValue)}matches(t){const e=$s.comparator(t.key,this.key);return this.v(e)}}class Cr extends Sr{constructor(t,e){super(t,"in",e),this.keys=Dr("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class kr extends Sr{constructor(t,e){super(t,"not-in",e),this.keys=Dr("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Dr(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>$s.fromName(t.referenceValue)))}class Nr extends Sr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Zs(e)&&Ks(e.arrayValue,this.value)}}class Or extends Sr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Ks(this.value.arrayValue,e)}}class Lr extends Sr{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ks(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Ks(this.value.arrayValue,e)}}class Pr extends Sr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Zs(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>Ks(this.value.arrayValue,t)))}}class Rr{constructor(t,e){this.position=t,this.inclusive=e}}class Mr{constructor(t,e="asc"){this.field=t,this.dir=e}}function Fr(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Br(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],o=t.position[s];if(i=r.field.isKeyField()?$s.comparator($s.fromName(o.referenceValue),n.key):Ws(o,n.data.field(r.field)),"desc"===r.dir&&(i*=-1),0!==i)break}return i}function Vr(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zs(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(t,e=null,n=[],i=[],s=null,r="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=r,this.startAt=o,this.endAt=a,this.D=null,this.C=null,this.startAt,this.endAt}}function $r(t,e,n,i,s,r,o,a){return new jr(t,e,n,i,s,r,o,a)}function Ur(t){return new jr(t)}function qr(t){return!Bs(t.limit)&&"F"===t.limitType}function Hr(t){return!Bs(t.limit)&&"L"===t.limitType}function zr(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Kr(t){for(const e of t.filters)if(e.S())return e.field;return null}function Wr(t){return null!==t.collectionGroup}function Gr(t){const e=Zi(t);if(null===e.D){e.D=[];const t=Kr(e),n=zr(e);if(null!==t&&null===n)t.isKeyField()||e.D.push(new Mr(t)),e.D.push(new Mr(As.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.D.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Mr(As.keyField(),t))}}}return e.D}function Yr(t){const e=Zi(t);if(!e.C)if("F"===e.limitType)e.C=br(e.path,e.collectionGroup,Gr(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Gr(e)){const e="desc"===s.dir?"asc":"desc";t.push(new Mr(s.field,e))}const n=e.endAt?new Rr(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new Rr(e.startAt.position,!e.startAt.inclusive):null;e.C=br(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}return e.C}function Qr(t,e,n){return new jr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xr(t,e){return Tr(Yr(t),Yr(e))&&t.limitType===e.limitType}function Jr(t){return`${_r(Yr(t))}|lt:${t.limitType}`}function Zr(t){return`Query(target=${Er(Yr(t))}; limitType=${t.limitType})`}function to(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):$s.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of t.explicitOrderBy)if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const i=Br(t,e,n);return t.inclusive?i<=0:i<0}(t.startAt,Gr(t),e))&&!(t.endAt&&!function(t,e,n){const i=Br(t,e,n);return t.inclusive?i>=0:i>0}(t.endAt,Gr(t),e))}(t,e)}function eo(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function no(t){return(e,n)=>{let i=!1;for(const s of Gr(t)){const t=io(s,e,n);if(0!==t)return t;i=i||s.field.isKeyField()}return 0}}function io(t,e,n){const i=t.field.isKeyField()?$s.comparator(e.key,n.key):function(t,e,n){const i=e.data.field(t),s=n.data.field(t);return null!==i&&null!==s?Ws(i,s):Qi()}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Qi()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t,e){if(t.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vs(e)?"-0":e}}function ro(t){return{integerValue:""+t}}function oo(t,e){return js(e)?ro(e):so(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this._=void 0}}function co(t,e,n){return t instanceof ho?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof fo?po(t,e):t instanceof mo?go(t,e):function(t,e){const n=uo(t,e),i=wo(n)+wo(t.k);return Js(n)&&Js(t.k)?ro(i):so(t.M,i)}(t,e)}function lo(t,e,n){return t instanceof fo?po(t,e):t instanceof mo?go(t,e):n}function uo(t,e){return t instanceof yo?Js(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}class ho extends ao{}class fo extends ao{constructor(t){super(),this.elements=t}}function po(t,e){const n=vo(e);for(const i of t.elements)n.some((t=>zs(t,i)))||n.push(i);return{arrayValue:{values:n}}}class mo extends ao{constructor(t){super(),this.elements=t}}function go(t,e){let n=vo(e);for(const i of t.elements)n=n.filter((t=>!zs(t,i)));return{arrayValue:{values:n}}}class yo extends ao{constructor(t,e){super(),this.M=t,this.k=e}}function wo(t){return Ns(t.integerValue||t.doubleValue)}function vo(t){return Zs(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t,e){this.field=t,this.transform=e}}function _o(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof fo&&e instanceof fo||t instanceof mo&&e instanceof mo?ms(t.elements,e.elements,zs):t instanceof yo&&e instanceof yo?zs(t.k,e.k):t instanceof ho&&e instanceof ho}(t.transform,e.transform)}class Eo{constructor(t,e){this.version=t,this.transformResults=e}}class To{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new To}static exists(t){return new To(void 0,t)}static updateTime(t){return new To(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Io(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Ao{}function So(t,e,n){t instanceof No?function(t,e,n){const i=t.value.clone(),s=Po(t.fieldTransforms,e,n.transformResults);i.setAll(s),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof Oo?function(t,e,n){if(!Io(t.precondition,e))return void e.convertToUnknownDocument(n.version);const i=Po(t.fieldTransforms,e,n.transformResults),s=e.data;s.setAll(Lo(t)),s.setAll(i),e.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function xo(t,e,n){t instanceof No?function(t,e,n){if(!Io(t.precondition,e))return;const i=t.value.clone(),s=Ro(t.fieldTransforms,n,e);i.setAll(s),e.convertToFoundDocument(Do(e),i).setHasLocalMutations()}(t,e,n):t instanceof Oo?function(t,e,n){if(!Io(t.precondition,e))return;const i=Ro(t.fieldTransforms,n,e),s=e.data;s.setAll(Lo(t)),s.setAll(i),e.convertToFoundDocument(Do(e),s).setHasLocalMutations()}(t,e,n):function(t,e){Io(t.precondition,e)&&e.convertToNoDocument(ws.min())}(t,e)}function Co(t,e){let n=null;for(const i of t.fieldTransforms){const t=e.data.field(i.field),s=uo(i.transform,t||null);null!=s&&(null==n&&(n=ar.empty()),n.set(i.field,s))}return n||null}function ko(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ms(t,e,((t,e)=>_o(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Do(t){return t.isFoundDocument()?t.version:ws.min()}class No extends Ao{constructor(t,e,n,i=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=i,this.type=0}}class Oo extends Ao{constructor(t,e,n,i,s=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}}function Lo(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function Po(t,e,n){const i=new Map;Xi(t.length===n.length);for(let s=0;s<n.length;s++){const r=t[s],o=r.transform,a=e.data.field(r.field);i.set(r.field,lo(o,a,n[s]))}return i}function Ro(t,e,n){const i=new Map;for(const s of t){const t=s.transform,r=n.data.field(s.field);i.set(s.field,co(t,r,e))}return i}class Mo extends Ao{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class Fo extends Ao{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(t){this.count=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vo,jo;function $o(t){switch(t){default:return Qi();case ts.CANCELLED:case ts.UNKNOWN:case ts.DEADLINE_EXCEEDED:case ts.RESOURCE_EXHAUSTED:case ts.INTERNAL:case ts.UNAVAILABLE:case ts.UNAUTHENTICATED:return!1;case ts.INVALID_ARGUMENT:case ts.NOT_FOUND:case ts.ALREADY_EXISTS:case ts.PERMISSION_DENIED:case ts.FAILED_PRECONDITION:case ts.ABORTED:case ts.OUT_OF_RANGE:case ts.UNIMPLEMENTED:case ts.DATA_LOSS:return!0}}function Uo(t){if(void 0===t)return Wi("GRPC error has no .code"),ts.UNKNOWN;switch(t){case Vo.OK:return ts.OK;case Vo.CANCELLED:return ts.CANCELLED;case Vo.UNKNOWN:return ts.UNKNOWN;case Vo.DEADLINE_EXCEEDED:return ts.DEADLINE_EXCEEDED;case Vo.RESOURCE_EXHAUSTED:return ts.RESOURCE_EXHAUSTED;case Vo.INTERNAL:return ts.INTERNAL;case Vo.UNAVAILABLE:return ts.UNAVAILABLE;case Vo.UNAUTHENTICATED:return ts.UNAUTHENTICATED;case Vo.INVALID_ARGUMENT:return ts.INVALID_ARGUMENT;case Vo.NOT_FOUND:return ts.NOT_FOUND;case Vo.ALREADY_EXISTS:return ts.ALREADY_EXISTS;case Vo.PERMISSION_DENIED:return ts.PERMISSION_DENIED;case Vo.FAILED_PRECONDITION:return ts.FAILED_PRECONDITION;case Vo.ABORTED:return ts.ABORTED;case Vo.OUT_OF_RANGE:return ts.OUT_OF_RANGE;case Vo.UNIMPLEMENTED:return ts.UNIMPLEMENTED;case Vo.DATA_LOSS:return ts.DATA_LOSS;default:return Qi()}}(jo=Vo||(Vo={}))[jo.OK=0]="OK",jo[jo.CANCELLED=1]="CANCELLED",jo[jo.UNKNOWN=2]="UNKNOWN",jo[jo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jo[jo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jo[jo.NOT_FOUND=5]="NOT_FOUND",jo[jo.ALREADY_EXISTS=6]="ALREADY_EXISTS",jo[jo.PERMISSION_DENIED=7]="PERMISSION_DENIED",jo[jo.UNAUTHENTICATED=16]="UNAUTHENTICATED",jo[jo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jo[jo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jo[jo.ABORTED=10]="ABORTED",jo[jo.OUT_OF_RANGE=11]="OUT_OF_RANGE",jo[jo.UNIMPLEMENTED=12]="UNIMPLEMENTED",jo[jo.INTERNAL=13]="INTERNAL",jo[jo.UNAVAILABLE=14]="UNAVAILABLE",jo[jo.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class qo{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[i,s]of n)if(this.equalsFn(i,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),i=this.inner[n];if(void 0===i)return this.inner[n]=[[t,e]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){bs(this.inner,((e,n)=>{for(const[i,s]of n)t(i,s)}))}isEmpty(){return _s(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(t,e){this.comparator=t,this.root=e||Ko.EMPTY}insert(t,e){return new Ho(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ko.BLACK,null,null))}remove(t){return new Ho(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ko.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new zo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new zo(this.root,t,this.comparator,!1)}getReverseIterator(){return new zo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new zo(this.root,t,this.comparator,!0)}}class zo{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?n(t.key,e):1,e&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ko{constructor(t,e,n,i,s){this.key=t,this.value=e,this.color=null!=n?n:Ko.RED,this.left=null!=i?i:Ko.EMPTY,this.right=null!=s?s:Ko.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,s){return new Ko(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const s=n(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===s?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ko.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return Ko.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ko.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ko.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qi();if(this.right.isRed())throw Qi();const t=this.left.check();if(t!==this.right.check())throw Qi();return t+(this.isRed()?0:1)}}Ko.EMPTY=null,Ko.RED=!0,Ko.BLACK=!1,Ko.EMPTY=new class{constructor(){this.size=0}get key(){throw Qi()}get value(){throw Qi()}get color(){throw Qi()}get left(){throw Qi()}get right(){throw Qi()}copy(t,e,n,i,s){return this}insert(t,e,n){return new Ko(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Wo{constructor(t){this.comparator=t,this.data=new Ho(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Go(this.data.getIterator())}getIteratorFrom(t){return new Go(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof Wo))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(t,i))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Wo(this.comparator);return e.data=t,e}}class Go{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Yo(t){return t.hasNext()?t.getNext():void 0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new Ho($s.comparator);function Xo(){return Qo}const Jo=new Ho($s.comparator);function Zo(){return Jo}function ta(){return new qo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const ea=new Ho($s.comparator),na=new Wo($s.comparator);function ia(...t){let e=na;for(const n of t)e=e.add(n);return e}const sa=new Wo(ps);function ra(){return sa}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t,e,n,i,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e){const n=new Map;return n.set(t,aa.createSynthesizedTargetChangeForCurrentChange(t,e)),new oa(ws.min(),n,ra(),Xo(),ia())}}class aa{constructor(t,e,n,i,s){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e){return new aa(Cs.EMPTY_BYTE_STRING,e,ia(),ia(),ia())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(t,e,n,i){this.O=t,this.removedTargetIds=e,this.key=n,this.F=i}}class la{constructor(t,e){this.targetId=t,this.$=e}}class ua{constructor(t,e,n=Cs.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}class ha{constructor(){this.B=0,this.L=pa(),this.U=Cs.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(t){t.approximateByteSize()>0&&(this.G=!0,this.U=t)}H(){let t=ia(),e=ia(),n=ia();return this.L.forEach(((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:Qi()}})),new aa(this.U,this.q,t,e,n)}J(){this.G=!1,this.L=pa()}Y(t,e){this.G=!0,this.L=this.L.insert(t,e)}X(t){this.G=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class da{constructor(t){this.nt=t,this.st=new Map,this.it=Xo(),this.rt=fa(),this.ot=new Wo(ps)}ut(t){for(const e of t.O)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ht(t){this.forEachTarget(t,(e=>{const n=this.lt(e);switch(t.state){case 0:this.ft(e)&&n.W(t.resumeToken);break;case 1:n.tt(),n.K||n.J(),n.W(t.resumeToken);break;case 2:n.tt(),n.K||this.removeTarget(e);break;case 3:this.ft(e)&&(n.et(),n.W(t.resumeToken));break;case 4:this.ft(e)&&(this.dt(e),n.W(t.resumeToken));break;default:Qi()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.st.forEach(((t,n)=>{this.ft(n)&&e(n)}))}_t(t){const e=t.targetId,n=t.$.count,i=this.wt(e);if(i){const t=i.target;if(Ir(t))if(0===n){const n=new $s(t.path);this.ct(e,n,lr.newNoDocument(n,ws.min()))}else Xi(1===n);else this.gt(e)!==n&&(this.dt(e),this.ot=this.ot.add(e))}}yt(t){const e=new Map;this.st.forEach(((n,i)=>{const s=this.wt(i);if(s){if(n.current&&Ir(s.target)){const e=new $s(s.target.path);null!==this.it.get(e)||this.It(i,e)||this.ct(i,e,lr.newNoDocument(e,t))}n.j&&(e.set(i,n.H()),n.J())}}));let n=ia();this.rt.forEach(((t,e)=>{let i=!0;e.forEachWhile((t=>{const e=this.wt(t);return!e||2===e.purpose||(i=!1,!1)})),i&&(n=n.add(t))})),this.it.forEach(((e,n)=>n.setReadTime(t)));const i=new oa(t,e,this.ot,this.it,n);return this.it=Xo(),this.rt=fa(),this.ot=new Wo(ps),i}at(t,e){if(!this.ft(t))return;const n=this.It(t,e.key)?2:0;this.lt(t).Y(e.key,n),this.it=this.it.insert(e.key,e),this.rt=this.rt.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,n){if(!this.ft(t))return;const i=this.lt(t);this.It(t,e)?i.Y(e,1):i.X(e),this.rt=this.rt.insert(e,this.Tt(e).delete(t)),n&&(this.it=this.it.insert(e,n))}removeTarget(t){this.st.delete(t)}gt(t){const e=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let e=this.st.get(t);return e||(e=new ha,this.st.set(t,e)),e}Tt(t){let e=this.rt.get(t);return e||(e=new Wo(ps),this.rt=this.rt.insert(t,e)),e}ft(t){const e=null!==this.wt(t);return e||Ki("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.st.get(t);return e&&e.K?null:this.nt.Et(t)}dt(t){this.st.set(t,new ha),this.nt.getRemoteKeysForTarget(t).forEach((e=>{this.ct(t,e,null)}))}It(t,e){return this.nt.getRemoteKeysForTarget(t).has(e)}}function fa(){return new Ho($s.comparator)}function pa(){return new Ho($s.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=(()=>{const t={asc:"ASCENDING",desc:"DESCENDING"};return t})(),ga=(()=>{const t={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};return t})();class ya{constructor(t,e){this.databaseId=t,this.N=e}}function wa(t,e){return t.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function va(t,e){return t.N?e.toBase64():e.toUint8Array()}function ba(t,e){return wa(t,e.toTimestamp())}function _a(t){return Xi(!!t),ws.fromTimestamp(function(t){const e=Ds(t);return new ys(e.seconds,e.nanos)}(t))}function Ea(t,e){return function(t){return new Ts(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Ta(t){const e=Ts.fromString(t);return Xi(Ya(e)),e}function Ia(t,e){return Ea(t.databaseId,e.path)}function Aa(t,e){const n=Ta(e);if(n.get(1)!==t.databaseId.projectId)throw new es(ts.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new es(ts.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $s(ka(n))}function Sa(t,e){return Ea(t.databaseId,e)}function xa(t){const e=Ta(t);return 4===e.length?Ts.emptyPath():ka(e)}function Ca(t){return new Ts(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ka(t){return Xi(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Da(t,e,n){return{name:Ia(t,e),fields:n.value.mapValue.fields}}function Na(t,e,n){const i=Aa(t,e.name),s=_a(e.updateTime),r=new ar({mapValue:{fields:e.fields}}),o=lr.newFoundDocument(i,s,r);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Oa(t,e){return"found"in e?function(t,e){Xi(!!e.found),e.found.name,e.found.updateTime;const n=Aa(t,e.found.name),i=_a(e.found.updateTime),s=new ar({mapValue:{fields:e.found.fields}});return lr.newFoundDocument(n,i,s)}(t,e):"missing"in e?function(t,e){Xi(!!e.missing),Xi(!!e.readTime);const n=Aa(t,e.missing),i=_a(e.readTime);return lr.newNoDocument(n,i)}(t,e):Qi()}function La(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Qi()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(t,e){return t.N?(Xi(void 0===e||"string"==typeof e),Cs.fromBase64String(e||"")):(Xi(void 0===e||e instanceof Uint8Array),Cs.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?ts.UNKNOWN:Uo(t.code);return new es(e,t.message||"")}(o);n=new ua(i,s,r,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Aa(t,i.document.name),r=_a(i.document.updateTime),o=new ar({mapValue:{fields:i.document.fields}}),a=lr.newFoundDocument(s,r,o),c=i.targetIds||[],l=i.removedTargetIds||[];n=new ca(c,l,a.key,a)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Aa(t,i.document),r=i.readTime?_a(i.readTime):ws.min(),o=lr.newNoDocument(s,r),a=i.removedTargetIds||[];n=new ca([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Aa(t,i.document),r=i.removedTargetIds||[];n=new ca([],r,s,null)}else{if(!("filter"in e))return Qi();{e.filter;const t=e.filter;t.targetId;const i=t.count||0,s=new Bo(i),r=t.targetId;n=new la(r,s)}}return n}function Pa(t,e){let n;if(e instanceof No)n={update:Da(t,e.key,e.value)};else if(e instanceof Mo)n={delete:Ia(t,e.key)};else if(e instanceof Oo)n={update:Da(t,e.key,e.data),updateMask:Ga(e.fieldMask)};else{if(!(e instanceof Fo))return Qi();n={verify:Ia(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof ho)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof fo)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof mo)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof yo)return{fieldPath:e.field.canonicalString(),increment:n.k};throw Qi()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ba(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Qi()}(t,e.precondition)),n}function Ra(t,e){const n=e.currentDocument?function(t){return void 0!==t.updateTime?To.updateTime(_a(t.updateTime)):void 0!==t.exists?To.exists(t.exists):To.none()}(e.currentDocument):To.none(),i=e.updateTransforms?e.updateTransforms.map((e=>function(t,e){let n=null;if("setToServerValue"in e)Xi("REQUEST_TIME"===e.setToServerValue),n=new ho;else if("appendMissingElements"in e){const t=e.appendMissingElements.values||[];n=new fo(t)}else if("removeAllFromArray"in e){const t=e.removeAllFromArray.values||[];n=new mo(t)}else"increment"in e?n=new yo(t,e.increment):Qi();const i=As.fromServerFormat(e.fieldPath);return new bo(i,n)}(t,e))):[];if(e.update){e.update.name;const s=Aa(t,e.update.name),r=new ar({mapValue:{fields:e.update.fields}});if(e.updateMask){const t=function(t){const e=t.fieldPaths||[];return new Ss(e.map((t=>As.fromServerFormat(t))))}(e.updateMask);return new Oo(s,r,t,n,i)}return new No(s,r,n,i)}if(e.delete){const i=Aa(t,e.delete);return new Mo(i,n)}if(e.verify){const i=Aa(t,e.verify);return new Fo(i,n)}return Qi()}function Ma(t,e){return t&&t.length>0?(Xi(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?_a(t.updateTime):_a(e);return n.isEqual(ws.min())&&(n=_a(e)),new Eo(n,t.transformResults||[])}(t,e)))):[]}function Fa(t,e){return{documents:[Sa(t,e.path)]}}function Ba(t,e){const n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=Sa(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Sa(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(t){if(0===t.length)return;const e=t.map((t=>function(t){if("=="===t.op){if(er(t.value))return{unaryFilter:{field:Ha(t.field),op:"IS_NAN"}};if(tr(t.value))return{unaryFilter:{field:Ha(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(er(t.value))return{unaryFilter:{field:Ha(t.field),op:"IS_NOT_NAN"}};if(tr(t.value))return{unaryFilter:{field:Ha(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(t.field),op:qa(t.op),value:t.value}}}(t)));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(e.filters);s&&(n.structuredQuery.where=s);const r=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:Ha(t.field),direction:Ua(t.dir)}}(t)))}(e.orderBy);r&&(n.structuredQuery.orderBy=r);const o=function(t,e){return t.N||Bs(e)?e:{value:e}}(t,e.limit);var a;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),n}function Va(t){let e=xa(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Xi(1===i);const t=n.from[0];t.allDescendants?s=t.collectionId:e=e.child(t.collectionId)}let r=[];n.where&&(r=$a(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((t=>function(t){return new Mr(za(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t))));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,Bs(e)?null:e}(n.limit));let c=null;n.startAt&&(c=function(t){const e=!!t.before,n=t.values||[];return new Rr(n,e)}(n.startAt));let l=null;return n.endAt&&(l=function(t){const e=!t.before,n=t.values||[];return new Rr(n,e)}(n.endAt)),$r(e,s,o,r,a,"F",c,l)}function ja(t,e){const n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Qi()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}function $a(t){return t?void 0!==t.unaryFilter?[Wa(t)]:void 0!==t.fieldFilter?[Ka(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((t=>$a(t))).reduce(((t,e)=>t.concat(e))):Qi():[]}function Ua(t){return ma[t]}function qa(t){return ga[t]}function Ha(t){return{fieldPath:t.canonicalString()}}function za(t){return As.fromServerFormat(t.fieldPath)}function Ka(t){return Sr.create(za(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qi()}}(t.fieldFilter.op),t.fieldFilter.value)}function Wa(t){switch(t.unaryFilter.op){case"IS_NAN":const e=za(t.unaryFilter.field);return Sr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=za(t.unaryFilter.field);return Sr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=za(t.unaryFilter.field);return Sr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=za(t.unaryFilter.field);return Sr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Qi()}}function Ga(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Ya(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ja(e)),e=Xa(t.get(n),e);return Ja(e)}function Xa(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const e=t.charAt(s);switch(e){case"\0":n+="";break;case"":n+="";break;default:n+=e}}return n}function Ja(t){return t+""}function Za(t){const e=t.length;if(Xi(e>=2),2===e)return Xi(""===t.charAt(0)&&""===t.charAt(1)),Ts.emptyPath();const n=e-2,i=[];let s="";for(let r=0;r<e;){const e=t.indexOf("",r);switch((e<0||e>n)&&Qi(),t.charAt(e+1)){case"":const n=t.substring(r,e);let o;0===s.length?o=n:(s+=n,o=s,s=""),i.push(o);break;case"":s+=t.substring(r,e),s+="\0";break;case"":s+=t.substring(r,e+1);break;default:Qi()}r=e+2}return new Ts(i)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=["userId","batchId"];
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t,e){return[t,Qa(e)]}function nc(t,e,n){return[t,Qa(e),n]}const ic={},sc=["prefixPath","collectionGroup","readTime","documentId"],rc=["prefixPath","collectionGroup","documentId"],oc=["collectionGroup","readTime","prefixPath","documentId"],ac=["canonicalId","targetId"],cc=["targetId","path"],lc=["path","targetId"],uc=["collectionId","parent"],hc=["indexId","uid"],dc=["uid","sequenceNumber"],fc=["indexId","uid","arrayValue","directionalValue","documentKey"],pc=["indexId","uid","documentKey"],mc=["userId","collectionPath","documentId"],gc=["userId","collectionPath","largestBatchId"],yc=["userId","collectionGroup","largestBatchId"],wc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vc=[...wc,"documentOverlays"],bc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_c=[...bc,"indexConfiguration","indexState","indexEntries"],Ec="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Qi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ic(((n,i)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,i)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,i)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Ic?e:Ic.resolve(e)}catch(t){return Ic.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Ic.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Ic.reject(e)}static resolve(t){return new Ic(((e,n)=>{e(t)}))}static reject(t){return new Ic(((e,n)=>{n(t)}))}static waitFor(t){return new Ic(((e,n)=>{let i=0,s=0,r=!1;t.forEach((t=>{++i,t.next((()=>{++s,r&&s===i&&e()}),(t=>n(t)))})),r=!0,s===i&&e()}))}static or(t){let e=Ic.resolve(!1);for(const n of t)e=e.next((t=>t?Ic.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,i)=>{n.push(e.call(this,t,i))})),this.waitFor(n)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.At=new ns,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{e.error?this.At.reject(new Cc(t,e.error)):this.At.resolve()},this.transaction.onerror=e=>{const n=Lc(e.target.error);this.At.reject(new Cc(t,n))}}static open(t,e,n,i){try{return new Ac(e,t.transaction(i,n))}catch(t){throw new Cc(e,t)}}get Rt(){return this.At.promise}abort(t){t&&this.At.reject(t),this.aborted||(Ki("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new Dc(e)}}class Sc{constructor(t,e,n){this.name=t,this.version=e,this.Pt=n,12.2===Sc.Vt((0,c.z$)())&&Wi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ki("SimpleDb","Removing database:",t),Nc(window.indexedDB.deleteDatabase(t)).toPromise()}static vt(){if(!(0,c.hl)())return!1;if(Sc.St())return!0;const t=(0,c.z$)(),e=Sc.Vt(t),n=0<e&&e<10,i=Sc.Dt(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||s)}static St(){var t;return"undefined"!=typeof process&&"YES"===(null===(t={NODE_ENV:"production",BASE_URL:"/"})||void 0===t?void 0:t.Ct)}static xt(t,e){return t.store(e)}static Vt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Dt(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Nt(t){return this.db||(Ki("SimpleDb","Opening database:",this.name),this.db=await new Promise(((e,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=t=>{const n=t.target.result;e(n)},i.onblocked=()=>{n(new Cc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=e=>{const i=e.target.error;"VersionError"===i.name?n(new es(ts.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===i.name?n(new es(ts.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+i)):n(new Cc(t,i))},i.onupgradeneeded=t=>{Ki("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',t.oldVersion);const e=t.target.result;this.Pt.kt(e,i.transaction,t.oldVersion,this.version).next((()=>{Ki("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.Mt&&(this.db.onversionchange=t=>this.Mt(t)),this.db}Ot(t){this.Mt=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,n,i){const s="readonly"===e;let r=0;for(;;){++r;try{this.db=await this.Nt(t);const e=Ac.open(this.db,t,s?"readonly":"readwrite",n),r=i(e).next((t=>(e.bt(),t))).catch((t=>(e.abort(t),Ic.reject(t)))).toPromise();return r.catch((()=>{})),await e.Rt,r}catch(t){const e="FirebaseError"!==t.name&&r<3;if(Ki("SimpleDb","Transaction failed with error:",t.message,"Retrying:",e),this.close(),!e)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class xc{constructor(t){this.Ft=t,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(t){this.Ft=t}done(){this.$t=!0}Ut(t){this.Bt=t}delete(){return Nc(this.Ft.delete())}}class Cc extends es{constructor(t,e){super(ts.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function kc(t){return"IndexedDbTransactionError"===t.name}class Dc{constructor(t){this.store=t}put(t,e){let n;return void 0!==e?(Ki("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ki("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Nc(n)}add(t){return Ki("SimpleDb","ADD",this.store.name,t,t),Nc(this.store.add(t))}get(t){return Nc(this.store.get(t)).next((e=>(void 0===e&&(e=null),Ki("SimpleDb","GET",this.store.name,t,e),e)))}delete(t){return Ki("SimpleDb","DELETE",this.store.name,t),Nc(this.store.delete(t))}count(){return Ki("SimpleDb","COUNT",this.store.name),Nc(this.store.count())}qt(t,e){const n=this.options(t,e);if(n.index||"function"!=typeof this.store.getAll){const t=this.cursor(n),e=[];return this.Gt(t,((t,n)=>{e.push(n)})).next((()=>e))}{const t=this.store.getAll(n.range);return new Ic(((e,n)=>{t.onerror=t=>{n(t.target.error)},t.onsuccess=t=>{e(t.target.result)}}))}}Kt(t,e){const n=this.store.getAll(t,null===e?void 0:e);return new Ic(((t,e)=>{n.onerror=t=>{e(t.target.error)},n.onsuccess=e=>{t(e.target.result)}}))}Qt(t,e){Ki("SimpleDb","DELETE ALL",this.store.name);const n=this.options(t,e);n.jt=!1;const i=this.cursor(n);return this.Gt(i,((t,e,n)=>n.delete()))}Wt(t,e){let n;e?n=t:(n={},e=t);const i=this.cursor(n);return this.Gt(i,e)}zt(t){const e=this.cursor({});return new Ic(((n,i)=>{e.onerror=t=>{const e=Lc(t.target.error);i(e)},e.onsuccess=e=>{const i=e.target.result;i?t(i.primaryKey,i.value).next((t=>{t?i.continue():n()})):n()}}))}Gt(t,e){const n=[];return new Ic(((i,s)=>{t.onerror=t=>{s(t.target.error)},t.onsuccess=t=>{const s=t.target.result;if(!s)return void i();const r=new xc(s),o=e(s.primaryKey,s.value,r);if(o instanceof Ic){const t=o.catch((t=>(r.done(),Ic.reject(t))));n.push(t)}r.isDone?i():null===r.Lt?s.continue():s.continue(r.Lt)}})).next((()=>Ic.waitFor(n)))}options(t,e){let n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const n=this.store.index(t.index);return t.jt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Nc(t){return new Ic(((e,n)=>{t.onsuccess=t=>{const n=t.target.result;e(n)},t.onerror=t=>{const e=Lc(t.target.error);n(e)}}))}let Oc=!1;function Lc(t){const e=Sc.Vt((0,c.z$)());if(e>=12.2&&e<13){const e="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(e)>=0){const t=new es("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Oc||(Oc=!0,setTimeout((()=>{throw t}),0)),t}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends Tc{constructor(t,e){super(),this.Ht=t,this.currentSequenceNumber=e}}function Rc(t,e){const n=Zi(t);return Sc.xt(n.Ht,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const e=this.mutations[i];e.key.isEqual(t.key)&&So(e,t,n[i])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&xo(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&xo(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach((e=>{const n=t.get(e.key),i=n;this.applyToLocalView(i),n.isValidDocument()||i.convertToNoDocument(ws.min())}))}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),ia())}isEqual(t){return this.batchId===t.batchId&&ms(this.mutations,t.mutations,((t,e)=>ko(t,e)))&&ms(this.baseMutations,t.baseMutations,((t,e)=>ko(t,e)))}}class Fc{constructor(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}static from(t,e,n){Xi(t.mutations.length===n.length);let i=ea;const s=t.mutations;for(let r=0;r<s.length;r++)i=i.insert(s[r].key,n[r].version);return new Fc(t,e,n,i)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,e,n,i,s=ws.min(),r=ws.min(),o=Cs.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=r,this.resumeToken=o}withSequenceNumber(t){return new Vc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t){this.Jt=t}}function $c(t,e){let n;if(e.document)n=Na(t.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const t=$s.fromSegments(e.noDocument.path),i=zc(e.noDocument.readTime);n=lr.newNoDocument(t,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Qi();{const t=$s.fromSegments(e.unknownDocument.path),i=zc(e.unknownDocument.version);n=lr.newUnknownDocument(t,i)}}return e.readTime&&n.setReadTime(function(t){const e=new ys(t[0],t[1]);return ws.fromTimestamp(e)}(e.readTime)),n}function Uc(t,e){const n=e.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:qc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(t,e){return{name:Ia(t,e.key),fields:e.data.value.mapValue.fields,updateTime:wa(t,e.version.toTimestamp())}}(t.Jt,e);else if(e.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:Hc(e.version)};else{if(!e.isUnknownDocument())return Qi();i.unknownDocument={path:n.path.toArray(),version:Hc(e.version)}}return i}function qc(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Hc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function zc(t){const e=new ys(t.seconds,t.nanoseconds);return ws.fromTimestamp(e)}function Kc(t,e){const n=(e.baseMutations||[]).map((e=>Ra(t.Jt,e)));for(let r=0;r<e.mutations.length-1;++r){const t=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){const n=e.mutations[r+1];t.updateTransforms=n.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}const i=e.mutations.map((e=>Ra(t.Jt,e))),s=ys.fromMillis(e.localWriteTimeMs);return new Mc(e.batchId,s,n,i)}function Wc(t){const e=zc(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?zc(t.lastLimboFreeSnapshotVersion):ws.min();let i;var s;return void 0!==t.query.documents?(Xi(1===(s=t.query).documents.length),i=Yr(Ur(xa(s.documents[0])))):i=function(t){return Yr(Va(t))}(t.query),new Vc(i,t.targetId,0,t.lastListenSequenceNumber,e,n,Cs.fromBase64String(t.resumeToken))}function Gc(t,e){const n=Hc(e.snapshotVersion),i=Hc(e.lastLimboFreeSnapshotVersion);let s;s=Ir(e.target)?Fa(t.Jt,e.target):Ba(t.Jt,e.target);const r=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:_r(e.target),readTime:n,resumeToken:r,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:s}}function Yc(t){const e=Va({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Qr(e,e.limit,"L"):e}function Qc(t,e){return new Bc(e.largestBatchId,Ra(t.Jt,e.overlayMutation))}function Xc(t,e){const n=e.path.lastSegment();return[t,Qa(e.path.popLast()),n]}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{getBundleMetadata(t,e){return Zc(t).get(e).next((t=>{if(t)return{id:(e=t).bundleId,createTime:zc(e.createTime),version:e.version};var e}))}saveBundleMetadata(t,e){return Zc(t).put({bundleId:(n=e).id,createTime:Hc(_a(n.createTime)),version:n.version});var n}getNamedQuery(t,e){return tl(t).get(e).next((t=>{if(t)return{name:(e=t).name,query:Yc(e.bundledQuery),readTime:zc(e.readTime)};var e}))}saveNamedQuery(t,e){return tl(t).put(function(t){return{name:t.name,readTime:Hc(_a(t.readTime)),bundledQuery:t.bundledQuery}}(e))}}function Zc(t){return Rc(t,"bundles")}function tl(t){return Rc(t,"namedQueries")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(t,e){this.M=t,this.userId=e}static Yt(t,e){const n=e.uid||"";return new el(t,n)}getOverlay(t,e){return nl(t).get(Xc(this.userId,e)).next((t=>t?Qc(this.M,t):null))}saveOverlays(t,e,n){const i=[];return n.forEach(((n,s)=>{const r=new Bc(e,s);i.push(this.Xt(t,r))})),Ic.waitFor(i)}removeOverlaysForBatchId(t,e,n){const i=new Set;e.forEach((t=>i.add(Qa(t.getCollectionPath()))));const s=[];return i.forEach((e=>{const i=IDBKeyRange.bound([this.userId,e,n],[this.userId,e,n+1],!1,!0);s.push(nl(t).Qt("collectionPathOverlayIndex",i))})),Ic.waitFor(s)}getOverlaysForCollection(t,e,n){const i=ta(),s=Qa(e),r=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return nl(t).qt("collectionPathOverlayIndex",r).next((t=>{for(const e of t){const t=Qc(this.M,e);i.set(t.getKey(),t)}return i}))}getOverlaysForCollectionGroup(t,e,n,i){const s=ta();let r;const o=IDBKeyRange.bound([this.userId,e,n],[this.userId,e,Number.POSITIVE_INFINITY],!0);return nl(t).Wt({index:"collectionGroupOverlayIndex",range:o},((t,e,n)=>{const o=Qc(this.M,e);s.size()<i||o.largestBatchId===r?(s.set(o.getKey(),o),r=o.largestBatchId):n.done()})).next((()=>s))}Xt(t,e){return nl(t).put(function(t,e,n){const[i,s,r]=Xc(e,n.mutation.key);return{userId:e,collectionPath:s,documentId:r,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Pa(t.Jt,n.mutation)}}(this.M,this.userId,e))}}function nl(t){return Rc(t,"documentOverlays")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){}Zt(t,e){this.te(t,e),e.ee()}te(t,e){if("nullValue"in t)this.ne(e,5);else if("booleanValue"in t)this.ne(e,10),e.se(t.booleanValue?1:0);else if("integerValue"in t)this.ne(e,15),e.se(Ns(t.integerValue));else if("doubleValue"in t){const n=Ns(t.doubleValue);isNaN(n)?this.ne(e,13):(this.ne(e,15),Vs(n)?e.se(0):e.se(n))}else if("timestampValue"in t){const n=t.timestampValue;this.ne(e,20),"string"==typeof n?e.ie(n):(e.ie(`${n.seconds||""}`),e.se(n.nanos||0))}else if("stringValue"in t)this.re(t.stringValue,e),this.oe(e);else if("bytesValue"in t)this.ne(e,30),e.ue(Os(t.bytesValue)),this.oe(e);else if("referenceValue"in t)this.ae(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.ne(e,45),e.se(n.latitude||0),e.se(n.longitude||0)}else"mapValue"in t?sr(t)?this.ne(e,Number.MAX_SAFE_INTEGER):(this.ce(t.mapValue,e),this.oe(e)):"arrayValue"in t?(this.he(t.arrayValue,e),this.oe(e)):Qi()}re(t,e){this.ne(e,25),this.le(t,e)}le(t,e){e.ie(t)}ce(t,e){const n=t.fields||{};this.ne(e,55);for(const i of Object.keys(n))this.re(i,e),this.te(n[i],e)}he(t,e){const n=t.values||[];this.ne(e,50);for(const i of n)this.te(i,e)}ae(t,e){this.ne(e,37),$s.fromName(t).path.forEach((t=>{this.ne(e,60),this.le(t,e)}))}ne(t,e){t.se(e)}oe(t){t.se(2)}}function sl(t){if(0===t)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function rl(t){const e=64-function(t){let e=0;for(let n=0;n<8;++n){const i=sl(255&t[n]);if(e+=i,8!==i)break}return e}(t);return Math.ceil(e/8)}il.fe=new il;class ol{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(t){const e=t[Symbol.iterator]();let n=e.next();for(;!n.done;)this._e(n.value),n=e.next();this.we()}me(t){const e=t[Symbol.iterator]();let n=e.next();for(;!n.done;)this.ge(n.value),n=e.next();this.ye()}pe(t){for(const e of t){const t=e.charCodeAt(0);if(t<128)this._e(t);else if(t<2048)this._e(960|t>>>6),this._e(128|63&t);else if(e<"\ud800"||"\udbff"<e)this._e(480|t>>>12),this._e(128|63&t>>>6),this._e(128|63&t);else{const t=e.codePointAt(0);this._e(240|t>>>18),this._e(128|63&t>>>12),this._e(128|63&t>>>6),this._e(128|63&t)}}this.we()}Ie(t){for(const e of t){const t=e.charCodeAt(0);if(t<128)this.ge(t);else if(t<2048)this.ge(960|t>>>6),this.ge(128|63&t);else if(e<"\ud800"||"\udbff"<e)this.ge(480|t>>>12),this.ge(128|63&t>>>6),this.ge(128|63&t);else{const t=e.codePointAt(0);this.ge(240|t>>>18),this.ge(128|63&t>>>12),this.ge(128|63&t>>>6),this.ge(128|63&t)}}this.ye()}Te(t){const e=this.Ee(t),n=rl(e);this.Ae(1+n),this.buffer[this.position++]=255&n;for(let i=e.length-n;i<e.length;++i)this.buffer[this.position++]=255&e[i]}Re(t){const e=this.Ee(t),n=rl(e);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(let i=e.length-n;i<e.length;++i)this.buffer[this.position++]=~(255&e[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(t){this.Ae(t.length),this.buffer.set(t,this.position),this.position+=t.length}Se(){return this.buffer.slice(0,this.position)}Ee(t){const e=function(t){const e=new DataView(new ArrayBuffer(8));return e.setFloat64(0,t,!1),new Uint8Array(e.buffer)}(t),n=0!=(128&e[0]);e[0]^=n?255:128;for(let i=1;i<e.length;++i)e[i]^=n?255:0;return e}_e(t){const e=255&t;0===e?(this.Pe(0),this.Pe(255)):255===e?(this.Pe(255),this.Pe(0)):this.Pe(e)}ge(t){const e=255&t;0===e?(this.ve(0),this.ve(255)):255===e?(this.ve(255),this.ve(0)):this.ve(t)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(t){this.Ae(1),this.buffer[this.position++]=t}ve(t){this.Ae(1),this.buffer[this.position++]=~t}Ae(t){const e=t+this.position;if(e<=this.buffer.length)return;let n=2*this.buffer.length;n<e&&(n=e);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class al{constructor(t){this.De=t}ue(t){this.De.de(t)}ie(t){this.De.pe(t)}se(t){this.De.Te(t)}ee(){this.De.be()}}class cl{constructor(t){this.De=t}ue(t){this.De.me(t)}ie(t){this.De.Ie(t)}se(t){this.De.Re(t)}ee(){this.De.Ve()}}class ll{constructor(){this.De=new ol,this.Ce=new al(this.De),this.xe=new cl(this.De)}seed(t){this.De.seed(t)}Ne(t){return 0===t?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(t,e,n,i){this.indexId=t,this.documentKey=e,this.arrayValue=n,this.directionalValue=i}ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,n=new Uint8Array(e);return n.set(this.directionalValue,0),e!==t?n.set([0],this.directionalValue.length):++n[n.length-1],new ul(this.indexId,this.documentKey,this.arrayValue,n)}}function hl(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=dl(t.arrayValue,e.arrayValue),0!==n?n:(n=dl(t.directionalValue,e.directionalValue),0!==n?n:$s.comparator(t.documentKey,e.documentKey)))}function dl(t,e){for(let n=0;n<t.length&&n<e.length;++n){const i=t[n]-e[n];if(0!==i)return i}return t.length-e.length}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];for(const e of t.filters){const t=e;t.S()?this.Fe=t:this.Oe.push(t)}}$e(t){const e=hr(t);if(void 0!==e&&!this.Be(e))return!1;const n=dr(t);let i=0,s=0;for(;i<n.length&&this.Be(n[i]);++i);if(i===n.length)return!0;if(void 0!==this.Fe){const t=n[i];if(!this.Le(this.Fe,t)||!this.Ue(this.Me[s++],t))return!1;++i}for(;i<n.length;++i){const t=n[i];if(s>=this.Me.length||!this.Ue(this.Me[s++],t))return!1}return!0}Be(t){for(const e of this.Oe)if(this.Le(e,t))return!0;return!1}Le(t,e){if(void 0===t||!t.field.isEqual(e.fieldPath))return!1;const n="array-contains"===t.op||"array-contains-any"===t.op;return 2===e.kind===n}Ue(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.qe=new ml}addToCollectionParentIndex(t,e){return this.qe.add(e),Ic.resolve()}getCollectionParents(t,e){return Ic.resolve(this.qe.getEntries(e))}addFieldIndex(t,e){return Ic.resolve()}deleteFieldIndex(t,e){return Ic.resolve()}getDocumentsMatchingTarget(t,e){return Ic.resolve(null)}getFieldIndex(t,e){return Ic.resolve(null)}getFieldIndexes(t,e){return Ic.resolve([])}getNextCollectionGroupToUpdate(t){return Ic.resolve(null)}updateCollectionGroup(t,e,n){return Ic.resolve()}updateIndexEntries(t,e){return Ic.resolve()}}class ml{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new Wo(Ts.comparator),s=!i.has(n);return this.index[e]=i.add(n),s}has(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Wo(Ts.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=new Uint8Array(0);class yl{constructor(t){this.user=t,this.Ge=new ml,this.Ke=new qo((t=>_r(t)),((t,e)=>Tr(t,e))),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ge.has(e)){const n=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((()=>{this.Ge.add(e)}));const s={collectionId:n,parent:Qa(i)};return wl(t).put(s)}return Ic.resolve()}getCollectionParents(t,e){const n=[],i=IDBKeyRange.bound([e,""],[gs(e),""],!1,!0);return wl(t).qt(i).next((t=>{for(const i of t){if(i.collectionId!==e)break;n.push(Za(i.parent))}return n}))}addFieldIndex(t,e){const n=bl(t),i=function(t){return{indexId:t.indexId,collectionGroup:t.collectionGroup,fields:t.fields.map((t=>[t.fieldPath.canonicalString(),t.kind]))}}(e);return delete i.indexId,n.add(i).next()}deleteFieldIndex(t,e){const n=bl(t),i=_l(t),s=vl(t);return n.delete(e.indexId).next((()=>i.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))))}getDocumentsMatchingTarget(t,e){const n=vl(t);let i=!0;const s=new Map;return Ic.forEach(this.Qe(e),(e=>this.getFieldIndex(t,e).next((t=>{i&&(i=!!t),s.set(e,t)})))).next((()=>{if(i){let t=ia();return Ic.forEach(s,((i,s)=>{var r;Ki("IndexedDbIndexManager",`Using index ${r=i,`id=${r.indexId}|cg=${r.collectionGroup}|f=${r.fields.map((t=>`${t.fieldPath}:${t.kind}`)).join(",")}`} to execute ${_r(e)}`);const o=function(t,e){const n=hr(e);if(void 0===n)return null;for(const i of Ar(t,n.fieldPath))switch(i.op){case"array-contains-any":return i.value.arrayValue.values||[];case"array-contains":return[i.value]}return null}(s,i),a=function(t,e){const n=new Map;for(const i of dr(e))for(const e of Ar(t,i.fieldPath))switch(e.op){case"==":case"in":n.set(i.fieldPath.canonicalString(),e.value);break;case"not-in":case"!=":return n.set(i.fieldPath.canonicalString(),e.value),Array.from(n.values())}return null}(s,i),c=function(t,e){const n=[];let i=!0;for(const r of dr(e)){let e,o=!0;for(const n of Ar(t,r.fieldPath)){let t,i=!0;switch(n.op){case"<":case"<=":t="nullValue"in(s=n.value)?qs:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?Xs(Fs.empty(),$s.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?{mapValue:{}}:Qi();break;case"==":case"in":case">=":t=n.value;break;case">":t=n.value,i=!1;break;case"!=":case"not-in":t=qs}rr(e,t)===t&&(e=t,o=i)}if(null!==t.startAt)for(let n=0;n<t.orderBy.length;++n)if(t.orderBy[n].field.isEqual(r.fieldPath)){const i=t.startAt.position[n];rr(e,i)===i&&(e=i,o=t.startAt.inclusive);break}if(void 0===e)return null;n.push(e),i&&(i=o)}var s;return new Rr(n,i)}(s,i),l=function(t,e){const n=[];let i=!0;for(const r of dr(e)){let e,o=!0;for(const n of Ar(t,r.fieldPath)){let t,i=!0;switch(n.op){case">=":case">":t="nullValue"in(s=n.value)?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?Xs(Fs.empty(),$s.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?{mapValue:{}}:"mapValue"in s?Us:Qi(),i=!1;break;case"==":case"in":case"<=":t=n.value;break;case"<":t=n.value,i=!1;break;case"!=":case"not-in":t=Us}or(e,t)===t&&(e=t,o=i)}if(null!==t.endAt)for(let n=0;n<t.orderBy.length;++n)if(t.orderBy[n].field.isEqual(r.fieldPath)){const i=t.endAt.position[n];or(e,i)===i&&(e=i,o=t.endAt.inclusive);break}if(void 0===e)return null;n.push(e),i&&(i=o)}var s;return new Rr(n,i)}(s,i),u=this.je(i,s,c),h=this.je(i,s,l),d=this.We(i,s,a),f=this.ze(i.indexId,o,u,!!c&&c.inclusive,h,!!l&&l.inclusive,d);return Ic.forEach(f,(i=>n.Kt(i,e.limit).next((e=>{e.forEach((e=>{t=t.add(new $s(Za(e.documentKey)))}))}))))})).next((()=>t))}return Ic.resolve(null)}))}Qe(t){let e=this.Ke.get(t);return e||(e=[t],this.Ke.set(t,e),e)}ze(t,e,n,i,s,r,o){const a=(null!=e?e.length:1)*Math.max(null!=n?n.length:1,null!=s?s.length:1),c=a/(null!=e?e.length:1),l=[];for(let u=0;u<a;++u){const a=e?this.He(e[u/c]):gl,h=n?this.Je(t,a,n[u%c],i):this.Ye(t),d=s?this.Xe(t,a,s[u%c],r):this.Ye(t+1);l.push(...this.createRange(h,d,o.map((e=>this.Je(t,a,e,!0)))))}return l}Je(t,e,n,i){const s=new ul(t,$s.empty(),e,n);return i?s:s.ke()}Xe(t,e,n,i){const s=new ul(t,$s.empty(),e,n);return i?s.ke():s}Ye(t){return new ul(t,$s.empty(),gl,gl)}getFieldIndex(t,e){const n=new fl(e),i=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,i).next((t=>{const e=t.filter((t=>n.$e(t)));return e.sort(((t,e)=>e.fields.length-t.fields.length)),e.length>0?e[0]:null}))}Ze(t,e){const n=new ll;for(const i of dr(t)){const t=e.data.field(i.fieldPath);if(null==t)return null;const s=n.Ne(i.kind);il.fe.Zt(t,s)}return n.Se()}He(t){const e=new ll;return il.fe.Zt(t,e.Ne(0)),e.Se()}We(t,e,n){if(null===n)return[];let i=[];i.push(new ll);let s=0;for(const r of dr(t)){const t=n[s++];for(const n of i)if(this.tn(e,r.fieldPath)&&Zs(t))i=this.en(i,r,t);else{const e=n.Ne(r.kind);il.fe.Zt(t,e)}}return this.nn(i)}je(t,e,n){return null==n?null:this.We(t,e,n.position)}nn(t){const e=[];for(let n=0;n<t.length;++n)e[n]=t[n].Se();return e}en(t,e,n){const i=[...t],s=[];for(const r of n.arrayValue.values||[])for(const t of i){const n=new ll;n.seed(t.Se()),il.fe.Zt(r,n.Ne(e.kind)),s.push(n)}return s}tn(t,e){return!!t.filters.find((t=>t instanceof Sr&&t.field.isEqual(e)&&("in"===t.op||"not-in"===t.op)))}getFieldIndexes(t,e){const n=bl(t),i=_l(t);return(e?n.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)):n.qt()).next((t=>{const e=[];return Ic.forEach(t,(t=>i.get([t.indexId,this.uid]).next((n=>{e.push(function(t,e){const n=e?new pr(e.sequenceNumber,new yr(zc(e.readTime),new $s(Za(e.documentKey)),e.largestBatchId)):pr.empty(),i=t.fields.map((([t,e])=>new fr(As.fromServerFormat(t),e)));return new ur(t.indexId,t.collectionGroup,i,n)}(t,n))})))).next((()=>e))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((t=>0===t.length?null:(t.sort(((t,e)=>{const n=t.indexState.sequenceNumber-e.indexState.sequenceNumber;return 0!==n?n:ps(t.collectionGroup,e.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(t,e,n){const i=bl(t),s=_l(t);return this.sn(t).next((t=>i.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)).next((e=>Ic.forEach(e,(e=>s.put(function(t,e,n,i){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Hc(i.readTime),documentKey:Qa(i.documentKey.path),largestBatchId:i.largestBatchId}}(e.indexId,this.user,t,n))))))))}updateIndexEntries(t,e){const n=new Map;return Ic.forEach(e,((e,i)=>{const s=n.get(e.collectionGroup);return(s?Ic.resolve(s):this.getFieldIndexes(t,e.collectionGroup)).next((s=>(n.set(e.collectionGroup,s),Ic.forEach(s,(n=>this.rn(t,e,n).next((e=>{const s=this.on(i,n);return e.isEqual(s)?Ic.resolve():this.un(t,i,e,s)})))))))}))}an(t,e,n){return vl(t).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:Qa(e.key.path)})}cn(t,e,n){return vl(t).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,Qa(e.key.path)])}rn(t,e,n){const i=vl(t);let s=new Wo(hl);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,Qa(e.path)])},((t,i)=>{s=s.add(new ul(n.indexId,e,i.arrayValue,i.directionalValue))})).next((()=>s))}on(t,e){let n=new Wo(hl);const i=this.Ze(e,t);if(null==i)return n;const s=hr(e);if(null!=s){const r=t.data.field(s.fieldPath);if(Zs(r))for(const s of r.arrayValue.values||[])n=n.add(new ul(e.indexId,t.key,this.He(s),i))}else n=n.add(new ul(e.indexId,t.key,gl,i));return n}un(t,e,n,i){Ki("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const s=[];return function(t,e,n,i,s){const r=t.getIterator(),o=e.getIterator();let a=Yo(r),c=Yo(o);for(;a||c;){let t=!1,e=!1;if(a&&c){const i=n(a,c);i<0?e=!0:i>0&&(t=!0)}else null!=a?e=!0:t=!0;t?(i(c),c=Yo(o)):e?(s(a),a=Yo(r)):(a=Yo(r),c=Yo(o))}}(n,i,hl,(n=>{s.push(this.an(t,e,n))}),(n=>{s.push(this.cn(t,e,n))})),Ic.waitFor(s)}sn(t){let e=1;return _l(t).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((t,n,i)=>{i.done(),e=n.sequenceNumber+1})).next((()=>e))}createRange(t,e,n){n=n.sort(((t,e)=>hl(t,e))).filter(((t,e,n)=>!e||0!==hl(t,n[e-1])));const i=[];i.push(t);for(const r of n){const n=hl(r,t),s=hl(r,e);if(0===n)i[0]=t.ke();else if(n>0&&s<0)i.push(r),i.push(r.ke());else if(s>0)break}i.push(e);const s=[];for(let r=0;r<i.length;r+=2)s.push(IDBKeyRange.bound([i[r].indexId,this.uid,i[r].arrayValue,i[r].directionalValue,""],[i[r+1].indexId,this.uid,i[r+1].arrayValue,i[r+1].directionalValue,""]));return s}}function wl(t){return Rc(t,"collectionParents")}function vl(t){return Rc(t,"indexEntries")}function bl(t){return Rc(t,"indexConfiguration")}function _l(t){return Rc(t,"indexState")}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Tl{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new Tl(t,Tl.DEFAULT_COLLECTION_PERCENTILE,Tl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t,e,n){const i=t.store("mutations"),s=t.store("documentMutations"),r=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=i.Wt({range:o},((t,e,n)=>(a++,n.delete())));r.push(c.next((()=>{Xi(1===a)})));const l=[];for(const u of n.mutations){const t=nc(e,u.key.path,n.batchId);r.push(s.delete(t)),l.push(u.key)}return Ic.waitFor(r).next((()=>l))}function Al(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Qi();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tl.DEFAULT_COLLECTION_PERCENTILE=10,Tl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tl.DEFAULT=new Tl(41943040,Tl.DEFAULT_COLLECTION_PERCENTILE,Tl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tl.DISABLED=new Tl(-1,0,0);class Sl{constructor(t,e,n,i){this.userId=t,this.M=e,this.indexManager=n,this.referenceDelegate=i,this.hn={}}static Yt(t,e,n,i){Xi(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new Sl(s,e,n,i)}checkEmpty(t){let e=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cl(t).Wt({index:"userMutationsIndex",range:n},((t,n,i)=>{e=!1,i.done()})).next((()=>e))}addMutationBatch(t,e,n,i){const s=kl(t),r=Cl(t);return r.add({}).next((o=>{Xi("number"==typeof o);const a=new Mc(o,e,n,i),c=function(t,e,n){const i=n.baseMutations.map((e=>Pa(t.Jt,e))),s=n.mutations.map((e=>Pa(t.Jt,e)));return{userId:e,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:i,mutations:s}}(this.M,this.userId,a),l=[];let u=new Wo(((t,e)=>ps(t.canonicalString(),e.canonicalString())));for(const t of i){const e=nc(this.userId,t.key.path,o);u=u.add(t.key.path.popLast()),l.push(r.put(c)),l.push(s.put(e,ic))}return u.forEach((e=>{l.push(this.indexManager.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((()=>{this.hn[o]=a.keys()})),Ic.waitFor(l).next((()=>a))}))}lookupMutationBatch(t,e){return Cl(t).get(e).next((t=>t?(Xi(t.userId===this.userId),Kc(this.M,t)):null))}ln(t,e){return this.hn[e]?Ic.resolve(this.hn[e]):this.lookupMutationBatch(t,e).next((t=>{if(t){const n=t.keys();return this.hn[e]=n,n}return null}))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return Cl(t).Wt({index:"userMutationsIndex",range:i},((t,e,i)=>{e.userId===this.userId&&(Xi(e.batchId>=n),s=Kc(this.M,e)),i.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Cl(t).Wt({index:"userMutationsIndex",range:e,reverse:!0},((t,e,i)=>{n=e.batchId,i.done()})).next((()=>n))}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cl(t).qt("userMutationsIndex",e).next((t=>t.map((t=>Kc(this.M,t)))))}getAllMutationBatchesAffectingDocumentKey(t,e){const n=ec(this.userId,e.path),i=IDBKeyRange.lowerBound(n),s=[];return kl(t).Wt({range:i},((n,i,r)=>{const[o,a,c]=n,l=Za(a);if(o===this.userId&&e.path.isEqual(l))return Cl(t).get(c).next((t=>{if(!t)throw Qi();Xi(t.userId===this.userId),s.push(Kc(this.M,t))}));r.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Wo(ps);const i=[];return e.forEach((e=>{const s=ec(this.userId,e.path),r=IDBKeyRange.lowerBound(s),o=kl(t).Wt({range:r},((t,i,s)=>{const[r,o,a]=t,c=Za(o);r===this.userId&&e.path.isEqual(c)?n=n.add(a):s.done()}));i.push(o)})),Ic.waitFor(i).next((()=>this.fn(t,n)))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1,s=ec(this.userId,n),r=IDBKeyRange.lowerBound(s);let o=new Wo(ps);return kl(t).Wt({range:r},((t,e,s)=>{const[r,a,c]=t,l=Za(a);r===this.userId&&n.isPrefixOf(l)?l.length===i&&(o=o.add(c)):s.done()})).next((()=>this.fn(t,o)))}fn(t,e){const n=[],i=[];return e.forEach((e=>{i.push(Cl(t).get(e).next((t=>{if(null===t)throw Qi();Xi(t.userId===this.userId),n.push(Kc(this.M,t))})))})),Ic.waitFor(i).next((()=>n))}removeMutationBatch(t,e){return Il(t.Ht,this.userId,e).next((n=>(t.addOnCommittedListener((()=>{this.dn(e.batchId)})),Ic.forEach(n,(e=>this.referenceDelegate.markPotentiallyOrphaned(t,e))))))}dn(t){delete this.hn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((e=>{if(!e)return Ic.resolve();const n=IDBKeyRange.lowerBound([this.userId]),i=[];return kl(t).Wt({range:n},((t,e,n)=>{if(t[0]===this.userId){const e=Za(t[1]);i.push(e)}else n.done()})).next((()=>{Xi(0===i.length)}))}))}containsKey(t,e){return xl(t,this.userId,e)}_n(t){return Dl(t).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function xl(t,e,n){const i=ec(e,n.path),s=i[1],r=IDBKeyRange.lowerBound(i);let o=!1;return kl(t).Wt({range:r,jt:!0},((t,n,i)=>{const[r,a,c]=t;r===e&&a===s&&(o=!0),i.done()})).next((()=>o))}function Cl(t){return Rc(t,"mutations")}function kl(t){return Rc(t,"documentMutations")}function Dl(t){return Rc(t,"mutationQueues")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(t){this.wn=t}next(){return this.wn+=2,this.wn}static mn(){return new Nl(0)}static gn(){return new Nl(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t,e){this.referenceDelegate=t,this.M=e}allocateTargetId(t){return this.yn(t).next((e=>{const n=new Nl(e.highestTargetId);return e.highestTargetId=n.next(),this.pn(t,e).next((()=>e.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.yn(t).next((t=>ws.fromTimestamp(new ys(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.yn(t).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(t,e,n){return this.yn(t).next((i=>(i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),this.pn(t,i))))}addTargetData(t,e){return this.In(t,e).next((()=>this.yn(t).next((n=>(n.targetCount+=1,this.Tn(e,n),this.pn(t,n))))))}updateTargetData(t,e){return this.In(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next((()=>Ll(t).delete(e.targetId))).next((()=>this.yn(t))).next((e=>(Xi(e.targetCount>0),e.targetCount-=1,this.pn(t,e))))}removeTargets(t,e,n){let i=0;const s=[];return Ll(t).Wt(((r,o)=>{const a=Wc(o);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,s.push(this.removeTargetData(t,a)))})).next((()=>Ic.waitFor(s))).next((()=>i))}forEachTarget(t,e){return Ll(t).Wt(((t,n)=>{const i=Wc(n);e(i)}))}yn(t){return Pl(t).get("targetGlobalKey").next((t=>(Xi(null!==t),t)))}pn(t,e){return Pl(t).put("targetGlobalKey",e)}In(t,e){return Ll(t).put(Gc(this.M,e))}Tn(t,e){let n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n}getTargetCount(t){return this.yn(t).next((t=>t.targetCount))}getTargetData(t,e){const n=_r(e),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return Ll(t).Wt({range:i,index:"queryTargetsIndex"},((t,n,i)=>{const r=Wc(n);Tr(e,r.target)&&(s=r,i.done())})).next((()=>s))}addMatchingKeys(t,e,n){const i=[],s=Rl(t);return e.forEach((e=>{const r=Qa(e.path);i.push(s.put({targetId:n,path:r})),i.push(this.referenceDelegate.addReference(t,n,e))})),Ic.waitFor(i)}removeMatchingKeys(t,e,n){const i=Rl(t);return Ic.forEach(e,(e=>{const s=Qa(e.path);return Ic.waitFor([i.delete([n,s]),this.referenceDelegate.removeReference(t,n,e)])}))}removeMatchingKeysForTargetId(t,e){const n=Rl(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(t,e){const n=IDBKeyRange.bound([e],[e+1],!1,!0),i=Rl(t);let s=ia();return i.Wt({range:n,jt:!0},((t,e,n)=>{const i=Za(t[1]),r=new $s(i);s=s.add(r)})).next((()=>s))}containsKey(t,e){const n=Qa(e.path),i=IDBKeyRange.bound([n],[gs(n)],!1,!0);let s=0;return Rl(t).Wt({index:"documentTargetsIndex",jt:!0,range:i},(([t,e],n,i)=>{0!==t&&(s++,i.done())})).next((()=>s>0))}Et(t,e){return Ll(t).get(e).next((t=>t?Wc(t):null))}}function Ll(t){return Rc(t,"targets")}function Pl(t){return Rc(t,"targetGlobal")}function Rl(t){return Rc(t,"targetDocuments")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(t){if(t.code!==ts.FAILED_PRECONDITION||t.message!==Ec)throw t;Ki("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl([t,e],[n,i]){const s=ps(t,n);return 0===s?ps(e,i):s}class Bl{constructor(t){this.En=t,this.buffer=new Wo(Fl),this.An=0}Rn(){return++this.An}bn(t){const e=[t,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();Fl(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Vl{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.Pn=!1,this.Vn=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(t)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(t){const e=this.Pn?3e5:6e4;Ki("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Vn=null,this.Pn=!0;try{await t.collectGarbage(this.garbageCollector)}catch(t){kc(t)?Ki("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Ml(t)}await this.vn(t)}))}}class jl{constructor(t,e){this.Sn=t,this.params=e}calculateTargetCount(t,e){return this.Sn.Dn(t).next((t=>Math.floor(e/100*t)))}nthSequenceNumber(t,e){if(0===e)return Ic.resolve(hs.A);const n=new Bl(e);return this.Sn.forEachTarget(t,(t=>n.bn(t.sequenceNumber))).next((()=>this.Sn.Cn(t,(t=>n.bn(t))))).next((()=>n.maxValue))}removeTargets(t,e,n){return this.Sn.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.Sn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ki("LruGarbageCollector","Garbage collection skipped; disabled"),Ic.resolve(El)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ki("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),El):this.xn(t,e)))}getCacheSize(t){return this.Sn.getCacheSize(t)}xn(t,e){let n,i,s,r,o,c,l;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((e=>(e>this.params.maximumSequenceNumbersToCollect?(Ki("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),i=this.params.maximumSequenceNumbersToCollect):i=e,r=Date.now(),this.nthSequenceNumber(t,i)))).next((i=>(n=i,o=Date.now(),this.removeTargets(t,n,e)))).next((e=>(s=e,c=Date.now(),this.removeOrphanedDocuments(t,n)))).next((t=>(l=Date.now(),Hi()<=a["in"].DEBUG&&Ki("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${r-u}ms\n\tDetermined least recently used ${i} in `+(o-r)+"ms\n"+`\tRemoved ${s} targets in `+(c-o)+"ms\n"+`\tRemoved ${t} documents in `+(l-c)+"ms\n"+`Total Duration: ${l-u}ms`),Ic.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:t}))))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(t,e){this.db=t,this.garbageCollector=function(t,e){return new jl(t,e)}(this,e)}Dn(t){const e=this.Nn(t);return this.db.getTargetCache().getTargetCount(t).next((t=>e.next((e=>t+e))))}Nn(t){let e=0;return this.Cn(t,(t=>{e++})).next((()=>e))}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Cn(t,e){return this.kn(t,((t,n)=>e(n)))}addReference(t,e,n){return Ul(t,n)}removeReference(t,e,n){return Ul(t,n)}removeTargets(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)}markPotentiallyOrphaned(t,e){return Ul(t,e)}Mn(t,e){return function(t,e){let n=!1;return Dl(t).zt((i=>xl(t,i,e).next((t=>(t&&(n=!0),Ic.resolve(!t)))))).next((()=>n))}(t,e)}removeOrphanedDocuments(t,e){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.kn(t,((r,o)=>{if(o<=e){const e=this.Mn(t,r).next((e=>{if(!e)return s++,n.getEntry(t,r).next((()=>(n.removeEntry(r,ws.min()),Rl(t).delete([0,Qa(r.path)]))))}));i.push(e)}})).next((()=>Ic.waitFor(i))).next((()=>n.apply(t))).next((()=>s))}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)}updateLimboDocument(t,e){return Ul(t,e)}kn(t,e){const n=Rl(t);let i,s=hs.A;return n.Wt({index:"documentTargetsIndex"},(([t,n],{path:r,sequenceNumber:o})=>{0===t?(s!==hs.A&&e(new $s(Za(i)),s),s=o,i=r):s=hs.A})).next((()=>{s!==hs.A&&e(new $s(Za(i)),s)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Ul(t,e){return Rl(t).put(function(t,e){return{targetId:0,path:Qa(t.path),sequenceNumber:e}}(e,t.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.changes=new qo((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,lr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?Ic.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(t){this.M=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,n){return Wl(t).put(n)}removeEntry(t,e,n){return Wl(t).delete(function(t,e){const n=t.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],qc(e),n[n.length-1]]}(e,n))}updateMetadata(t,e){return this.getMetadata(t).next((n=>(n.byteSize+=e,this.On(t,n))))}getEntry(t,e){let n=lr.newInvalidDocument(e);return Wl(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Gl(e))},((t,i)=>{n=this.Fn(e,i)})).next((()=>n))}$n(t,e){let n={size:0,document:lr.newInvalidDocument(e)};return Wl(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Gl(e))},((t,i)=>{n={document:this.Fn(e,i),size:Al(i)}})).next((()=>n))}getEntries(t,e){let n=Xo();return this.Bn(t,e,((t,e)=>{const i=this.Fn(t,e);n=n.insert(t,i)})).next((()=>n))}Ln(t,e){let n=Xo(),i=new Ho($s.comparator);return this.Bn(t,e,((t,e)=>{const s=this.Fn(t,e);n=n.insert(t,s),i=i.insert(t,Al(e))})).next((()=>({documents:n,Un:i})))}Bn(t,e,n){if(e.isEmpty())return Ic.resolve();let i=new Wo(Ql);e.forEach((t=>i=i.add(t)));const s=IDBKeyRange.bound(Gl(i.first()),Gl(i.last())),r=i.getIterator();let o=r.getNext();return Wl(t).Wt({index:"documentKeyIndex",range:s},((t,e,i)=>{const s=$s.fromSegments([...e.prefixPath,e.collectionGroup,e.documentId]);for(;o&&Ql(o,s)<0;)n(o,null),o=r.getNext();o&&o.isEqual(s)&&(n(o,e),o=r.hasNext()?r.getNext():null),o?i.Ut(Gl(o)):i.done()})).next((()=>{for(;o;)n(o,null),o=r.hasNext()?r.getNext():null}))}getAllFromCollection(t,e,n){const i=[e.popLast().toArray(),e.lastSegment(),qc(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wl(t).qt(IDBKeyRange.bound(i,s,!0)).next((t=>{let e=Xo();for(const n of t){const t=this.Fn($s.fromSegments(n.prefixPath.concat(n.collectionGroup,n.documentId)),n);e=e.insert(t.key,t)}return e}))}getAllFromCollectionGroup(t,e,n,i){let s=Xo();const r=Yl(e,n),o=Yl(e,yr.max());return Wl(t).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(r,o,!0)},((t,e,n)=>{const r=this.Fn($s.fromSegments(e.prefixPath.concat(e.collectionGroup,e.documentId)),e);s=s.insert(r.key,r),s.size===i&&n.done()})).next((()=>s))}newChangeBuffer(t){return new zl(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((t=>t.byteSize))}getMetadata(t){return Kl(t).get("remoteDocumentGlobalKey").next((t=>(Xi(!!t),t)))}On(t,e){return Kl(t).put("remoteDocumentGlobalKey",e)}Fn(t,e){if(e){const t=$c(this.M,e);if(!t.isNoDocument()||!t.version.isEqual(ws.min()))return t}return lr.newInvalidDocument(t)}}class zl extends ql{constructor(t,e){super(),this.qn=t,this.trackRemovals=e,this.Gn=new qo((t=>t.toString()),((t,e)=>t.isEqual(e)))}applyChanges(t){const e=[];let n=0,i=new Wo(((t,e)=>ps(t.canonicalString(),e.canonicalString())));return this.changes.forEach(((s,r)=>{const o=this.Gn.get(s);if(e.push(this.qn.removeEntry(t,s,o.readTime)),r.isValidDocument()){const a=Uc(this.qn.M,r);i=i.add(s.path.popLast());const c=Al(a);n+=c-o.size,e.push(this.qn.addEntry(t,s,a))}else if(n-=o.size,this.trackRemovals){const n=Uc(this.qn.M,r.convertToNoDocument(ws.min()));e.push(this.qn.addEntry(t,s,n))}})),i.forEach((n=>{e.push(this.qn.indexManager.addToCollectionParentIndex(t,n))})),e.push(this.qn.updateMetadata(t,n)),Ic.waitFor(e)}getFromCache(t,e){return this.qn.$n(t,e).next((t=>(this.Gn.set(e,{size:t.size,readTime:t.document.readTime}),t.document)))}getAllFromCache(t,e){return this.qn.Ln(t,e).next((({documents:t,Un:e})=>(e.forEach(((e,n)=>{this.Gn.set(e,{size:n,readTime:t.get(e).readTime})})),t)))}}function Kl(t){return Rc(t,"remoteDocumentGlobal")}function Wl(t){return Rc(t,"remoteDocumentsV14")}function Gl(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Yl(t,e){const n=e.documentKey.path.toArray();return[t,qc(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ql(t,e){const n=t.path.length-e.path.length;return 0!==n?n:$s.comparator(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(t){this.M=t}kt(t,e,n,i){const s=new Ac("createOrUpgrade",e);n<1&&i>=1&&(function(t){t.createObjectStore("owner")}(t),function(t){t.createObjectStore("mutationQueues",{keyPath:"userId"}),t.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tc,{unique:!0}),t.createObjectStore("documentMutations")}(t),Jl(t),function(t){t.createObjectStore("remoteDocuments")}(t));let r=Ic.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore("targetDocuments"),t.deleteObjectStore("targets"),t.deleteObjectStore("targetGlobal")}(t),Jl(t)),r=r.next((()=>function(t){const e=t.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ws.min().toTimestamp(),targetCount:0};return e.put("targetGlobalKey",n)}(s)))),n<4&&i>=4&&(0!==n&&(r=r.next((()=>function(t,e){return e.store("mutations").qt().next((n=>{t.deleteObjectStore("mutations"),t.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tc,{unique:!0});const i=e.store("mutations"),s=n.map((t=>i.put(t)));return Ic.waitFor(s)}))}(t,s)))),r=r.next((()=>{!function(t){t.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)}))),n<5&&i>=5&&(r=r.next((()=>this.Kn(s)))),n<6&&i>=6&&(r=r.next((()=>(function(t){t.createObjectStore("remoteDocumentGlobal")}(t),this.Qn(s))))),n<7&&i>=7&&(r=r.next((()=>this.jn(s)))),n<8&&i>=8&&(r=r.next((()=>this.Wn(t,s)))),n<9&&i>=9&&(r=r.next((()=>{!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t)}))),n<10&&i>=10&&(r=r.next((()=>this.zn(s)))),n<11&&i>=11&&(r=r.next((()=>{!function(t){t.createObjectStore("bundles",{keyPath:"bundleId"})}(t),function(t){t.createObjectStore("namedQueries",{keyPath:"name"})}(t)}))),n<12&&i>=12&&(r=r.next((()=>{!function(t){const e=t.createObjectStore("documentOverlays",{keyPath:mc});e.createIndex("collectionPathOverlayIndex",gc,{unique:!1}),e.createIndex("collectionGroupOverlayIndex",yc,{unique:!1})}(t)}))),n<13&&i>=13&&(r=r.next((()=>function(t){const e=t.createObjectStore("remoteDocumentsV14",{keyPath:sc});e.createIndex("documentKeyIndex",rc),e.createIndex("collectionGroupIndex",oc)}(t))).next((()=>this.Hn(t,s))).next((()=>t.deleteObjectStore("remoteDocuments")))),n<14&&i>=14&&(r=r.next((()=>{!function(t){t.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),t.createObjectStore("indexState",{keyPath:hc}).createIndex("sequenceNumberIndex",dc,{unique:!1}),t.createObjectStore("indexEntries",{keyPath:fc}).createIndex("documentKeyIndex",pc,{unique:!1})}(t)}))),r}Qn(t){let e=0;return t.store("remoteDocuments").Wt(((t,n)=>{e+=Al(n)})).next((()=>{const n={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Kn(t){const e=t.store("mutationQueues"),n=t.store("mutations");return e.qt().next((e=>Ic.forEach(e,(e=>{const i=IDBKeyRange.bound([e.userId,-1],[e.userId,e.lastAcknowledgedBatchId]);return n.qt("userMutationsIndex",i).next((n=>Ic.forEach(n,(n=>{Xi(n.userId===e.userId);const i=Kc(this.M,n);return Il(t,e.userId,i).next((()=>{}))}))))}))))}jn(t){const e=t.store("targetDocuments"),n=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next((t=>{const i=[];return n.Wt(((n,s)=>{const r=new Ts(n),o=function(t){return[0,Qa(t)]}(r);i.push(e.get(o).next((n=>n?Ic.resolve():(n=>e.put({targetId:0,path:Qa(n),sequenceNumber:t.highestListenSequenceNumber}))(r))))})).next((()=>Ic.waitFor(i)))}))}Wn(t,e){t.createObjectStore("collectionParents",{keyPath:uc});const n=e.store("collectionParents"),i=new ml,s=t=>{if(i.add(t)){const e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Qa(i)})}};return e.store("remoteDocuments").Wt({jt:!0},((t,e)=>{const n=new Ts(t);return s(n.popLast())})).next((()=>e.store("documentMutations").Wt({jt:!0},(([t,e,n],i)=>{const r=Za(e);return s(r.popLast())}))))}zn(t){const e=t.store("targets");return e.Wt(((t,n)=>{const i=Wc(n),s=Gc(this.M,i);return e.put(s)}))}Hn(t,e){const n=e.store("remoteDocuments"),i=[];return n.Wt(((t,n)=>{const s=e.store("remoteDocumentsV14"),r=(o=n,o.document?new $s(Ts.fromString(o.document.name).popFirst(5)):o.noDocument?$s.fromSegments(o.noDocument.path):o.unknownDocument?$s.fromSegments(o.unknownDocument.path):Qi()).path.toArray();var o;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a={prefixPath:r.slice(0,r.length-2),collectionGroup:r[r.length-2],documentId:r[r.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};i.push(s.put(a))})).next((()=>Ic.waitFor(i)))}}function Jl(t){t.createObjectStore("targetDocuments",{keyPath:cc}).createIndex("documentTargetsIndex",lc,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ac,{unique:!0}),t.createObjectStore("targetGlobal")}const Zl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class tu{constructor(t,e,n,i,s,r,o,a,c,l,u=13){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.Jn=s,this.window=r,this.document=o,this.Yn=c,this.Xn=l,this.Zn=u,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=t=>Promise.resolve(),!tu.vt())throw new es(ts.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $l(this,i),this.cs=e+"main",this.M=new jc(a),this.hs=new Sc(this.cs,this.Zn,new Xl(this.M)),this.ls=new Ol(this.referenceDelegate,this.M),this.fs=function(t){return new Hl(t)}(this.M),this.ds=new Jc,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===l&&Wi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new es(ts.FAILED_PRECONDITION,Zl);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.ls.getHighestSequenceNumber(t)))})).then((t=>{this.ts=new hs(t,this.Yn)})).then((()=>{this.es=!0})).catch((t=>(this.hs&&this.hs.close(),Promise.reject(t))))}Is(t){return this.us=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.hs.Ot((async e=>{null===e.newVersion&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Jn.enqueueAndForget((async()=>{this.started&&await this.ws()})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>nu(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Ts(t).next((t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable((()=>this.us(!1))))}))})).next((()=>this.Es(t))).next((e=>this.isPrimary&&!e?this.As(t).next((()=>!1)):!!e&&this.Rs(t).next((()=>!0)))))).catch((t=>{if(kc(t))return Ki("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ki("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Jn.enqueueRetryable((()=>this.us(t))),this.isPrimary=t}))}Ts(t){return eu(t).get("owner").next((t=>Ic.resolve(this.bs(t))))}Ps(t){return nu(t).delete(this.clientId)}async Vs(){if(this.isPrimary&&!this.vs(this.os,18e5)){this.os=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const e=Rc(t,"clientMetadata");return e.qt().next((t=>{const n=this.Ss(t,18e5),i=t.filter((t=>-1===n.indexOf(t)));return Ic.forEach(i,(t=>e.delete(t.clientId))).next((()=>i))}))})).catch((()=>[]));if(this._s)for(const e of t)this._s.removeItem(this.Ds(e.clientId))}}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.ws().then((()=>this.Vs())).then((()=>this.ps()))))}bs(t){return!!t&&t.ownerId===this.clientId}Es(t){return this.Xn?Ic.resolve(!0):eu(t).get("owner").next((e=>{if(null!==e&&this.vs(e.leaseTimestampMs,5e3)&&!this.Cs(e.ownerId)){if(this.bs(e)&&this.networkEnabled)return!0;if(!this.bs(e)){if(!e.allowTabSynchronization)throw new es(ts.FAILED_PRECONDITION,Zl);return!1}}return!(!this.networkEnabled||!this.inForeground)||nu(t).qt().next((t=>void 0===this.Ss(t,5e3).find((t=>{if(this.clientId!==t.clientId){const e=!this.networkEnabled&&t.networkEnabled,n=!this.inForeground&&t.inForeground,i=this.networkEnabled===t.networkEnabled;if(e||n&&i)return!0}return!1}))))})).next((t=>(this.isPrimary!==t&&Ki("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.es=!1,this.xs(),this.rs&&(this.rs.cancel(),this.rs=null),this.Ns(),this.ks(),await this.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(t=>{const e=new Pc(t,hs.A);return this.As(e).next((()=>this.Ps(e)))})),this.hs.close(),this.Ms()}Ss(t,e){return t.filter((t=>this.vs(t.updateTimeMs,e)&&!this.Cs(t.clientId)))}Os(){return this.runTransaction("getActiveClients","readonly",(t=>nu(t).qt().next((t=>this.Ss(t,18e5).map((t=>t.clientId))))))}get started(){return this.es}getMutationQueue(t,e){return Sl.Yt(t,this.M,e,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(t){return new yl(t)}getDocumentOverlayCache(t){return el.Yt(this.M,t)}getBundleCache(){return this.ds}runTransaction(t,e,n){Ki("IndexedDbPersistence","Starting transaction:",t);const i="readonly"===e?"readonly":"readwrite",s=14===(r=this.Zn)?_c:13===r?bc:12===r?vc:11===r?wc:void Qi();var r;let o;return this.hs.runTransaction(t,i,s,(i=>(o=new Pc(i,this.ts?this.ts.next():hs.A),"readwrite-primary"===e?this.Ts(o).next((t=>!!t||this.Es(o))).next((e=>{if(!e)throw Wi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable((()=>this.us(!1))),new es(ts.FAILED_PRECONDITION,Ec);return n(o)})).next((t=>this.Rs(o).next((()=>t)))):this.Fs(o).next((()=>n(o)))))).then((t=>(o.raiseOnCommittedEvent(),t)))}Fs(t){return eu(t).get("owner").next((t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new es(ts.FAILED_PRECONDITION,Zl)}))}Rs(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return eu(t).put("owner",e)}static vt(){return Sc.vt()}As(t){const e=eu(t);return e.get("owner").next((t=>this.bs(t)?(Ki("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Ic.resolve()))}vs(t,e){const n=Date.now();return!(t<n-e)&&(!(t>n)||(Wi(`Detected an update time that is in the future: ${t} > ${n}`),!1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.ws())))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ns=()=>{this.xs(),(0,c.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(t){var e;try{const n=null!==(null===(e=this._s)||void 0===e?void 0:e.getItem(this.Ds(t)));return Ki("IndexedDbPersistence",`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(t){return Wi("IndexedDbPersistence","Failed to get zombied client id.",t),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(T){Wi("Failed to set zombie client id.",T)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(T){}}Ds(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function eu(t){return Rc(t,"owner")}function nu(t){return Rc(t,"clientMetadata")}function iu(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class su{constructor(t,e,n){this.fs=t,this.$s=e,this.indexManager=n}Bs(t,e){return this.$s.getAllMutationBatchesAffectingDocumentKey(t,e).next((n=>this.Ls(t,e,n)))}Ls(t,e,n){return this.fs.getEntry(t,e).next((t=>{for(const e of n)e.applyToLocalView(t);return t}))}Us(t,e){t.forEach(((t,n)=>{for(const i of e)i.applyToLocalView(n)}))}qs(t,e){return this.fs.getEntries(t,e).next((e=>this.Gs(t,e).next((()=>e))))}Gs(t,e){return this.$s.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>this.Us(e,t)))}Ks(t,e,n){return function(t){return $s.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Qs(t,e.path):Wr(e)?this.js(t,e,n):this.Ws(t,e,n)}Qs(t,e){return this.Bs(t,new $s(e)).next((t=>{let e=Zo();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}js(t,e,n){const i=e.collectionGroup;let s=Zo();return this.indexManager.getCollectionParents(t,i).next((r=>Ic.forEach(r,(r=>{const o=function(t,e){return new jr(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,r.child(i));return this.Ws(t,o,n).next((t=>{t.forEach(((t,e)=>{s=s.insert(t,e)}))}))})).next((()=>s))))}Ws(t,e,n){let i;return this.fs.getAllFromCollection(t,e.path,n).next((n=>(i=n,this.$s.getAllMutationBatchesAffectingQuery(t,e)))).next((t=>{for(const e of t)for(const t of e.mutations){const n=t.key;let s=i.get(n);null==s&&(s=lr.newInvalidDocument(n),i=i.insert(n,s)),xo(t,s,e.localWriteTime),s.isFoundDocument()||(i=i.remove(n))}})).next((()=>(i.forEach(((t,n)=>{to(e,n)||(i=i.remove(t))})),i)))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(t,e,n,i){this.targetId=t,this.fromCache=e,this.zs=n,this.Hs=i}static Js(t,e){let n=ia(),i=ia();for(const s of e.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ru(t,e.fromCache,n,i)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{Ys(t){this.Xs=t}Ks(t,e,n,i){return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(ws.min())?this.Zs(t,e):this.Xs.qs(t,i).next((s=>{const r=this.ti(e,s);return(qr(e)||Hr(e))&&this.ei(e.limitType,r,i,n)?this.Zs(t,e):(Hi()<=a["in"].DEBUG&&Ki("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Zr(e)),this.Xs.Ks(t,e,mr(n,-1)).next((t=>(r.forEach((e=>{t=t.insert(e.key,e)})),t))))}))}ti(t,e){let n=new Wo(no(t));return e.forEach(((e,i)=>{to(t,i)&&(n=n.add(i))})),n}ei(t,e,n,i){if(n.size!==e.size)return!0;const s="F"===t?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Zs(t,e){return Hi()<=a["in"].DEBUG&&Ki("QueryEngine","Using full collection scan to execute query:",Zr(e)),this.Xs.Ks(t,e,yr.min())}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(t,e,n,i){this.persistence=t,this.ni=e,this.M=i,this.si=new Ho(ps),this.ii=new qo((t=>_r(t)),Tr),this.ri=new Map,this.oi=t.getRemoteDocumentCache(),this.ls=t.getTargetCache(),this.ds=t.getBundleCache(),this.ui(n)}ui(t){this.indexManager=this.persistence.getIndexManager(t),this.$s=this.persistence.getMutationQueue(t,this.indexManager),this.ai=new su(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.si)))}}function cu(t,e,n,i){return new au(t,e,n,i)}async function lu(t,e){const n=Zi(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let i;return n.$s.getAllMutationBatches(t).next((s=>(i=s,n.ui(e),n.$s.getAllMutationBatches(t)))).next((e=>{const s=[],r=[];let o=ia();for(const t of i){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){r.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return n.ai.qs(t,o).next((t=>({ci:t,removedBatchIds:s,addedBatchIds:r})))}))}))}function uu(t,e){const n=Zi(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const i=e.batch.keys(),s=n.oi.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){const s=n.batch,r=s.keys();let o=Ic.resolve();return r.forEach((t=>{o=o.next((()=>i.getEntry(e,t))).next((e=>{const r=n.docVersions.get(t);Xi(null!==r),e.version.compareTo(r)<0&&(s.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),i.addEntry(e)))}))})),o.next((()=>t.$s.removeMutationBatch(e,s)))}(n,t,e,s).next((()=>s.apply(t))).next((()=>n.$s.performConsistencyCheck(t))).next((()=>n.ai.qs(t,i)))}))}function hu(t){const e=Zi(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.ls.getLastRemoteSnapshotVersion(t)))}function du(t,e){const n=Zi(t),i=e.snapshotVersion;let s=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const r=n.oi.newChangeBuffer({trackRemovals:!0});s=n.si;const o=[];e.targetChanges.forEach(((r,a)=>{const c=s.get(a);if(!c)return;o.push(n.ls.removeMatchingKeys(t,r.removedDocuments,a).next((()=>n.ls.addMatchingKeys(t,r.addedDocuments,a))));let l=c.withSequenceNumber(t.currentSequenceNumber);e.targetMismatches.has(a)?l=l.withResumeToken(Cs.EMPTY_BYTE_STRING,ws.min()).withLastLimboFreeSnapshotVersion(ws.min()):r.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(r.resumeToken,i)),s=s.insert(a,l),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(c,l,r)&&o.push(n.ls.updateTargetData(t,l))}));let a=Xo();if(e.documentUpdates.forEach((i=>{e.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))})),o.push(fu(t,r,e.documentUpdates).next((t=>{a=t}))),!i.isEqual(ws.min())){const e=n.ls.getLastRemoteSnapshotVersion(t).next((e=>n.ls.setTargetsMetadata(t,t.currentSequenceNumber,i)));o.push(e)}return Ic.waitFor(o).next((()=>r.apply(t))).next((()=>n.ai.Gs(t,a))).next((()=>a))})).then((t=>(n.si=s,t)))}function fu(t,e,n){let i=ia();return n.forEach((t=>i=i.add(t))),e.getEntries(t,i).next((t=>{let i=Xo();return n.forEach(((n,s)=>{const r=t.get(n);s.isNoDocument()&&s.version.isEqual(ws.min())?(e.removeEntry(n,s.readTime),i=i.insert(n,s)):!r.isValidDocument()||s.version.compareTo(r.version)>0||0===s.version.compareTo(r.version)&&r.hasPendingWrites?(e.addEntry(s),i=i.insert(n,s)):Ki("LocalStore","Ignoring outdated watch update for ",n,". Current version:",r.version," Watch version:",s.version)})),i}))}function pu(t,e){const n=Zi(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.$s.getNextMutationBatchAfterBatchId(t,e))))}function mu(t,e){const n=Zi(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let i;return n.ls.getTargetData(t,e).next((s=>s?(i=s,Ic.resolve(i)):n.ls.allocateTargetId(t).next((s=>(i=new Vc(e,s,0,t.currentSequenceNumber),n.ls.addTargetData(t,i).next((()=>i)))))))})).then((t=>{const i=n.si.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.si=n.si.insert(t.targetId,t),n.ii.set(e,t.targetId)),t}))}async function gu(t,e,n){const i=Zi(t),s=i.si.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,(t=>i.persistence.referenceDelegate.removeTarget(t,s)))}catch(t){if(!kc(t))throw t;Ki("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}i.si=i.si.remove(e),i.ii.delete(s.target)}function yu(t,e,n){const i=Zi(t);let s=ws.min(),r=ia();return i.persistence.runTransaction("Execute query","readonly",(t=>function(t,e,n){const i=Zi(t),s=i.ii.get(n);return void 0!==s?Ic.resolve(i.si.get(s)):i.ls.getTargetData(e,n)}(i,t,Yr(e)).next((e=>{if(e)return s=e.lastLimboFreeSnapshotVersion,i.ls.getMatchingKeysForTargetId(t,e.targetId).next((t=>{r=t}))})).next((()=>i.ni.Ks(t,e,n?s:ws.min(),n?r:ia()))).next((t=>(bu(i,eo(e),t),{documents:t,hi:r})))))}function wu(t,e){const n=Zi(t),i=Zi(n.ls),s=n.si.get(e);return s?Promise.resolve(s.target):n.persistence.runTransaction("Get target data","readonly",(t=>i.Et(t,e).next((t=>t?t.target:null))))}function vu(t,e){const n=Zi(t),i=n.ri.get(e)||ws.min();return n.persistence.runTransaction("Get new document changes","readonly",(t=>n.oi.getAllFromCollectionGroup(t,e,mr(i,-1),Number.MAX_SAFE_INTEGER))).then((t=>(bu(n,e,t),t)))}function bu(t,e,n){let i=ws.min();n.forEach(((t,e)=>{e.readTime.compareTo(i)>0&&(i=e.readTime)})),t.ri.set(e,i)}async function _u(t,e,n,i){const s=Zi(t);let r=ia(),o=Xo();for(const l of n){const t=e.li(l.metadata.name);l.document&&(r=r.add(t));const n=e.fi(l);n.setReadTime(e.di(l.metadata.readTime)),o=o.insert(t,n)}const a=s.oi.newChangeBuffer({trackRemovals:!0}),c=await mu(s,function(t){return Yr(Ur(Ts.fromString(`__bundle__/docs/${t}`)))}(i));return s.persistence.runTransaction("Apply bundle documents","readwrite",(t=>fu(t,a,o).next((e=>(a.apply(t),e))).next((e=>s.ls.removeMatchingKeysForTargetId(t,c.targetId).next((()=>s.ls.addMatchingKeys(t,r,c.targetId))).next((()=>s.ai.Gs(t,e))).next((()=>e))))))}async function Eu(t,e,n=ia()){const i=await mu(t,Yr(Yc(e.bundledQuery))),s=Zi(t);return s.persistence.runTransaction("Save named query","readwrite",(t=>{const r=_a(e.readTime);if(i.snapshotVersion.compareTo(r)>=0)return s.ds.saveNamedQuery(t,e);const o=i.withResumeToken(Cs.EMPTY_BYTE_STRING,r);return s.si=s.si.insert(o.targetId,o),s.ls.updateTargetData(t,o).next((()=>s.ls.removeMatchingKeysForTargetId(t,i.targetId))).next((()=>s.ls.addMatchingKeys(t,n,i.targetId))).next((()=>s.ds.saveNamedQuery(t,e)))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(t){this.M=t,this._i=new Map,this.wi=new Map}getBundleMetadata(t,e){return Ic.resolve(this._i.get(e))}saveBundleMetadata(t,e){var n;return this._i.set(e.id,{id:(n=e).id,version:n.version,createTime:_a(n.createTime)}),Ic.resolve()}getNamedQuery(t,e){return Ic.resolve(this.wi.get(e))}saveNamedQuery(t,e){return this.wi.set(e.name,function(t){return{name:t.name,query:Yc(t.bundledQuery),readTime:_a(t.readTime)}}(e)),Ic.resolve()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(){this.overlays=new Ho($s.comparator),this.mi=new Map}getOverlay(t,e){return Ic.resolve(this.overlays.get(e))}saveOverlays(t,e,n){return n.forEach(((n,i)=>{this.Xt(t,e,i)})),Ic.resolve()}removeOverlaysForBatchId(t,e,n){const i=this.mi.get(n);return void 0!==i&&(i.forEach((t=>this.overlays=this.overlays.remove(t))),this.mi.delete(n)),Ic.resolve()}getOverlaysForCollection(t,e,n){const i=ta(),s=e.length+1,r=new $s(e.child("")),o=this.overlays.getIteratorFrom(r);for(;o.hasNext();){const t=o.getNext().value,r=t.getKey();if(!e.isPrefixOf(r.path))break;r.path.length===s&&t.largestBatchId>n&&i.set(t.getKey(),t)}return Ic.resolve(i)}getOverlaysForCollectionGroup(t,e,n,i){let s=new Ho(((t,e)=>t-e));const r=this.overlays.getIterator();for(;r.hasNext();){const t=r.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=s.get(t.largestBatchId);null===e&&(e=ta(),s=s.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=ta(),a=s.getIterator();for(;a.hasNext();)if(a.getNext().value.forEach(((t,e)=>o.set(t,e))),o.size()>=i)break;return Ic.resolve(o)}Xt(t,e,n){if(null===n)return;const i=this.overlays.get(n.key);if(null!==i){const t=this.mi.get(i.largestBatchId).delete(n.key);this.mi.set(i.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new Bc(e,n));let s=this.mi.get(e);void 0===s&&(s=ia(),this.mi.set(e,s)),this.mi.set(e,s.add(n.key))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(){this.gi=new Wo(Su.yi),this.pi=new Wo(Su.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(t,e){const n=new Su(t,e);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}Ti(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.Ei(new Su(t,e))}Ai(t,e){t.forEach((t=>this.removeReference(t,e)))}Ri(t){const e=new $s(new Ts([])),n=new Su(e,t),i=new Su(e,t+1),s=[];return this.pi.forEachInRange([n,i],(t=>{this.Ei(t),s.push(t.key)})),s}bi(){this.gi.forEach((t=>this.Ei(t)))}Ei(t){this.gi=this.gi.delete(t),this.pi=this.pi.delete(t)}Pi(t){const e=new $s(new Ts([])),n=new Su(e,t),i=new Su(e,t+1);let s=ia();return this.pi.forEachInRange([n,i],(t=>{s=s.add(t.key)})),s}containsKey(t){const e=new Su(t,0),n=this.gi.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class Su{constructor(t,e){this.key=t,this.Vi=e}static yi(t,e){return $s.comparator(t.key,e.key)||ps(t.Vi,e.Vi)}static Ii(t,e){return ps(t.Vi,e.Vi)||$s.comparator(t.key,e.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.$s=[],this.vi=1,this.Si=new Wo(Su.yi)}checkEmpty(t){return Ic.resolve(0===this.$s.length)}addMutationBatch(t,e,n,i){const s=this.vi;this.vi++,this.$s.length>0&&this.$s[this.$s.length-1];const r=new Mc(s,e,n,i);this.$s.push(r);for(const o of i)this.Si=this.Si.add(new Su(o.key,s)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return Ic.resolve(r)}lookupMutationBatch(t,e){return Ic.resolve(this.Di(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=this.Ci(n),s=i<0?0:i;return Ic.resolve(this.$s.length>s?this.$s[s]:null)}getHighestUnacknowledgedBatchId(){return Ic.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(t){return Ic.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Su(e,0),i=new Su(e,Number.POSITIVE_INFINITY),s=[];return this.Si.forEachInRange([n,i],(t=>{const e=this.Di(t.Vi);s.push(e)})),Ic.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Wo(ps);return e.forEach((t=>{const e=new Su(t,0),i=new Su(t,Number.POSITIVE_INFINITY);this.Si.forEachInRange([e,i],(t=>{n=n.add(t.Vi)}))})),Ic.resolve(this.xi(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1;let s=n;$s.isDocumentKey(s)||(s=s.child(""));const r=new Su(new $s(s),0);let o=new Wo(ps);return this.Si.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(o=o.add(t.Vi)),!0)}),r),Ic.resolve(this.xi(o))}xi(t){const e=[];return t.forEach((t=>{const n=this.Di(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){Xi(0===this.Ni(e.batchId,"removed")),this.$s.shift();let n=this.Si;return Ic.forEach(e.mutations,(i=>{const s=new Su(i.key,e.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((()=>{this.Si=n}))}dn(t){}containsKey(t,e){const n=new Su(e,0),i=this.Si.firstAfterOrEqual(n);return Ic.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.$s.length,Ic.resolve()}Ni(t,e){return this.Ci(t)}Ci(t){return 0===this.$s.length?0:t-this.$s[0].batchId}Di(t){const e=this.Ci(t);return e<0||e>=this.$s.length?null:this.$s[e]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t){this.ki=t,this.docs=new Ho($s.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,i=this.docs.get(n),s=i?i.size:0,r=this.ki(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:r}),this.size+=r-s,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Ic.resolve(n?n.document.mutableCopy():lr.newInvalidDocument(e))}getEntries(t,e){let n=Xo();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():lr.newInvalidDocument(t))})),Ic.resolve(n)}getAllFromCollection(t,e,n){let i=Xo();const s=new $s(e.child("")),r=this.docs.getIteratorFrom(s);for(;r.hasNext();){const{key:t,value:{document:s}}=r.getNext();if(!e.isPrefixOf(t.path))break;t.path.length>e.length+1||wr(gr(s),n)<=0||(i=i.insert(s.key,s.mutableCopy()))}return Ic.resolve(i)}getAllFromCollectionGroup(t,e,n,i){Qi()}Mi(t,e){return Ic.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new ku(this)}getSize(t){return Ic.resolve(this.size)}}class ku extends ql{constructor(t){super(),this.qn=t}applyChanges(t){const e=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?e.push(this.qn.addEntry(t,i)):this.qn.removeEntry(n)})),Ic.waitFor(e)}getFromCache(t,e){return this.qn.getEntry(t,e)}getAllFromCache(t,e){return this.qn.getEntries(t,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(t){this.persistence=t,this.Oi=new qo((t=>_r(t)),Tr),this.lastRemoteSnapshotVersion=ws.min(),this.highestTargetId=0,this.Fi=0,this.$i=new Au,this.targetCount=0,this.Bi=Nl.mn()}forEachTarget(t,e){return this.Oi.forEach(((t,n)=>e(n))),Ic.resolve()}getLastRemoteSnapshotVersion(t){return Ic.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ic.resolve(this.Fi)}allocateTargetId(t){return this.highestTargetId=this.Bi.next(),Ic.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Fi&&(this.Fi=e),Ic.resolve()}In(t){this.Oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Bi=new Nl(e),this.highestTargetId=e),t.sequenceNumber>this.Fi&&(this.Fi=t.sequenceNumber)}addTargetData(t,e){return this.In(e),this.targetCount+=1,Ic.resolve()}updateTargetData(t,e){return this.In(e),Ic.resolve()}removeTargetData(t,e){return this.Oi.delete(e.target),this.$i.Ri(e.targetId),this.targetCount-=1,Ic.resolve()}removeTargets(t,e,n){let i=0;const s=[];return this.Oi.forEach(((r,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Oi.delete(r),s.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)})),Ic.waitFor(s).next((()=>i))}getTargetCount(t){return Ic.resolve(this.targetCount)}getTargetData(t,e){const n=this.Oi.get(e)||null;return Ic.resolve(n)}addMatchingKeys(t,e,n){return this.$i.Ti(e,n),Ic.resolve()}removeMatchingKeys(t,e,n){this.$i.Ai(e,n);const i=this.persistence.referenceDelegate,s=[];return i&&e.forEach((e=>{s.push(i.markPotentiallyOrphaned(t,e))})),Ic.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.$i.Ri(e),Ic.resolve()}getMatchingKeysForTargetId(t,e){const n=this.$i.Pi(e);return Ic.resolve(n)}containsKey(t,e){return Ic.resolve(this.$i.containsKey(e))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(t,e){this.Li={},this.overlays={},this.ts=new hs(0),this.es=!1,this.es=!0,this.referenceDelegate=t(this),this.ls=new Du(this),this.indexManager=new pl,this.fs=function(t){return new Cu(t)}((t=>this.referenceDelegate.Ui(t))),this.M=new jc(e),this.ds=new Tu(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Iu,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Li[t.toKey()];return n||(n=new xu(e,this.referenceDelegate),this.Li[t.toKey()]=n),n}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(t,e,n){Ki("MemoryPersistence","Starting transaction:",t);const i=new Ou(this.ts.next());return this.referenceDelegate.qi(),n(i).next((t=>this.referenceDelegate.Gi(i).next((()=>t)))).toPromise().then((t=>(i.raiseOnCommittedEvent(),t)))}Ki(t,e){return Ic.or(Object.values(this.Li).map((n=>()=>n.containsKey(t,e))))}}class Ou extends Tc{constructor(t){super(),this.currentSequenceNumber=t}}class Lu{constructor(t){this.persistence=t,this.Qi=new Au,this.ji=null}static Wi(t){return new Lu(t)}get zi(){if(this.ji)return this.ji;throw Qi()}addReference(t,e,n){return this.Qi.addReference(n,e),this.zi.delete(n.toString()),Ic.resolve()}removeReference(t,e,n){return this.Qi.removeReference(n,e),this.zi.add(n.toString()),Ic.resolve()}markPotentiallyOrphaned(t,e){return this.zi.add(e.toString()),Ic.resolve()}removeTarget(t,e){this.Qi.Ri(e.targetId).forEach((t=>this.zi.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.zi.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}qi(){this.ji=new Set}Gi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ic.forEach(this.zi,(n=>{const i=$s.fromPath(n);return this.Hi(t,i).next((t=>{t||e.removeEntry(i,ws.min())}))})).next((()=>(this.ji=null,e.apply(t))))}updateLimboDocument(t,e){return this.Hi(t,e).next((t=>{t?this.zi.delete(e.toString()):this.zi.add(e.toString())}))}Ui(t){return 0}Hi(t,e){return Ic.or([()=>Ic.resolve(this.Qi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ki(t,e)])}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(t,e){return`firestore_clients_${t}_${e}`}function Ru(t,e,n){let i=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function Mu(t,e){return`firestore_targets_${t}_${e}`}class Fu{constructor(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i}static Ji(t,e,n){const i=JSON.parse(n);let s,r="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return r&&i.error&&(r="string"==typeof i.error.message&&"string"==typeof i.error.code,r&&(s=new es(i.error.code,i.error.message))),r?new Fu(t,e,i.state,s):(Wi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${n}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Bu{constructor(t,e,n){this.targetId=t,this.state=e,this.error=n}static Ji(t,e){const n=JSON.parse(e);let i,s="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return s&&n.error&&(s="string"==typeof n.error.message&&"string"==typeof n.error.code,s&&(i=new es(n.error.code,n.error.message))),s?new Bu(t,n.state,i):(Wi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Vu{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ji(t,e){const n=JSON.parse(e);let i="object"==typeof n&&n.activeTargetIds instanceof Array,s=ra();for(let r=0;i&&r<n.activeTargetIds.length;++r)i=js(n.activeTargetIds[r]),s=s.add(n.activeTargetIds[r]);return i?new Vu(t,s):(Wi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class ju{constructor(t,e){this.clientId=t,this.onlineState=e}static Ji(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new ju(e.clientId,e.onlineState):(Wi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class $u{constructor(){this.activeTargetIds=ra()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Uu{constructor(t,e,n,i,s){this.window=t,this.Jn=e,this.persistenceKey=n,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Ho(ps),this.started=!1,this.ir=[];const r=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.rr=Pu(this.persistenceKey,this.tr),this.ur=function(t){return`firestore_sequence_number_${t}`}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.persistenceKey),this.sr=this.sr.insert(this.tr,new $u),this.ar=new RegExp(`^firestore_clients_${r}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${r}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${r}_(\\d+)$`),this.lr=function(t){return`firestore_online_state_${t}`}(this.persistenceKey),this.dr=function(t){return`firestore_bundle_loaded_v2_${t}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(t){return!(!t||!t.localStorage)}async start(){const t=await this.syncEngine.Os();for(const n of t){if(n===this.tr)continue;const t=this.getItem(Pu(this.persistenceKey,n));if(t){const e=Vu.Ji(n,t);e&&(this.sr=this.sr.insert(e.clientId,e))}}this._r();const e=this.storage.getItem(this.lr);if(e){const t=this.wr(e);t&&this.mr(t)}for(const n of this.ir)this.nr(n);this.ir=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(t){this.setItem(this.ur,JSON.stringify(t))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(t){let e=!1;return this.sr.forEach(((n,i)=>{i.activeTargetIds.has(t)&&(e=!0)})),e}addPendingMutation(t){this.yr(t,"pending")}updateMutationState(t,e,n){this.yr(t,e,n),this.pr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const n=this.storage.getItem(Mu(this.persistenceKey,t));if(n){const i=Bu.Ji(t,n);i&&(e=i.state)}}return this.Ir.Xi(t),this._r(),e}removeLocalQueryTarget(t){this.Ir.Zi(t),this._r()}isLocalQueryTarget(t){return this.Ir.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Mu(this.persistenceKey,t))}updateQueryState(t,e,n){this.Tr(t,e,n)}handleUserChange(t,e,n){e.forEach((t=>{this.pr(t)})),this.currentUser=t,n.forEach((t=>{this.addPendingMutation(t)}))}setOnlineState(t){this.Er(t)}notifyBundleLoaded(t){this.Ar(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ki("SharedClientState","READ",t,e),e}setItem(t,e){Ki("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ki("SharedClientState","REMOVE",t),this.storage.removeItem(t)}nr(t){const e=t;if(e.storageArea===this.storage){if(Ki("SharedClientState","EVENT",e.key,e.newValue),e.key===this.rr)return void Wi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((async()=>{if(this.started){if(null!==e.key)if(this.ar.test(e.key)){if(null==e.newValue){const t=this.Rr(e.key);return this.br(t,null)}{const t=this.Pr(e.key,e.newValue);if(t)return this.br(t.clientId,t)}}else if(this.cr.test(e.key)){if(null!==e.newValue){const t=this.Vr(e.key,e.newValue);if(t)return this.vr(t)}}else if(this.hr.test(e.key)){if(null!==e.newValue){const t=this.Sr(e.key,e.newValue);if(t)return this.Dr(t)}}else if(e.key===this.lr){if(null!==e.newValue){const t=this.wr(e.newValue);if(t)return this.mr(t)}}else if(e.key===this.ur){const t=function(t){let e=hs.A;if(null!=t)try{const n=JSON.parse(t);Xi("number"==typeof n),e=n}catch(t){Wi("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(e.newValue);t!==hs.A&&this.sequenceNumberHandler(t)}else if(e.key===this.dr){const t=this.Cr(e.newValue);await Promise.all(t.map((t=>this.syncEngine.Nr(t))))}}else this.ir.push(e)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(t,e,n){const i=new Fu(this.currentUser,t,e,n),s=Ru(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Yi())}pr(t){const e=Ru(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Er(t){const e={clientId:this.tr,onlineState:t};this.storage.setItem(this.lr,JSON.stringify(e))}Tr(t,e,n){const i=Mu(this.persistenceKey,t),s=new Bu(t,e,n);this.setItem(i,s.Yi())}Ar(t){const e=JSON.stringify(Array.from(t));this.setItem(this.dr,e)}Rr(t){const e=this.ar.exec(t);return e?e[1]:null}Pr(t,e){const n=this.Rr(t);return Vu.Ji(n,e)}Vr(t,e){const n=this.cr.exec(t),i=Number(n[1]),s=void 0!==n[2]?n[2]:null;return Fu.Ji(new $i(s),i,e)}Sr(t,e){const n=this.hr.exec(t),i=Number(n[1]);return Bu.Ji(i,e)}wr(t){return ju.Ji(t)}Cr(t){return JSON.parse(t)}async vr(t){if(t.user.uid===this.currentUser.uid)return this.syncEngine.kr(t.batchId,t.state,t.error);Ki("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)}Dr(t){return this.syncEngine.Mr(t.targetId,t.state,t.error)}br(t,e){const n=e?this.sr.insert(t,e):this.sr.remove(t),i=this.gr(this.sr),s=this.gr(n),r=[],o=[];return s.forEach((t=>{i.has(t)||r.push(t)})),i.forEach((t=>{s.has(t)||o.push(t)})),this.syncEngine.Or(r,o).then((()=>{this.sr=n}))}mr(t){this.sr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}gr(t){let e=ra();return t.forEach(((t,n)=>{e=e.unionWith(n.activeTargetIds)})),e}}class qu{constructor(){this.Fr=new $u,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,n){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new $u,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{Br(t){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(t){this.Kr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Ki("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Kr)t(0)}Gr(){Ki("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Kr)t(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.so=e+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,n,i,s){const r=this.oo(t,e);Ki("RestConnection","Sending: ",r,n);const o={};return this.uo(o,i,s),this.ao(t,r,o,n).then((t=>(Ki("RestConnection","Received: ",t),t)),(e=>{throw Gi("RestConnection",`${t} failed with error: `,e,"url: ",r,"request:",n),e}))}co(t,e,n,i,s){return this.ro(t,e,n,i,s)}uo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ui,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}oo(t,e){const n=Ku[t];return`${this.so}/v1/${e}:${n}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}ao(t,e,n,i){return new Promise(((s,r)=>{const o=new Vi;o.listenOnce(Pi.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Li.NO_ERROR:const e=o.getResponseJson();Ki("Connection","XHR received:",JSON.stringify(e)),s(e);break;case Li.TIMEOUT:Ki("Connection",'RPC "'+t+'" timed out'),r(new es(ts.DEADLINE_EXCEEDED,"Request time out"));break;case Li.HTTP_ERROR:const n=o.getStatus();if(Ki("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const t=o.getResponseJson().error;if(t&&t.status&&t.message){const e=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(ts).indexOf(e)>=0?e:ts.UNKNOWN}(t.status);r(new es(e,t.message))}else r(new es(ts.UNKNOWN,"Server responded with status "+o.getStatus()))}else r(new es(ts.UNAVAILABLE,"Connection failed."));break;default:Qi()}}finally{Ki("Connection",'RPC "'+t+'" completed.')}}));const a=JSON.stringify(i);o.send(e,"POST",a,n,15)}))}ho(t,e,n){const i=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=Ni(),r=Oi(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Fi({})),this.uo(o.initMessageHeaders,e,n),(0,c.uI)()||(0,c.b$)()||(0,c.d)()||(0,c.w1)()||(0,c.Mn)()||(0,c.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");const a=i.join("");Ki("Connection","Creating WebChannel: "+a,o);const l=s.createWebChannel(a,o);let u=!1,h=!1;const d=new Wu({jr:t=>{h?Ki("Connection","Not sending because WebChannel is closed:",t):(u||(Ki("Connection","Opening WebChannel transport."),l.open(),u=!0),Ki("Connection","WebChannel sending:",t),l.send(t))},Wr:()=>l.close()}),f=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return f(l,Bi.EventType.OPEN,(()=>{h||Ki("Connection","WebChannel transport opened.")})),f(l,Bi.EventType.CLOSE,(()=>{h||(h=!0,Ki("Connection","WebChannel transport closed"),d.eo())})),f(l,Bi.EventType.ERROR,(t=>{h||(h=!0,Gi("Connection","WebChannel transport errored:",t),d.eo(new es(ts.UNAVAILABLE,"The operation could not be completed")))})),f(l,Bi.EventType.MESSAGE,(t=>{var e;if(!h){const n=t.data[0];Xi(!!n);const i=n,s=i.error||(null===(e=i[0])||void 0===e?void 0:e.error);if(s){Ki("Connection","WebChannel received error:",s);const t=s.status;let e=function(t){const e=Vo[t];if(void 0!==e)return Uo(e)}(t),n=s.message;void 0===e&&(e=ts.INTERNAL,n="Unknown error status: "+t+" with message "+s.message),h=!0,d.eo(new es(e,n)),l.close()}else Ki("Connection","WebChannel received:",n),d.no(n)}})),f(r,Ri.STAT_EVENT,(t=>{t.stat===Mi.PROXY?Ki("Connection","Detected buffering proxy"):t.stat===Mi.NOPROXY&&Ki("Connection","Detected no buffering proxy")})),setTimeout((()=>{d.Zr()}),0),d}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(){return"undefined"!=typeof window?window:null}function Qu(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(t){return new ya(t,!0)}class Ju{constructor(t,e,n=1e3,i=1.5,s=6e4){this.Jn=t,this.timerId=e,this.lo=n,this.fo=i,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),n=Math.max(0,Date.now()-this.yo),i=Math.max(0,e-n);i>0&&Ki("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,(()=>(this.yo=Date.now(),t()))),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(t,e,n,i,s,r,o,a){this.Jn=t,this.Ao=n,this.Ro=i,this.bo=s,this.authCredentialsProvider=r,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new Ju(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,(()=>this.Mo())))}Oo(t){this.Fo(),this.stream.send(t)}async Mo(){if(this.Co())return this.close(0)}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}async close(t,e){this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():e&&e.code===ts.RESOURCE_EXHAUSTED?(Wi(e.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):e&&e.code===ts.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Jr(e)}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([t,n])=>{this.Po===e&&this.Uo(t,n)}),(e=>{t((()=>{const t=new es(ts.UNKNOWN,"Fetching auth token failed: "+e.message);return this.qo(t)}))}))}Uo(t,e){const n=this.Lo(this.Po);this.stream=this.Go(t,e),this.stream.zr((()=>{n((()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,(()=>(this.Co()&&(this.state=3),Promise.resolve()))),this.listener.zr())))})),this.stream.Jr((t=>{n((()=>this.qo(t)))})),this.stream.onMessage((t=>{n((()=>this.onMessage(t)))}))}xo(){this.state=5,this.So.Io((async()=>{this.state=0,this.start()}))}qo(t){return Ki("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.Jn.enqueueAndForget((()=>this.Po===t?e():(Ki("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class th extends Zu{constructor(t,e,n,i,s,r){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i,r),this.M=s}Go(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=La(this.M,t),n=function(t){if(!("targetChange"in t))return ws.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?ws.min():e.readTime?_a(e.readTime):ws.min()}(t);return this.listener.Ko(e,n)}Qo(t){const e={};e.database=Ca(this.M),e.addTarget=function(t,e){let n;const i=e.target;return n=Ir(i)?{documents:Fa(t,i)}:{query:Ba(t,i)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=va(t,e.resumeToken):e.snapshotVersion.compareTo(ws.min())>0&&(n.readTime=wa(t,e.snapshotVersion.toTimestamp())),n}(this.M,t);const n=ja(this.M,t);n&&(e.labels=n),this.Oo(e)}jo(t){const e={};e.database=Ca(this.M),e.removeTarget=t,this.Oo(e)}}class eh extends Zu{constructor(t,e,n,i,s,r){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i,r),this.M=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(Xi(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=Ma(t.writeResults,t.commitTime),n=_a(t.commitTime);return this.listener.Jo(n,e)}return Xi(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=Ca(this.M),this.Oo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>Pa(this.M,t)))};this.Oo(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends class{}{constructor(t,e,n,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=n,this.M=i,this.Zo=!1}tu(){if(this.Zo)throw new es(ts.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,n){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.bo.ro(t,e,n,i,s))).catch((t=>{throw"FirebaseError"===t.name?(t.code===ts.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new es(ts.UNKNOWN,t.toString())}))}co(t,e,n){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.bo.co(t,e,n,i,s))).catch((t=>{throw"FirebaseError"===t.name?(t.code===ts.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new es(ts.UNKNOWN,t.toString())}))}terminate(){this.Zo=!0}}class ih{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve()))))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.au(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Wi(e),this.su=!1):Ki("OnlineStateTracker",e)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t,e,n,i,s){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br((t=>{n.enqueueAndForget((async()=>{fh(this)&&(Ki("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=Zi(t);e.lu.add(4),await oh(e),e._u.set("Unknown"),e.lu.delete(4),await rh(e)}(this))}))})),this._u=new ih(n,i)}}async function rh(t){if(fh(t))for(const e of t.fu)await e(!0)}async function oh(t){for(const e of t.fu)await e(!1)}function ah(t,e){const n=Zi(t);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),dh(n)?hh(n):Nh(n).Co()&&lh(n,e))}function ch(t,e){const n=Zi(t),i=Nh(n);n.hu.delete(e),i.Co()&&uh(n,e),0===n.hu.size&&(i.Co()?i.ko():fh(n)&&n._u.set("Unknown"))}function lh(t,e){t.wu.Z(e.targetId),Nh(t).Qo(e)}function uh(t,e){t.wu.Z(e),Nh(t).jo(e)}function hh(t){t.wu=new da({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.hu.get(e)||null}),Nh(t).start(),t._u.iu()}function dh(t){return fh(t)&&!Nh(t).Do()&&t.hu.size>0}function fh(t){return 0===Zi(t).lu.size}function ph(t){t.wu=void 0}async function mh(t){t.hu.forEach(((e,n)=>{lh(t,e)}))}async function gh(t,e){ph(t),dh(t)?(t._u.uu(e),hh(t)):t._u.set("Unknown")}async function yh(t,e,n){if(t._u.set("Online"),e instanceof ua&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const i of e.targetIds)t.hu.has(i)&&(await t.remoteSyncer.rejectListen(i,n),t.hu.delete(i),t.wu.removeTarget(i))}(t,e)}catch(n){Ki("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await wh(t,n)}else if(e instanceof ca?t.wu.ut(e):e instanceof la?t.wu._t(e):t.wu.ht(e),!n.isEqual(ws.min()))try{const e=await hu(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.wu.yt(e);return n.targetChanges.forEach(((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const s=t.hu.get(i);s&&t.hu.set(i,s.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((e=>{const n=t.hu.get(e);if(!n)return;t.hu.set(e,n.withResumeToken(Cs.EMPTY_BYTE_STRING,n.snapshotVersion)),uh(t,e);const i=new Vc(n.target,e,1,n.sequenceNumber);lh(t,i)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){Ki("RemoteStore","Failed to raise snapshot:",e),await wh(t,e)}}async function wh(t,e,n){if(!kc(e))throw e;t.lu.add(1),await oh(t),t._u.set("Offline"),n||(n=()=>hu(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ki("RemoteStore","Retrying IndexedDB access"),await n(),t.lu.delete(1),await rh(t)}))}function vh(t,e){return e().catch((n=>wh(t,n,e)))}async function bh(t){const e=Zi(t),n=Oh(e);let i=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;_h(e);)try{const t=await pu(e.localStore,i);if(null===t){0===e.cu.length&&n.ko();break}i=t.batchId,Eh(e,t)}catch(t){await wh(e,t)}Th(e)&&Ih(e)}function _h(t){return fh(t)&&t.cu.length<10}function Eh(t,e){t.cu.push(e);const n=Oh(t);n.Co()&&n.zo&&n.Ho(e.mutations)}function Th(t){return fh(t)&&!Oh(t).Do()&&t.cu.length>0}function Ih(t){Oh(t).start()}async function Ah(t){Oh(t).Xo()}async function Sh(t){const e=Oh(t);for(const n of t.cu)e.Ho(n.mutations)}async function xh(t,e,n){const i=t.cu.shift(),s=Fc.from(i,e,n);await vh(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await bh(t)}async function Ch(t,e){e&&Oh(t).zo&&await async function(t,e){if(n=e.code,$o(n)&&n!==ts.ABORTED){const n=t.cu.shift();Oh(t).No(),await vh(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await bh(t)}var n}(t,e),Th(t)&&Ih(t)}async function kh(t,e){const n=Zi(t);n.asyncQueue.verifyOperationInProgress(),Ki("RemoteStore","RemoteStore received new credentials");const i=fh(n);n.lu.add(3),await oh(n),i&&n._u.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),await rh(n)}async function Dh(t,e){const n=Zi(t);e?(n.lu.delete(2),await rh(n)):e||(n.lu.add(2),await oh(n),n._u.set("Unknown"))}function Nh(t){return t.mu||(t.mu=function(t,e,n){const i=Zi(t);return i.tu(),new th(e,i.bo,i.authCredentials,i.appCheckCredentials,i.M,n)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(t.datastore,t.asyncQueue,{zr:mh.bind(null,t),Jr:gh.bind(null,t),Ko:yh.bind(null,t)}),t.fu.push((async e=>{e?(t.mu.No(),dh(t)?hh(t):t._u.set("Unknown")):(await t.mu.stop(),ph(t))}))),t.mu}function Oh(t){return t.gu||(t.gu=function(t,e,n){const i=Zi(t);return i.tu(),new eh(e,i.bo,i.authCredentials,i.appCheckCredentials,i.M,n)}(t.datastore,t.asyncQueue,{zr:Ah.bind(null,t),Jr:Ch.bind(null,t),Yo:Sh.bind(null,t),Jo:xh.bind(null,t)}),t.fu.push((async e=>{e?(t.gu.No(),await bh(t)):(await t.gu.stop(),t.cu.length>0&&(Ki("RemoteStore",`Stopping write stream with ${t.cu.length} pending writes`),t.cu=[]))}))),t.gu
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Lh{constructor(t,e,n,i,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}static createAndSchedule(t,e,n,i,s){const r=Date.now()+n,o=new Lh(t,e,r,i,s);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new es(ts.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ph(t,e){if(Wi("AsyncQueue",`${e}: ${t}`),kc(t))return new es(ts.UNAVAILABLE,`${e}: ${t}`);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t){this.comparator=t?(e,n)=>t(e,n)||$s.comparator(e.key,n.key):(t,e)=>$s.comparator(t.key,e.key),this.keyedMap=Zo(),this.sortedSet=new Ho(this.comparator)}static emptySet(t){return new Rh(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Rh))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(!t.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new Rh;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(){this.yu=new Ho($s.comparator)}track(t){const e=t.doc.key,n=this.yu.get(e);n?0!==t.type&&3===n.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==n.type?this.yu=this.yu.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.yu=this.yu.remove(e):1===t.type&&2===n.type?this.yu=this.yu.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):Qi():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal(((e,n)=>{t.push(n)})),t}}class Fh{constructor(t,e,n,i,s,r,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=r,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(t,e,n,i){const s=[];return e.forEach((t=>{s.push({type:0,doc:t})})),new Fh(t,e,Rh.emptySet(e),s,n,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Xr(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this.Iu=void 0,this.listeners=[]}}class Vh{constructor(){this.queries=new qo((t=>Jr(t)),Xr),this.onlineState="Unknown",this.Tu=new Set}}async function jh(t,e){const n=Zi(t),i=e.query;let s=!1,r=n.queries.get(i);if(r||(s=!0,r=new Bh),s)try{r.Iu=await n.onListen(i)}catch(t){const n=Ph(t,`Initialization of query '${Zr(e.query)}' failed`);return void e.onError(n)}n.queries.set(i,r),r.listeners.push(e),e.Eu(n.onlineState),r.Iu&&e.Au(r.Iu)&&Hh(n)}async function $h(t,e){const n=Zi(t),i=e.query;let s=!1;const r=n.queries.get(i);if(r){const t=r.listeners.indexOf(e);t>=0&&(r.listeners.splice(t,1),s=0===r.listeners.length)}if(s)return n.queries.delete(i),n.onUnlisten(i)}function Uh(t,e){const n=Zi(t);let i=!1;for(const s of e){const t=s.query,e=n.queries.get(t);if(e){for(const t of e.listeners)t.Au(s)&&(i=!0);e.Iu=s}}i&&Hh(n)}function qh(t,e,n){const i=Zi(t),s=i.queries.get(e);if(s)for(const r of s.listeners)r.onError(n);i.queries.delete(e)}function Hh(t){t.Tu.forEach((t=>{t.next()}))}class zh{constructor(t,e,n){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=n||{}}Au(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new Fh(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.Vu(t)&&(this.Ru.next(t),e=!0):this.vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}vu(t,e){if(!t.fromCache)return!0;const n="Offline"!==e;return(!this.options.Du||!n)&&(!t.docs.isEmpty()||"Offline"===e)}Vu(t){if(t.docChanges.length>0)return!0;const e=this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}Su(t){t=Fh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(t,e){this.payload=t,this.byteLength=e}Cu(){return"metadata"in this.payload}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(t){this.M=t}li(t){return Aa(this.M,t)}fi(t){return t.metadata.exists?Na(this.M,t.document,!1):lr.newNoDocument(this.li(t.metadata.name),this.di(t.metadata.readTime))}di(t){return _a(t)}}class Gh{constructor(t,e,n){this.xu=t,this.localStore=e,this.M=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Yh(t)}Nu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const n=Ts.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ku(t){const e=new Map,n=new Wh(this.M);for(const i of t)if(i.metadata.queries){const t=n.li(i.metadata.name);for(const n of i.metadata.queries){const i=(e.get(n)||ia()).add(t);e.set(n,i)}}return e}async complete(){const t=await _u(this.localStore,new Wh(this.M),this.documents,this.xu.id),e=this.ku(this.documents);for(const n of this.queries)await Eu(this.localStore,n,e.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}}}function Yh(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t){this.key=t}}class Xh{constructor(t){this.key=t}}class Jh{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=ia(),this.mutatedKeys=ia(),this.Lu=no(t),this.Uu=new Rh(this.Lu)}get qu(){return this.Fu}Gu(t,e){const n=e?e.Ku:new Mh,i=e?e.Uu:this.Uu;let s=e?e.mutatedKeys:this.mutatedKeys,r=i,o=!1;const a=qr(this.query)&&i.size===this.query.limit?i.last():null,c=Hr(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(((t,e)=>{const l=i.get(t),u=to(this.query,e)?e:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Qu(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Lu(u,a)>0||c&&this.Lu(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(o=!0)),f&&(u?(r=r.add(u),s=d?s.add(t):s.delete(t)):(r=r.delete(t),s=s.delete(t)))})),qr(this.query)||Hr(this.query))for(;r.size>this.query.limit;){const t=qr(this.query)?r.last():r.first();r=r.delete(t.key),s=s.delete(t.key),n.track({type:1,doc:t})}return{Uu:r,Ku:n,ei:o,mutatedKeys:s}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const i=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const s=t.Ku.pu();s.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qi()}};return n(t)-n(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t.type,e.type)||this.Lu(t.doc,e.doc))),this.ju(n);const r=e?this.Wu():[],o=0===this.Bu.size&&this.current?1:0,a=o!==this.$u;return this.$u=o,0!==s.length||a?{snapshot:new Fh(this.query,t.Uu,i,s,t.mutatedKeys,0===o,a,!1),zu:r}:{zu:r}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new Mh,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach((t=>this.Fu=this.Fu.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.Fu=this.Fu.delete(t))),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=ia(),this.Uu.forEach((t=>{this.Hu(t.key)&&(this.Bu=this.Bu.add(t.key))}));const e=[];return t.forEach((t=>{this.Bu.has(t)||e.push(new Xh(t))})),this.Bu.forEach((n=>{t.has(n)||e.push(new Qh(n))})),e}Ju(t){this.Fu=t.hi,this.Bu=ia();const e=this.Gu(t.documents);return this.applyChanges(e,!0)}Yu(){return Fh.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class Zh{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class td{constructor(t){this.key=t,this.Xu=!1}}class ed{constructor(t,e,n,i,s,r){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=r,this.Zu={},this.ta=new qo((t=>Jr(t)),Xr),this.ea=new Map,this.na=new Set,this.sa=new Ho($s.comparator),this.ia=new Map,this.ra=new Au,this.oa={},this.ua=new Map,this.aa=Nl.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}async function nd(t,e){const n=Nd(t);let i,s;const r=n.ta.get(e);if(r)i=r.targetId,n.sharedClientState.addLocalQueryTarget(i),s=r.view.Yu();else{const t=await mu(n.localStore,Yr(e));n.isPrimaryClient&&ah(n.remoteStore,t);const r=n.sharedClientState.addLocalQueryTarget(t.targetId);i=t.targetId,s=await id(n,e,i,"current"===r)}return s}async function id(t,e,n,i){t.ha=(e,n,i)=>async function(t,e,n,i){let s=e.view.Gu(n);s.ei&&(s=await yu(t.localStore,e.query,!1).then((({documents:t})=>e.view.Gu(t,s))));const r=i&&i.targetChanges.get(e.targetId),o=e.view.applyChanges(s,t.isPrimaryClient,r);return gd(t,e.targetId,o.zu),o.snapshot}(t,e,n,i);const s=await yu(t.localStore,e,!0),r=new Jh(e,s.hi),o=r.Gu(s.documents),a=aa.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState),c=r.applyChanges(o,t.isPrimaryClient,a);gd(t,n,c.zu);const l=new Zh(e,n,r);return t.ta.set(e,l),t.ea.has(n)?t.ea.get(n).push(e):t.ea.set(n,[e]),c.snapshot}async function sd(t,e){const n=Zi(t),i=n.ta.get(e),s=n.ea.get(i.targetId);if(s.length>1)return n.ea.set(i.targetId,s.filter((t=>!Xr(t,e)))),void n.ta.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await gu(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),ch(n.remoteStore,i.targetId),pd(n,i.targetId)})).catch(Ml)):(pd(n,i.targetId),await gu(n.localStore,i.targetId,!0))}async function rd(t,e,n){const i=Od(t);try{const t=await function(t,e){const n=Zi(t),i=ys.now(),s=e.reduce(((t,e)=>t.add(e.key)),ia());let r;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>n.ai.qs(t,s).next((s=>{r=s;const o=[];for(const t of e){const e=Co(t,r.get(t.key));null!=e&&o.push(new Oo(t.key,e,cr(e.value.mapValue),To.exists(!0)))}return n.$s.addMutationBatch(t,i,o,e)})))).then((t=>(t.applyToLocalDocumentSet(r),{batchId:t.batchId,changes:r})))}(i.localStore,e);i.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let i=t.oa[t.currentUser.toKey()];i||(i=new Ho(ps)),i=i.insert(e,n),t.oa[t.currentUser.toKey()]=i}(i,t.batchId,n),await vd(i,t.changes),await bh(i.remoteStore)}catch(t){const e=Ph(t,"Failed to persist write");n.reject(e)}}async function od(t,e){const n=Zi(t);try{const t=await du(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const i=n.ia.get(e);i&&(Xi(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.Xu=!0:t.modifiedDocuments.size>0?Xi(i.Xu):t.removedDocuments.size>0&&(Xi(i.Xu),i.Xu=!1))})),await vd(n,t,e)}catch(t){await Ml(t)}}function ad(t,e,n){const i=Zi(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const t=[];i.ta.forEach(((n,i)=>{const s=i.view.Eu(e);s.snapshot&&t.push(s.snapshot)})),function(t,e){const n=Zi(t);n.onlineState=e;let i=!1;n.queries.forEach(((t,n)=>{for(const s of n.listeners)s.Eu(e)&&(i=!0)})),i&&Hh(n)}(i.eventManager,e),t.length&&i.Zu.Ko(t),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function cd(t,e,n){const i=Zi(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.ia.get(e),r=s&&s.key;if(r){let t=new Ho($s.comparator);t=t.insert(r,lr.newNoDocument(r,ws.min()));const n=ia().add(r),s=new oa(ws.min(),new Map,new Wo(ps),t,n);await od(i,s),i.sa=i.sa.remove(r),i.ia.delete(e),wd(i)}else await gu(i.localStore,e,!1).then((()=>pd(i,e,n))).catch(Ml)}async function ld(t,e){const n=Zi(t),i=e.batch.batchId;try{const t=await uu(n.localStore,e);fd(n,i,null),dd(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await vd(n,t)}catch(t){await Ml(t)}}async function ud(t,e,n){const i=Zi(t);try{const t=await function(t,e){const n=Zi(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let i;return n.$s.lookupMutationBatch(t,e).next((e=>(Xi(null!==e),i=e.keys(),n.$s.removeMutationBatch(t,e)))).next((()=>n.$s.performConsistencyCheck(t))).next((()=>n.ai.qs(t,i)))}))}(i.localStore,e);fd(i,e,n),dd(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await vd(i,t)}catch(n){await Ml(n)}}async function hd(t,e){const n=Zi(t);fh(n.remoteStore)||Ki("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const t=await function(t){const e=Zi(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(t=>e.$s.getHighestUnacknowledgedBatchId(t)))}(n.localStore);if(-1===t)return void e.resolve();const i=n.ua.get(t)||[];i.push(e),n.ua.set(t,i)}catch(t){const n=Ph(t,"Initialization of waitForPendingWrites() operation failed");e.reject(n)}}function dd(t,e){(t.ua.get(e)||[]).forEach((t=>{t.resolve()})),t.ua.delete(e)}function fd(t,e,n){const i=Zi(t);let s=i.oa[i.currentUser.toKey()];if(s){const t=s.get(e);t&&(n?t.reject(n):t.resolve(),s=s.remove(e)),i.oa[i.currentUser.toKey()]=s}}function pd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.ea.get(e))t.ta.delete(i),n&&t.Zu.la(i,n);t.ea.delete(e),t.isPrimaryClient&&t.ra.Ri(e).forEach((e=>{t.ra.containsKey(e)||md(t,e)}))}function md(t,e){t.na.delete(e.path.canonicalString());const n=t.sa.get(e);null!==n&&(ch(t.remoteStore,n),t.sa=t.sa.remove(e),t.ia.delete(n),wd(t))}function gd(t,e,n){for(const i of n)i instanceof Qh?(t.ra.addReference(i.key,e),yd(t,i)):i instanceof Xh?(Ki("SyncEngine","Document no longer in limbo: "+i.key),t.ra.removeReference(i.key,e),t.ra.containsKey(i.key)||md(t,i.key)):Qi()}function yd(t,e){const n=e.key,i=n.path.canonicalString();t.sa.get(n)||t.na.has(i)||(Ki("SyncEngine","New document in limbo: "+n),t.na.add(i),wd(t))}function wd(t){for(;t.na.size>0&&t.sa.size<t.maxConcurrentLimboResolutions;){const e=t.na.values().next().value;t.na.delete(e);const n=new $s(Ts.fromString(e)),i=t.aa.next();t.ia.set(i,new td(n)),t.sa=t.sa.insert(n,i),ah(t.remoteStore,new Vc(Yr(Ur(n.path)),i,2,hs.A))}}async function vd(t,e,n){const i=Zi(t),s=[],r=[],o=[];i.ta.isEmpty()||(i.ta.forEach(((t,a)=>{o.push(i.ha(a,e,n).then((t=>{if(t){i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),s.push(t);const e=ru.Js(a.targetId,t);r.push(e)}})))})),await Promise.all(o),i.Zu.Ko(s),await async function(t,e){const n=Zi(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>Ic.forEach(e,(e=>Ic.forEach(e.zs,(i=>n.persistence.referenceDelegate.addReference(t,e.targetId,i))).next((()=>Ic.forEach(e.Hs,(i=>n.persistence.referenceDelegate.removeReference(t,e.targetId,i)))))))))}catch(t){if(!kc(t))throw t;Ki("LocalStore","Failed to update sequence numbers: "+t)}for(const i of e){const t=i.targetId;if(!i.fromCache){const e=n.si.get(t),i=e.snapshotVersion,s=e.withLastLimboFreeSnapshotVersion(i);n.si=n.si.insert(t,s)}}}(i.localStore,r))}async function bd(t,e){const n=Zi(t);if(!n.currentUser.isEqual(e)){Ki("SyncEngine","User change. New user:",e.toKey());const t=await lu(n.localStore,e);n.currentUser=e,function(t,e){t.ua.forEach((t=>{t.forEach((t=>{t.reject(new es(ts.CANCELLED,e))}))})),t.ua.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await vd(n,t.ci)}}function _d(t,e){const n=Zi(t),i=n.ia.get(e);if(i&&i.Xu)return ia().add(i.key);{let t=ia();const i=n.ea.get(e);if(!i)return t;for(const e of i){const i=n.ta.get(e);t=t.unionWith(i.view.qu)}return t}}async function Ed(t,e){const n=Zi(t),i=await yu(n.localStore,e.query,!0),s=e.view.Ju(i);return n.isPrimaryClient&&gd(n,e.targetId,s.zu),s}async function Td(t,e){const n=Zi(t);return vu(n.localStore,e).then((t=>vd(n,t)))}async function Id(t,e,n,i){const s=Zi(t),r=await function(t,e){const n=Zi(t),i=Zi(n.$s);return n.persistence.runTransaction("Lookup mutation documents","readonly",(t=>i.ln(t,e).next((e=>e?n.ai.qs(t,e):Ic.resolve(null)))))}(s.localStore,e);null!==r?("pending"===n?await bh(s.remoteStore):"acknowledged"===n||"rejected"===n?(fd(s,e,i||null),dd(s,e),function(t,e){Zi(Zi(t).$s).dn(e)}(s.localStore,e)):Qi(),await vd(s,r)):Ki("SyncEngine","Cannot apply mutation batch with id: "+e)}async function Ad(t,e){const n=Zi(t);if(Nd(n),Od(n),!0===e&&!0!==n.ca){const t=n.sharedClientState.getAllActiveQueryTargets(),e=await Sd(n,t.toArray());n.ca=!0,await Dh(n.remoteStore,!0);for(const i of e)ah(n.remoteStore,i)}else if(!1===e&&!1!==n.ca){const t=[];let e=Promise.resolve();n.ea.forEach(((i,s)=>{n.sharedClientState.isLocalQueryTarget(s)?t.push(s):e=e.then((()=>(pd(n,s),gu(n.localStore,s,!0)))),ch(n.remoteStore,s)})),await e,await Sd(n,t),function(t){const e=Zi(t);e.ia.forEach(((t,n)=>{ch(e.remoteStore,n)})),e.ra.bi(),e.ia=new Map,e.sa=new Ho($s.comparator)}(n),n.ca=!1,await Dh(n.remoteStore,!1)}}async function Sd(t,e,n){const i=Zi(t),s=[],r=[];for(const o of e){let t;const e=i.ea.get(o);if(e&&0!==e.length){t=await mu(i.localStore,Yr(e[0]));for(const t of e){const e=i.ta.get(t),n=await Ed(i,e);n.snapshot&&r.push(n.snapshot)}}else{const e=await wu(i.localStore,o);t=await mu(i.localStore,e),await id(i,xd(e),o,!1)}s.push(t)}return i.Zu.Ko(r),s}function xd(t){return $r(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Cd(t){const e=Zi(t);return Zi(Zi(e.localStore).persistence).Os()}async function kd(t,e,n,i){const s=Zi(t);if(s.ca)return void Ki("SyncEngine","Ignoring unexpected query state notification.");const r=s.ea.get(e);if(r&&r.length>0)switch(n){case"current":case"not-current":{const t=await vu(s.localStore,eo(r[0])),i=oa.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);await vd(s,t,i);break}case"rejected":await gu(s.localStore,e,!0),pd(s,e,i);break;default:Qi()}}async function Dd(t,e,n){const i=Nd(t);if(i.ca){for(const t of e){if(i.ea.has(t)){Ki("SyncEngine","Adding an already active target "+t);continue}const e=await wu(i.localStore,t),n=await mu(i.localStore,e);await id(i,xd(e),n.targetId,!1),ah(i.remoteStore,n)}for(const t of n)i.ea.has(t)&&await gu(i.localStore,t,!1).then((()=>{ch(i.remoteStore,t),pd(i,t)})).catch(Ml)}}function Nd(t){const e=Zi(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=od.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_d.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cd.bind(null,e),e.Zu.Ko=Uh.bind(null,e.eventManager),e.Zu.la=qh.bind(null,e.eventManager),e}function Od(t){const e=Zi(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ld.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ud.bind(null,e),e}function Ld(t,e,n){const i=Zi(t);(async function(t,e,n){try{const i=await e.getMetadata();if(await function(t,e){const n=Zi(t),i=_a(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(t=>n.ds.getBundleMetadata(t,e.id))).then((t=>!!t&&t.createTime.compareTo(i)>=0))}(t.localStore,i))return await e.close(),n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(i)),Promise.resolve(new Set);n._updateProgress(Yh(i));const s=new Gh(i,t.localStore,e.M);let r=await e.fa();for(;r;){const t=await s.Nu(r);t&&n._updateProgress(t),r=await e.fa()}const o=await s.complete();return await vd(t,o.Ou,void 0),await function(t,e){const n=Zi(t);return n.persistence.runTransaction("Save bundle","readwrite",(t=>n.ds.saveBundleMetadata(t,e)))}(t.localStore,i),n._completeWith(o.progress),Promise.resolve(o.Mu)}catch(t){return Gi("SyncEngine",`Loading bundle failed with ${t}`),n._failWith(t),Promise.resolve(new Set)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)(i,e,n).then((t=>{i.sharedClientState.notifyBundleLoaded(t)}))}class Pd{constructor(){this.synchronizeTabs=!1}async initialize(t){this.M=Xu(t.databaseInfo.databaseId),this.sharedClientState=this.da(t),this.persistence=this._a(t),await this.persistence.start(),this.gcScheduler=this.wa(t),this.localStore=this.ma(t)}wa(t){return null}ma(t){return cu(this.persistence,new ou,t.initialUser,this.M)}_a(t){return new Nu(Lu.Wi,this.M)}da(t){return new qu}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Rd extends Pd{constructor(t,e,n){super(),this.ga=t,this.cacheSizeBytes=e,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.ga.initialize(this,t),await Od(this.ga.syncEngine),await bh(this.ga.remoteStore),await this.persistence.Is((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve())))}ma(t){return cu(this.persistence,new ou,t.initialUser,this.M)}wa(t){const e=this.persistence.referenceDelegate.garbageCollector;return new Vl(e,t.asyncQueue)}_a(t){const e=iu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Tl.withCacheSize(this.cacheSizeBytes):Tl.DEFAULT;return new tu(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Yu(),Qu(),this.M,this.sharedClientState,!!this.forceOwnership)}da(t){return new qu}}class Md extends Rd{constructor(t,e){super(t,e,!1),this.ga=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}async initialize(t){await super.initialize(t);const e=this.ga.syncEngine;this.sharedClientState instanceof Uu&&(this.sharedClientState.syncEngine={kr:Id.bind(null,e),Mr:kd.bind(null,e),Or:Dd.bind(null,e),Os:Cd.bind(null,e),Nr:Td.bind(null,e)},await this.sharedClientState.start()),await this.persistence.Is((async t=>{await Ad(this.ga.syncEngine,t),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop())}))}da(t){const e=Yu();if(!Uu.vt(e))throw new es(ts.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=iu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Uu(e,t.asyncQueue,n,t.clientId,t.initialUser)}}class Fd{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>ad(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=bd.bind(null,this.syncEngine),await Dh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Vh}createDatastore(t){const e=Xu(t.databaseInfo.databaseId),n=(i=t.databaseInfo,new Gu(i));var i;return function(t,e,n,i){return new nh(t,e,n,i)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,i=t.asyncQueue,s=t=>ad(this.syncEngine,t,0),r=zu.vt()?new zu:new Hu,new sh(e,n,i,s,r);var e,n,i,s,r}createSyncEngine(t,e){return function(t,e,n,i,s,r,o){const a=new ed(t,e,n,i,s,r);return o&&(a.ca=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=Zi(t);Ki("RemoteStore","RemoteStore shutting down."),e.lu.add(5),await oh(e),e.du.shutdown(),e._u.set("Unknown")}(this.remoteStore)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const i={value:t.slice(n,n+e),done:!1};return n+=e,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.ya(this.observer.next,t)}error(t){this.observer.error?this.ya(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}pa(){this.muted=!0}ya(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(t,e){this.Ia=t,this.M=e,this.metadata=new ns,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then((t=>{t&&t.Cu()?this.metadata.resolve(t.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==t?void 0:t.payload)}`))}),(t=>this.metadata.reject(t)))}close(){return this.Ia.cancel()}async getMetadata(){return this.metadata.promise}async fa(){return await this.getMetadata(),this.Ea()}async Ea(){const t=await this.Aa();if(null===t)return null;const e=this.Ta.decode(t),n=Number(e);isNaN(n)&&this.Ra(`length string (${e}) is not valid number`);const i=await this.ba(n);return new Kh(JSON.parse(i),t.length+n)}Pa(){return this.buffer.findIndex((t=>t==="{".charCodeAt(0)))}async Aa(){for(;this.Pa()<0;)if(await this.Va())break;if(0===this.buffer.length)return null;const t=this.Pa();t<0&&this.Ra("Reached the end of bundle when a length string is expected.");const e=this.buffer.slice(0,t);return this.buffer=this.buffer.slice(t),e}async ba(t){for(;this.buffer.length<t;)await this.Va()&&this.Ra("Reached the end of bundle when more is expected.");const e=this.Ta.decode(this.buffer.slice(0,t));return this.buffer=this.buffer.slice(t),e}Ra(t){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${t}`)}async Va(){const t=await this.Ia.read();if(!t.done){const e=new Uint8Array(this.buffer.length+t.value.length);e.set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e}return t.done}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new es(ts.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const e=await async function(t,e){const n=Zi(t),i=Ca(n.M)+"/documents",s={documents:e.map((t=>Ia(n.M,t)))},r=await n.co("BatchGetDocuments",i,s),o=new Map;r.forEach((t=>{const e=Oa(n.M,t);o.set(e.key.toString(),e)}));const a=[];return e.forEach((t=>{const e=o.get(t.toString());Xi(!!e),a.push(e)})),a}(this.datastore,t);return e.forEach((t=>this.recordVersion(t))),e}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())}delete(t){this.write(new Mo(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const t=this.readVersions;this.mutations.forEach((e=>{t.delete(e.key.toString())})),t.forEach(((t,e)=>{const n=$s.fromPath(e);this.mutations.push(new Fo(n,this.precondition(n)))})),await async function(t,e){const n=Zi(t),i=Ca(n.M)+"/documents",s={writes:e.map((t=>Pa(n.M,t)))};await n.ro("Commit",i,s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Qi();e=ws.min()}const n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new es(ts.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?To.updateTime(e):To.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(ws.min()))throw new es(ts.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return To.updateTime(e)}return To.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(t,e,n,i){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=i,this.va=5,this.So=new Ju(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){this.So.Io((async()=>{const t=new $d(this.datastore),e=this.Da(t);e&&e.then((e=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(e)})).catch((t=>{this.Ca(t)}))))})).catch((t=>{this.Ca(t)}))}))}Da(t){try{const e=this.updateFunction(t);return!Bs(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(t){this.va>0&&this.xa(t)?(this.va-=1,this.asyncQueue.enqueueAndForget((()=>(this.Sa(),Promise.resolve())))):this.deferred.reject(t)}xa(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!$o(e)}return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(t,e,n,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=$i.UNAUTHENTICATED,this.clientId=fs.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{Ki("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(Ki("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new es(ts.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=Ph(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function Hd(t,e){t.asyncQueue.verifyOperationInProgress(),Ki("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async t=>{i.isEqual(t)||(await lu(e.localStore,t),i=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t.offlineComponents=e}async function zd(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Kd(t);Ki("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener((t=>kh(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>kh(e.remoteStore,n))),t.onlineComponents=e}async function Kd(t){return t.offlineComponents||(Ki("FirestoreClient","Using default OfflineComponentProvider"),await Hd(t,new Pd)),t.offlineComponents}async function Wd(t){return t.onlineComponents||(Ki("FirestoreClient","Using default OnlineComponentProvider"),await zd(t,new Fd)),t.onlineComponents}function Gd(t){return Kd(t).then((t=>t.persistence))}function Yd(t){return Kd(t).then((t=>t.localStore))}function Qd(t){return Wd(t).then((t=>t.remoteStore))}function Xd(t){return Wd(t).then((t=>t.syncEngine))}async function Jd(t){const e=await Wd(t),n=e.eventManager;return n.onListen=nd.bind(null,e.syncEngine),n.onUnlisten=sd.bind(null,e.syncEngine),n}function Zd(t){return t.asyncQueue.enqueue((async()=>{const e=await Gd(t),n=await Qd(t);return e.setNetworkEnabled(!0),function(t){const e=Zi(t);return e.lu.delete(0),rh(e)}(n)}))}function tf(t){return t.asyncQueue.enqueue((async()=>{const e=await Gd(t),n=await Qd(t);return e.setNetworkEnabled(!1),async function(t){const e=Zi(t);e.lu.add(0),await oh(e),e._u.set("Offline")}(n)}))}function ef(t,e){const n=new ns;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){try{const i=await function(t,e){const n=Zi(t);return n.persistence.runTransaction("read document","readonly",(t=>n.ai.Bs(t,e)))}(t,e);i.isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new es(ts.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(t){const i=Ph(t,`Failed to get document '${e} from cache`);n.reject(i)}}(await Yd(t),e,n))),n.promise}function nf(t,e,n={}){const i=new ns;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,i,s){const r=new Vd({next:r=>{e.enqueueAndForget((()=>$h(t,o)));const a=r.docs.has(n);!a&&r.fromCache?s.reject(new es(ts.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&r.fromCache&&i&&"server"===i.source?s.reject(new es(ts.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(r)},error:t=>s.reject(t)}),o=new zh(Ur(n.path),r,{includeMetadataChanges:!0,Du:!0});return jh(t,o)}(await Jd(t),t.asyncQueue,e,n,i))),i.promise}function sf(t,e){const n=new ns;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){try{const i=await yu(t,e,!0),s=new Jh(e,i.hi),r=s.Gu(i.documents),o=s.applyChanges(r,!1);n.resolve(o.snapshot)}catch(t){const i=Ph(t,`Failed to execute query '${e} against cache`);n.reject(i)}}(await Yd(t),e,n))),n.promise}function rf(t,e,n={}){const i=new ns;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,i,s){const r=new Vd({next:n=>{e.enqueueAndForget((()=>$h(t,o))),n.fromCache&&"server"===i.source?s.reject(new es(ts.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:t=>s.reject(t)}),o=new zh(n,r,{includeMetadataChanges:!0,Du:!0});return jh(t,o)}(await Jd(t),t.asyncQueue,e,n,i))),i.promise}function of(t,e){const n=new Vd(e);return t.asyncQueue.enqueueAndForget((async()=>function(t,e){Zi(t).Tu.add(e),e.next()}(await Jd(t),n))),()=>{n.pa(),t.asyncQueue.enqueueAndForget((async()=>function(t,e){Zi(t).Tu.delete(e)}(await Jd(t),n)))}}function af(t,e){const n=new ns;return t.asyncQueue.enqueueAndForget((async()=>{const i=await function(t){return Wd(t).then((t=>t.datastore))}(t);new Ud(t.asyncQueue,i,e,n).run()})),n.promise}function cf(t,e,n,i){const s=function(t,e){let n;return n="string"==typeof t?(new TextEncoder).encode(t):t,function(t,e){return new jd(t,e)}(function(t,e){if(t instanceof Uint8Array)return Bd(t,e);if(t instanceof ArrayBuffer)return Bd(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,Xu(e));t.asyncQueue.enqueueAndForget((async()=>{Ld(await Xd(t),s,i)}))}function lf(t,e){return t.asyncQueue.enqueue((async()=>function(t,e){const n=Zi(t);return n.persistence.runTransaction("Get named query","readonly",(t=>n.ds.getNamedQuery(t,e)))}(await Yd(t),e)))}const uf=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t,e,n){if(!n)throw new es(ts.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function df(t,e,n,i){if(!0===e&&!0===i)throw new es(ts.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ff(t){if(!$s.isDocumentKey(t))throw new es(ts.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pf(t){if($s.isDocumentKey(t))throw new es(ts.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":Qi()}function gf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new es(ts.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mf(t);throw new es(ts.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function yf(t,e){if(e<=0)throw new es(ts.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new es(ts.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new es(ts.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,df("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,e,n){this._authCredentials=e,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wf({}),this._settingsFrozen=!1,t instanceof Fs?this._databaseId=t:(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new es(ts.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fs(t.options.projectId)}(t))}get app(){if(!this._app)throw new es(ts.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new es(ts.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wf(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new ss;switch(t.type){case"gapi":const e=t.client;return Xi(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new cs(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new es(ts.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=uf.get(t);e&&(Ki("ComponentProvider","Removing Datastore"),uf.delete(t),e.terminate())}(this),Promise.resolve()}}function bf(t,e,n,i={}){var s;const r=(t=gf(t,vf))._getSettings();if("firestore.googleapis.com"!==r.host&&r.host!==e&&Gi("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:`${e}:${n}`,ssl:!1})),i.mockUserToken){let e,n;if("string"==typeof i.mockUserToken)e=i.mockUserToken,n=$i.MOCK_USER;else{e=(0,c.Sg)(i.mockUserToken,null===(s=t._app)||void 0===s?void 0:s.options.projectId);const r=i.mockUserToken.sub||i.mockUserToken.user_id;if(!r)throw new es(ts.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new $i(r)}t._authCredentials=new rs(new is(e,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _f(this.firestore,t,this._key)}}class Ef{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Ef(this.firestore,t,this._query)}}class Tf extends Ef{constructor(t,e,n){super(t,e,Ur(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _f(this.firestore,null,new $s(t))}withConverter(t){return new Tf(this.firestore,t,this._path)}}function If(t,e,...n){if(t=(0,c.m9)(t),hf("collection","path",e),t instanceof vf){const i=Ts.fromString(e,...n);return pf(i),new Tf(t,null,i)}{if(!(t instanceof _f||t instanceof Tf))throw new es(ts.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ts.fromString(e,...n));return pf(i),new Tf(t.firestore,null,i)}}function Af(t,e){if(t=gf(t,vf),hf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new es(ts.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ef(t,null,function(t){return new jr(Ts.emptyPath(),t)}(e))}function Sf(t,e,...n){if(t=(0,c.m9)(t),1===arguments.length&&(e=fs.R()),hf("doc","path",e),t instanceof vf){const i=Ts.fromString(e,...n);return ff(i),new _f(t,null,new $s(i))}{if(!(t instanceof _f||t instanceof Tf))throw new es(ts.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ts.fromString(e,...n));return ff(i),new _f(t.firestore,t instanceof Tf?t.converter:null,new $s(i))}}function xf(t,e){return t=(0,c.m9)(t),e=(0,c.m9)(e),(t instanceof _f||t instanceof Tf)&&(e instanceof _f||e instanceof Tf)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Cf(t,e){return t=(0,c.m9)(t),e=(0,c.m9)(e),t instanceof Ef&&e instanceof Ef&&t.firestore===e.firestore&&Xr(t._query,e._query)&&t.converter===e.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class kf{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new Ju(this,"async_queue_retry"),this.Ua=()=>{const t=Qu();t&&Ki("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const t=Qu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.qa(),this.Ga(t)}enterRestrictedMode(t){if(!this.Ma){this.Ma=!0,this.Ba=t||!1;const e=Qu();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ua)}}enqueue(t){if(this.qa(),this.Ma)return new Promise((()=>{}));const e=new ns;return this.Ga((()=>this.Ma&&this.Ba?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.ka.push(t),this.Ka())))}async Ka(){if(0!==this.ka.length){try{await this.ka[0](),this.ka.shift(),this.So.reset()}catch(T){if(!kc(T))throw T;Ki("AsyncQueue","Operation failed with retryable error: "+T)}this.ka.length>0&&this.So.Io((()=>this.Ka()))}}Ga(t){const e=this.Na.then((()=>(this.$a=!0,t().catch((t=>{this.Fa=t,this.$a=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);throw Wi("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.$a=!1,t))))));return this.Na=e,e}enqueueAfterDelay(t,e,n){this.qa(),this.La.indexOf(t)>-1&&(e=0);const i=Lh.createAndSchedule(this,t,e,n,(t=>this.Qa(t)));return this.Oa.push(i),i}qa(){this.Fa&&Qi()}verifyOperationInProgress(){}async ja(){let t;do{t=this.Na,await t}while(t!==this.Na)}Wa(t){for(const e of this.Oa)if(e.timerId===t)return!0;return!1}za(t){return this.ja().then((()=>{this.Oa.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.Oa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.ja()}))}Ha(t){this.La.push(t)}Qa(t){const e=this.Oa.indexOf(t);this.Oa.splice(e,1)}}function Df(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const i of e)if(i in n&&"function"==typeof n[i])return!0;return!1}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,["next","error","complete"])}class Nf{constructor(){this._progressObserver={},this._taskCompletionResolver=new ns,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,n){this._progressObserver={next:t,error:e,complete:n}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=-1;class Lf extends vf{constructor(t,e,n){super(t,e,n),this.type="firestore",this._queue=new kf,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Rf(this),this._firestoreClient.terminate()}}function Pf(t){return t._firestoreClient||Rf(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Rf(t){var e;const n=t._freezeSettings(),i=function(t,e,n,i){return new Ms(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new qd(t._authCredentials,t._appCheckCredentials,t._queue,i)}function Mf(t,e){zf(t=gf(t,Lf));const n=Pf(t),i=t._freezeSettings(),s=new Fd;return Bf(n,s,new Rd(s,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Ff(t){zf(t=gf(t,Lf));const e=Pf(t),n=t._freezeSettings(),i=new Fd;return Bf(e,i,new Md(i,n.cacheSizeBytes))}function Bf(t,e,n){const i=new ns;return t.asyncQueue.enqueue((async()=>{try{await Hd(t,n),await zd(t,e),i.resolve()}catch(t){if(!function(t){return"FirebaseError"===t.name?t.code===ts.FAILED_PRECONDITION||t.code===ts.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||(22===t.code||20===t.code||11===t.code)}(t))throw t;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),i.reject(t)}})).then((()=>i.promise))}function Vf(t){if(t._initialized&&!t._terminated)throw new es(ts.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ns;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(t){if(!Sc.vt())return Promise.resolve();const e=t+"main";await Sc.delete(e)}(iu(t._databaseId,t._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function jf(t){return function(t){const e=new ns;return t.asyncQueue.enqueueAndForget((async()=>hd(await Xd(t),e))),e.promise}(Pf(t=gf(t,Lf)))}function $f(t){return Zd(Pf(t=gf(t,Lf)))}function Uf(t){return tf(Pf(t=gf(t,Lf)))}function qf(t,e){const n=Pf(t=gf(t,Lf)),i=new Nf;return cf(n,t._databaseId,e,i),i}function Hf(t,e){return lf(Pf(t=gf(t,Lf)),e).then((e=>e?new Ef(t,null,e.query):null))}function zf(t){if(t._initialized||t._terminated)throw new es(ts.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new es(ts.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new As(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Wf{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wf(Cs.fromBase64String(t))}catch(t){throw new es(ts.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new Wf(Cs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(t){this._methodName=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new es(ts.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new es(ts.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ps(this._lat,t._lat)||ps(this._long,t._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=/^__.*__$/;class Xf{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new Oo(t,this.data,this.fieldMask,e,this.fieldTransforms):new No(t,this.data,e,this.fieldTransforms)}}class Jf{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new Oo(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Zf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qi()}}class tp{constructor(t,e,n,i,s,r){this.settings=t,this.databaseId=e,this.M=n,this.ignoreUndefinedProperties=i,void 0===s&&this.Ja(),this.fieldTransforms=s||[],this.fieldMask=r||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(t){return new tp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Xa({path:n,tc:!1});return i.ec(t),i}nc(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Xa({path:n,tc:!1});return i.Ja(),i}sc(t){return this.Xa({path:void 0,tc:!0})}ic(t){return bp(t,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}Ja(){if(this.path)for(let t=0;t<this.path.length;t++)this.ec(this.path.get(t))}ec(t){if(0===t.length)throw this.ic("Document fields must not be empty");if(Zf(this.Ya)&&Qf.test(t))throw this.ic('Document fields cannot begin and end with "__"')}}class ep{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.M=n||Xu(t)}uc(t,e,n,i=!1){return new tp({Ya:t,methodName:e,oc:n,path:As.emptyPath(),tc:!1,rc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function np(t){const e=t._freezeSettings(),n=Xu(t._databaseId);return new ep(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ip(t,e,n,i,s,r={}){const o=t.uc(r.merge||r.mergeFields?2:0,e,n,s);gp("Data must be an object, but it was:",o,i);const a=pp(i,o);let c,l;if(r.merge)c=new Ss(o.fieldMask),l=o.fieldTransforms;else if(r.mergeFields){const t=[];for(const i of r.mergeFields){const s=yp(e,i,n);if(!o.contains(s))throw new es(ts.INVALID_ARGUMENT,`Field '${s}' is specified in your field mask but missing from your input data.`);_p(t,s)||t.push(s)}c=new Ss(t),l=o.fieldTransforms.filter((t=>c.covers(t.field)))}else c=null,l=o.fieldTransforms;return new Xf(new ar(a),c,l)}class sp extends Gf{_toFieldTransform(t){if(2!==t.Ya)throw 1===t.Ya?t.ic(`${this._methodName}() can only appear at the top level of your update data`):t.ic(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof sp}}function rp(t,e,n){return new tp({Ya:3,oc:e.settings.oc,methodName:t._methodName,tc:n},e.databaseId,e.M,e.ignoreUndefinedProperties)}class op extends Gf{_toFieldTransform(t){return new bo(t.path,new ho)}isEqual(t){return t instanceof op}}class ap extends Gf{constructor(t,e){super(t),this.ac=e}_toFieldTransform(t){const e=rp(this,t,!0),n=this.ac.map((t=>fp(t,e))),i=new fo(n);return new bo(t.path,i)}isEqual(t){return this===t}}class cp extends Gf{constructor(t,e){super(t),this.ac=e}_toFieldTransform(t){const e=rp(this,t,!0),n=this.ac.map((t=>fp(t,e))),i=new mo(n);return new bo(t.path,i)}isEqual(t){return this===t}}class lp extends Gf{constructor(t,e){super(t),this.cc=e}_toFieldTransform(t){const e=new yo(t.M,oo(t.M,this.cc));return new bo(t.path,e)}isEqual(t){return this===t}}function up(t,e,n,i){const s=t.uc(1,e,n);gp("Data must be an object, but it was:",s,i);const r=[],o=ar.empty();bs(i,((t,i)=>{const a=vp(e,t,n);i=(0,c.m9)(i);const l=s.nc(a);if(i instanceof sp)r.push(a);else{const t=fp(i,l);null!=t&&(r.push(a),o.set(a,t))}}));const a=new Ss(r);return new Jf(o,a,s.fieldTransforms)}function hp(t,e,n,i,s,r){const o=t.uc(1,e,n),a=[yp(e,i,n)],l=[s];if(r.length%2!=0)throw new es(ts.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let c=0;c<r.length;c+=2)a.push(yp(e,r[c])),l.push(r[c+1]);const u=[],h=ar.empty();for(let f=a.length-1;f>=0;--f)if(!_p(u,a[f])){const t=a[f];let e=l[f];e=(0,c.m9)(e);const n=o.nc(t);if(e instanceof sp)u.push(t);else{const i=fp(e,n);null!=i&&(u.push(t),h.set(t,i))}}const d=new Ss(u);return new Jf(h,d,o.fieldTransforms)}function dp(t,e,n,i=!1){return fp(n,t.uc(i?4:3,e))}function fp(t,e){if(mp(t=(0,c.m9)(t)))return gp("Unsupported field value:",e,t),pp(t,e);if(t instanceof Gf)return function(t,e){if(!Zf(e.Ya))throw e.ic(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.ic(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,e){const n=[];let i=0;for(const s of t){let t=fp(s,e.sc(i));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,c.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return oo(e.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=ys.fromDate(t);return{timestampValue:wa(e.M,n)}}if(t instanceof ys){const n=new ys(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:wa(e.M,n)}}if(t instanceof Yf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Wf)return{bytesValue:va(e.M,t._byteString)};if(t instanceof _f){const n=e.databaseId,i=t.firestore._databaseId;if(!i.isEqual(n))throw e.ic(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Ea(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.ic(`Unsupported field value: ${mf(t)}`)}(t,e)}function pp(t,e){const n={};return _s(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(t,((t,i)=>{const s=fp(i,e.Za(t));null!=s&&(n[t]=s)})),{mapValue:{fields:n}}}function mp(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ys||t instanceof Yf||t instanceof Wf||t instanceof _f||t instanceof Gf)}function gp(t,e,n){if(!mp(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const i=mf(n);throw"an object"===i?e.ic(t+" a custom object"):e.ic(t+" "+i)}}function yp(t,e,n){if((e=(0,c.m9)(e))instanceof Kf)return e._internalPath;if("string"==typeof e)return vp(t,e);throw bp("Field path arguments must be of type string or ",t,!1,void 0,n)}const wp=new RegExp("[~\\*/\\[\\]]");function vp(t,e,n){if(e.search(wp)>=0)throw bp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kf(...e.split("."))._internalPath}catch(i){throw bp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bp(t,e,n,i,s){const r=i&&!i.isEmpty(),o=void 0!==s;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(r||o)&&(c+=" (found",r&&(c+=` in field ${i}`),o&&(c+=` in document ${s}`),c+=")"),new es(ts.INVALID_ARGUMENT,a+t+c)}function _p(t,e){return t.some((t=>t.isEqual(e)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(t,e,n,i,s){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _f(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Tp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Ip("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Tp extends Ep{data(){return super.data()}}function Ip(t,e){return"string"==typeof e?vp(t,e):e instanceof Kf?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Sp extends Ep{constructor(t,e,n,i,s,r){super(t,e,n,i,r),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new xp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(Ip("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class xp extends Sp{data(t={}){return super.data(t)}}class Cp{constructor(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Ap(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new xp(this._firestore,this._userDataWriter,n.key,n,new Ap(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new es(ts.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>({type:"added",doc:new xp(t._firestore,t._userDataWriter,n.doc.key,n.doc,new Ap(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:e++})))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const i=new xp(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Ap(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let s=-1,r=-1;return 0!==e.type&&(s=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),r=n.indexOf(e.doc.key)),{type:kp(e.type),doc:i,oldIndex:s,newIndex:r}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function kp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qi()}}function Dp(t,e){return t instanceof Sp&&e instanceof Sp?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Cp&&e instanceof Cp&&t._firestore===e._firestore&&Cf(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t){if(Hr(t)&&0===t.explicitOrderBy.length)throw new es(ts.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Op{}function Lp(t,...e){for(const n of e)t=n._apply(t);return t}class Pp extends Op{constructor(t,e,n){super(),this.hc=t,this.lc=e,this.fc=n,this.type="where"}_apply(t){const e=np(t.firestore),n=function(t,e,n,i,s,r,o){let a;if(s.isKeyField()){if("array-contains"===r||"array-contains-any"===r)throw new es(ts.INVALID_ARGUMENT,`Invalid Query. You can't perform '${r}' queries on documentId().`);if("in"===r||"not-in"===r){Yp(o,r);const e=[];for(const n of o)e.push(Gp(i,t,n));a={arrayValue:{values:e}}}else a=Gp(i,t,o)}else"in"!==r&&"not-in"!==r&&"array-contains-any"!==r||Yp(o,r),a=dp(n,e,o,"in"===r||"not-in"===r);const c=Sr.create(s,r,a);return function(t,e){if(e.S()){const n=Kr(t);if(null!==n&&!n.isEqual(e.field))throw new es(ts.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${e.field.toString()}'`);const i=zr(t);null!==i&&Qp(t,e.field,i)}const n=function(t,e){for(const n of t.filters)if(e.indexOf(n.op)>=0)return n.op;return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new es(ts.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new es(ts.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}(t,c),c}(t._query,"where",e,t.firestore._databaseId,this.hc,this.lc,this.fc);return new Ef(t.firestore,t.converter,function(t,e){const n=t.filters.concat([e]);return new jr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))}}function Rp(t,e,n){const i=e,s=Ip("where",t);return new Pp(s,i,n)}class Mp extends Op{constructor(t,e){super(),this.hc=t,this.dc=e,this.type="orderBy"}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new es(ts.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new es(ts.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const i=new Mr(e,n);return function(t,e){if(null===zr(t)){const n=Kr(t);null!==n&&Qp(t,n,e.field)}}(t,i),i}(t._query,this.hc,this.dc);return new Ef(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new jr(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}function Fp(t,e="asc"){const n=e,i=Ip("orderBy",t);return new Mp(i,n)}class Bp extends Op{constructor(t,e,n){super(),this.type=t,this._c=e,this.wc=n}_apply(t){return new Ef(t.firestore,t.converter,Qr(t._query,this._c,this.wc))}}function Vp(t){return yf("limit",t),new Bp("limit",t,"F")}function jp(t){return yf("limitToLast",t),new Bp("limitToLast",t,"L")}class $p extends Op{constructor(t,e,n){super(),this.type=t,this.mc=e,this.gc=n}_apply(t){const e=Wp(t,this.type,this.mc,this.gc);return new Ef(t.firestore,t.converter,function(t,e){return new jr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))}}function Up(...t){return new $p("startAt",t,!0)}function qp(...t){return new $p("startAfter",t,!1)}class Hp extends Op{constructor(t,e,n){super(),this.type=t,this.mc=e,this.gc=n}_apply(t){const e=Wp(t,this.type,this.mc,this.gc);return new Ef(t.firestore,t.converter,function(t,e){return new jr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))}}function zp(...t){return new Hp("endBefore",t,!1)}function Kp(...t){return new Hp("endAt",t,!0)}function Wp(t,e,n,i){if(n[0]=(0,c.m9)(n[0]),n[0]instanceof Ep)return function(t,e,n,i,s){if(!i)throw new es(ts.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const r=[];for(const o of Gr(t))if(o.field.isKeyField())r.push(Xs(e,i.key));else{const t=i.data.field(o.field);if(Ls(t))throw new es(ts.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===t){const t=o.field.canonicalString();throw new es(ts.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${t}' (used as the orderBy) does not exist.`)}r.push(t)}return new Rr(r,s)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const s=np(t.firestore);return function(t,e,n,i,s,r){const o=t.explicitOrderBy;if(s.length>o.length)throw new es(ts.INVALID_ARGUMENT,`Too many arguments provided to ${i}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let c=0;c<s.length;c++){const r=s[c];if(o[c].field.isKeyField()){if("string"!=typeof r)throw new es(ts.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${i}(), but got a ${typeof r}`);if(!Wr(t)&&-1!==r.indexOf("/"))throw new es(ts.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${i}() must be a plain document ID, but '${r}' contains a slash.`);const n=t.path.child(Ts.fromString(r));if(!$s.isDocumentKey(n))throw new es(ts.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${i}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const s=new $s(n);a.push(Xs(e,s))}else{const t=dp(n,i,r);a.push(t)}}return new Rr(a,r)}(t._query,t.firestore._databaseId,s,e,n,i)}}function Gp(t,e,n){if("string"==typeof(n=(0,c.m9)(n))){if(""===n)throw new es(ts.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wr(e)&&-1!==n.indexOf("/"))throw new es(ts.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ts.fromString(n));if(!$s.isDocumentKey(i))throw new es(ts.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Xs(t,new $s(i))}if(n instanceof _f)return Xs(t,n._key);throw new es(ts.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mf(n)}.`)}function Yp(t,e){if(!Array.isArray(t)||0===t.length)throw new es(ts.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new es(ts.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Qp(t,e,n){if(!n.isEqual(e))throw new es(ts.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{convertValue(t,e="none"){switch(Hs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ns(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Os(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Qi()}}convertObject(t,e){const n={};return bs(t.fields,((t,i)=>{n[t]=this.convertValue(i,e)})),n}convertGeoPoint(t){return new Yf(Ns(t.latitude),Ns(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=Ps(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Rs(t));default:return null}}convertTimestamp(t){const e=Ds(t);return new ys(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Ts.fromString(t);Xi(Ya(n));const i=new Fs(n.get(1),n.get(3)),s=new $s(n.popFirst(5));return i.isEqual(e)||Wi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class Zp extends Xp{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wf(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new _f(this.firestore,null,e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=np(t)}set(t,e,n){this._verifyNotCommitted();const i=em(t,this._firestore),s=Jp(i.converter,e,n),r=ip(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,n);return this._mutations.push(r.toMutation(i._key,To.none())),this}update(t,e,n,...i){this._verifyNotCommitted();const s=em(t,this._firestore);let r;return r="string"==typeof(e=(0,c.m9)(e))||e instanceof Kf?hp(this._dataReader,"WriteBatch.update",s._key,e,n,i):up(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(r.toMutation(s._key,To.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=em(t,this._firestore);return this._mutations=this._mutations.concat(new Mo(e._key,To.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new es(ts.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function em(t,e){if((t=(0,c.m9)(t)).firestore!==e)throw new es(ts.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(t){t=gf(t,_f);const e=gf(t.firestore,Lf);return nf(Pf(e),t._key).then((n=>gm(e,t,n)))}class im extends Xp{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wf(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new _f(this.firestore,null,e)}}function sm(t){t=gf(t,_f);const e=gf(t.firestore,Lf),n=Pf(e),i=new im(e);return ef(n,t._key).then((n=>new Sp(e,i,t._key,n,new Ap(null!==n&&n.hasLocalMutations,!0),t.converter)))}function rm(t){t=gf(t,_f);const e=gf(t.firestore,Lf);return nf(Pf(e),t._key,{source:"server"}).then((n=>gm(e,t,n)))}function om(t){t=gf(t,Ef);const e=gf(t.firestore,Lf),n=Pf(e),i=new im(e);return Np(t._query),rf(n,t._query).then((n=>new Cp(e,i,t,n)))}function am(t){t=gf(t,Ef);const e=gf(t.firestore,Lf),n=Pf(e),i=new im(e);return sf(n,t._query).then((n=>new Cp(e,i,t,n)))}function cm(t){t=gf(t,Ef);const e=gf(t.firestore,Lf),n=Pf(e),i=new im(e);return rf(n,t._query,{source:"server"}).then((n=>new Cp(e,i,t,n)))}function lm(t,e,n){t=gf(t,_f);const i=gf(t.firestore,Lf),s=Jp(t.converter,e,n);return mm(i,[ip(np(i),"setDoc",t._key,s,null!==t.converter,n).toMutation(t._key,To.none())])}function um(t,e,n,...i){t=gf(t,_f);const s=gf(t.firestore,Lf),r=np(s);let o;return o="string"==typeof(e=(0,c.m9)(e))||e instanceof Kf?hp(r,"updateDoc",t._key,e,n,i):up(r,"updateDoc",t._key,e),mm(s,[o.toMutation(t._key,To.exists(!0))])}function hm(t){return mm(gf(t.firestore,Lf),[new Mo(t._key,To.none())])}function dm(t,e){const n=gf(t.firestore,Lf),i=Sf(t),s=Jp(t.converter,e);return mm(n,[ip(np(t.firestore),"addDoc",i._key,s,null!==t.converter,{}).toMutation(i._key,To.exists(!1))]).then((()=>i))}function fm(t,...e){var n,i,s;t=(0,c.m9)(t);let r={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Df(e[o])||(r=e[o],o++);const a={includeMetadataChanges:r.includeMetadataChanges};if(Df(e[o])){const t=e[o];e[o]=null===(n=t.next)||void 0===n?void 0:n.bind(t),e[o+1]=null===(i=t.error)||void 0===i?void 0:i.bind(t),e[o+2]=null===(s=t.complete)||void 0===s?void 0:s.bind(t)}let l,u,h;if(t instanceof _f)u=gf(t.firestore,Lf),h=Ur(t._key.path),l={next:n=>{e[o]&&e[o](gm(u,t,n))},error:e[o+1],complete:e[o+2]};else{const n=gf(t,Ef);u=gf(n.firestore,Lf),h=n._query;const i=new im(u);l={next:t=>{e[o]&&e[o](new Cp(u,i,n,t))},error:e[o+1],complete:e[o+2]},Np(t._query)}return function(t,e,n,i){const s=new Vd(i),r=new zh(e,s,n);return t.asyncQueue.enqueueAndForget((async()=>jh(await Jd(t),r))),()=>{s.pa(),t.asyncQueue.enqueueAndForget((async()=>$h(await Jd(t),r)))}}(Pf(u),h,a,l)}function pm(t,e){return of(Pf(t=gf(t,Lf)),Df(e)?e:{next:e})}function mm(t,e){return function(t,e){const n=new ns;return t.asyncQueue.enqueueAndForget((async()=>rd(await Xd(t),e,n))),n.promise}(Pf(t),e)}function gm(t,e,n){const i=n.docs.get(e._key),s=new im(t);return new Sp(t,s,e._key,i,new Ap(n.hasPendingWrites,n.fromCache),e.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=np(t)}get(t){const e=em(t,this._firestore),n=new Zp(this._firestore);return this._transaction.lookup([e._key]).then((t=>{if(!t||1!==t.length)return Qi();const i=t[0];if(i.isFoundDocument())return new Ep(this._firestore,n,i.key,i,e.converter);if(i.isNoDocument())return new Ep(this._firestore,n,e._key,null,e.converter);throw Qi()}))}set(t,e,n){const i=em(t,this._firestore),s=Jp(i.converter,e,n),r=ip(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,n);return this._transaction.set(i._key,r),this}update(t,e,n,...i){const s=em(t,this._firestore);let r;return r="string"==typeof(e=(0,c.m9)(e))||e instanceof Kf?hp(this._dataReader,"Transaction.update",s._key,e,n,i):up(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,r),this}delete(t){const e=em(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=em(t,this._firestore),n=new im(this._firestore);return super.get(t).then((t=>new Sp(this._firestore,n,e._key,t._document,new Ap(!1,!1),e.converter)))}}function wm(t,e){return af(Pf(t=gf(t,Lf)),(n=>e(new ym(t,n))))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(){return new sp("deleteField")}function bm(){return new op("serverTimestamp")}function _m(...t){return new ap("arrayUnion",t)}function Em(...t){return new cp("arrayRemove",t)}function Tm(t){return new lp("increment",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t,e=!0){!function(t){Ui=t}(r.SDK_VERSION),(0,r._registerComponent)(new o.wA("firestore",((t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=new Lf(i,new os(t.getProvider("auth-internal")),new us(t.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:e},n),s._setSettings(n),s}),"PUBLIC")),(0,r.registerVersion)(ji,"3.4.7",t),(0,r.registerVersion)(ji,"3.4.7","esm2017")}();const Im="@firebase/firestore-compat",Am="0.1.16";
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Sm(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new es("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(){if("undefined"===typeof Uint8Array)throw new es("unimplemented","Uint8Arrays are not available in this environment.")}function Cm(){if(!xs())throw new es("unimplemented","Blobs are unavailable in Firestore in this environment.")}class km{constructor(t){this._delegate=t}static fromBase64String(t){return Cm(),new km(Wf.fromBase64String(t))}static fromUint8Array(t){return xm(),new km(Wf.fromUint8Array(t))}toBase64(){return Cm(),this._delegate.toBase64()}toUint8Array(){return xm(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t){return Nm(t,["next","error","complete"])}function Nm(t,e){if("object"!==typeof t||null===t)return!1;const n=t;for(const i of e)if(i in n&&"function"===typeof n[i])return!0;return!1}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{enableIndexedDbPersistence(t,e){return Mf(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return Ff(t._delegate)}clearIndexedDbPersistence(t){return Vf(t._delegate)}}class Lm{constructor(t,e,n){this._delegate=e,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},t instanceof Fs||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();t.merge||e.host===t.host||Gi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&(t=Object.assign(Object.assign({},e),t),delete t.merge),this._delegate._setSettings(t)}useEmulator(t,e,n={}){bf(this._delegate,t,e,n)}enableNetwork(){return $f(this._delegate)}disableNetwork(){return Uf(this._delegate)}enablePersistence(t){let e=!1,n=!1;return t&&(e=!!t.synchronizeTabs,n=!!t.experimentalForceOwningTab,df("synchronizeTabs",e,"experimentalForceOwningTab",n)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return jf(this._delegate)}onSnapshotsInSync(t){return pm(this._delegate,t)}get app(){if(!this._appCompat)throw new es("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Gm(this,If(this._delegate,t))}catch(e){throw jm(e,"collection()","Firestore.collection()")}}doc(t){try{return new Vm(this,Sf(this._delegate,t))}catch(e){throw jm(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new zm(this,Af(this._delegate,t))}catch(e){throw jm(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return wm(this._delegate,(e=>t(new Mm(this,e))))}batch(){return Pf(this._delegate),new Fm(new tm(this._delegate,(t=>mm(this._delegate,t))))}loadBundle(t){return qf(this._delegate,t)}namedQuery(t){return Hf(this._delegate,t).then((t=>t?new zm(this,t):null))}}class Pm extends Xp{constructor(t){super(),this.firestore=t}convertBytes(t){return new km(new Wf(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Vm.forKey(e,this.firestore,null)}}function Rm(t){zi(t)}class Mm{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Pm(t)}get(t){const e=Ym(t);return this._delegate.get(e).then((t=>new qm(this._firestore,new Sp(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,e.converter))))}set(t,e,n){const i=Ym(t);return n?(Sm("Transaction.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this}update(t,e,n,...i){const s=Ym(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,n,...i),this}delete(t){const e=Ym(t);return this._delegate.delete(e),this}}class Fm{constructor(t){this._delegate=t}set(t,e,n){const i=Ym(t);return n?(Sm("WriteBatch.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this}update(t,e,n,...i){const s=Ym(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,n,...i),this}delete(t){const e=Ym(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Bm{constructor(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}fromFirestore(t,e){const n=new xp(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Hm(this._firestore,n),null!==e&&void 0!==e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const n=Bm.INSTANCES;let i=n.get(t);i||(i=new WeakMap,n.set(t,i));let s=i.get(e);return s||(s=new Bm(t,new Pm(t),e),i.set(e,s)),s}}Bm.INSTANCES=new WeakMap;class Vm{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Pm(t)}static forPath(t,e,n){if(t.length%2!==0)throw new es("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Vm(e,new _f(e._delegate,n,new $s(t)))}static forKey(t,e,n){return new Vm(e,new _f(e._delegate,n,t))}get id(){return this._delegate.id}get parent(){return new Gm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Gm(this.firestore,If(this._delegate,t))}catch(e){throw jm(e,"collection()","DocumentReference.collection()")}}isEqual(t){return t=(0,c.m9)(t),t instanceof _f&&xf(this._delegate,t)}set(t,e){e=Sm("DocumentReference.set",e);try{return e?lm(this._delegate,t,e):lm(this._delegate,t)}catch(n){throw jm(n,"setDoc()","DocumentReference.set()")}}update(t,e,...n){try{return 1===arguments.length?um(this._delegate,t):um(this._delegate,t,e,...n)}catch(i){throw jm(i,"updateDoc()","DocumentReference.update()")}}delete(){return hm(this._delegate)}onSnapshot(...t){const e=$m(t),n=Um(t,(t=>new qm(this.firestore,new Sp(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter))));return fm(this._delegate,e,n)}get(t){let e;return e="cache"===(null===t||void 0===t?void 0:t.source)?sm(this._delegate):"server"===(null===t||void 0===t?void 0:t.source)?rm(this._delegate):nm(this._delegate),e.then((t=>new qm(this.firestore,new Sp(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter))))}withConverter(t){return new Vm(this.firestore,t?this._delegate.withConverter(Bm.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}function jm(t,e,n){return t.message=t.message.replace(e,n),t}function $m(t){for(const e of t)if("object"===typeof e&&!Dm(e))return e;return{}}function Um(t,e){var n,i;let s;return s=Dm(t[0])?t[0]:Dm(t[1])?t[1]:"function"===typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:t=>{s.next&&s.next(e(t))},error:null===(n=s.error)||void 0===n?void 0:n.bind(s),complete:null===(i=s.complete)||void 0===i?void 0:i.bind(s)}}class qm{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Vm(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return Dp(this._delegate,t._delegate)}}class Hm extends qm{data(t){const e=this._delegate.data(t);return Ji(void 0!==e,"Document in a QueryDocumentSnapshot should exist"),e}}class zm{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Pm(t)}where(t,e,n){try{return new zm(this.firestore,Lp(this._delegate,Rp(t,e,n)))}catch(i){throw jm(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new zm(this.firestore,Lp(this._delegate,Fp(t,e)))}catch(n){throw jm(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new zm(this.firestore,Lp(this._delegate,Vp(t)))}catch(e){throw jm(e,"limit()","Query.limit()")}}limitToLast(t){try{return new zm(this.firestore,Lp(this._delegate,jp(t)))}catch(e){throw jm(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new zm(this.firestore,Lp(this._delegate,Up(...t)))}catch(e){throw jm(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new zm(this.firestore,Lp(this._delegate,qp(...t)))}catch(e){throw jm(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new zm(this.firestore,Lp(this._delegate,zp(...t)))}catch(e){throw jm(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new zm(this.firestore,Lp(this._delegate,Kp(...t)))}catch(e){throw jm(e,"endAt()","Query.endAt()")}}isEqual(t){return Cf(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null===t||void 0===t?void 0:t.source)?am(this._delegate):"server"===(null===t||void 0===t?void 0:t.source)?cm(this._delegate):om(this._delegate),e.then((t=>new Wm(this.firestore,new Cp(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot))))}onSnapshot(...t){const e=$m(t),n=Um(t,(t=>new Wm(this.firestore,new Cp(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot))));return fm(this._delegate,e,n)}withConverter(t){return new zm(this.firestore,t?this._delegate.withConverter(Bm.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}class Km{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Hm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Wm{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new zm(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((t=>new Hm(this._firestore,t)))}docChanges(t){return this._delegate.docChanges(t).map((t=>new Km(this._firestore,t)))}forEach(t,e){this._delegate.forEach((n=>{t.call(e,new Hm(this._firestore,n))}))}isEqual(t){return Dp(this._delegate,t._delegate)}}class Gm extends zm{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Vm(this.firestore,t):null}doc(t){try{return new Vm(this.firestore,void 0===t?Sf(this._delegate):Sf(this._delegate,t))}catch(e){throw jm(e,"doc()","CollectionReference.doc()")}}add(t){return dm(this._delegate,t).then((t=>new Vm(this.firestore,t)))}isEqual(t){return xf(this._delegate,t._delegate)}withConverter(t){return new Gm(this.firestore,t?this._delegate.withConverter(Bm.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}function Ym(t){return gf(t,_f)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(...t){this._delegate=new Kf(...t)}static documentId(){return new Qm(As.keyField().canonicalString())}isEqual(t){return t=(0,c.m9)(t),t instanceof Kf&&this._delegate._internalPath.isEqual(t._internalPath)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t){this._delegate=t}static serverTimestamp(){const t=bm();return t._methodName="FieldValue.serverTimestamp",new Xm(t)}static delete(){const t=vm();return t._methodName="FieldValue.delete",new Xm(t)}static arrayUnion(...t){const e=_m(...t);return e._methodName="FieldValue.arrayUnion",new Xm(e)}static arrayRemove(...t){const e=Em(...t);return e._methodName="FieldValue.arrayRemove",new Xm(e)}static increment(t){const e=Tm(t);return e._methodName="FieldValue.increment",new Xm(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm={Firestore:Lm,GeoPoint:Yf,Timestamp:ys,Blob:km,Transaction:Mm,WriteBatch:Fm,DocumentReference:Vm,DocumentSnapshot:qm,Query:zm,QueryDocumentSnapshot:Hm,QuerySnapshot:Wm,CollectionReference:Gm,FieldPath:Qm,FieldValue:Xm,setLogLevel:Rm,CACHE_SIZE_UNLIMITED:Of};function Zm(t,e){t.INTERNAL.registerComponent(new o.wA("firestore-compat",(t=>{const n=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(n,i)}),"PUBLIC").setServiceProps(Object.assign({},Jm)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t){Zm(t,((t,e)=>new Lm(t,e,new Om))),t.registerVersion(Im,Am)}tg(s.Z)},2492:function(t){
/*!
* sweetalert2 v11.4.8
* Released under the MIT License.
*/
(function(e,n){t.exports=n()})(0,(function(){"use strict";const t="SweetAlert2:",e=t=>{const e=[];for(let n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e},n=t=>t.charAt(0).toUpperCase()+t.slice(1),i=t=>Array.prototype.slice.call(t),s=e=>{console.warn("".concat(t," ").concat("object"===typeof e?e.join(" "):e))},r=e=>{console.error("".concat(t," ").concat(e))},o=[],a=t=>{o.includes(t)||(o.push(t),s(t))},c=(t,e)=>{a('"'.concat(t,'" is deprecated and will be removed in the next major release. Please use "').concat(e,'" instead.'))},l=t=>"function"===typeof t?t():t,u=t=>t&&"function"===typeof t.toPromise,h=t=>u(t)?t.toPromise():Promise.resolve(t),d=t=>t&&Promise.resolve(t)===t,f={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},p=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],m={},g=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],y=t=>Object.prototype.hasOwnProperty.call(f,t),w=t=>-1!==p.indexOf(t),v=t=>m[t],b=t=>{y(t)||s('Unknown parameter "'.concat(t,'"'))},_=t=>{g.includes(t)&&s('The parameter "'.concat(t,'" is incompatible with toasts'))},E=t=>{v(t)&&c(t,v(t))},T=t=>{!t.backdrop&&t.allowOutsideClick&&s('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const e in t)b(e),t.toast&&_(e),E(e)},I="swal2-",A=t=>{const e={};for(const n in t)e[t[n]]=I+t[n];return e},S=A(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),x=A(["success","warning","info","question","error"]),C=()=>document.body.querySelector(".".concat(S.container)),k=t=>{const e=C();return e?e.querySelector(t):null},D=t=>k(".".concat(t)),N=()=>D(S.popup),O=()=>D(S.icon),L=()=>D(S.title),P=()=>D(S["html-container"]),R=()=>D(S.image),M=()=>D(S["progress-steps"]),F=()=>D(S["validation-message"]),B=()=>k(".".concat(S.actions," .").concat(S.confirm)),V=()=>k(".".concat(S.actions," .").concat(S.deny)),j=()=>D(S["input-label"]),$=()=>k(".".concat(S.loader)),U=()=>k(".".concat(S.actions," .").concat(S.cancel)),q=()=>D(S.actions),H=()=>D(S.footer),z=()=>D(S["timer-progress-bar"]),K=()=>D(S.close),W='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',G=()=>{const t=i(N().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(((t,e)=>{const n=parseInt(t.getAttribute("tabindex")),i=parseInt(e.getAttribute("tabindex"));return n>i?1:n<i?-1:0})),n=i(N().querySelectorAll(W)).filter((t=>"-1"!==t.getAttribute("tabindex")));return e(t.concat(n)).filter((t=>pt(t)))},Y=()=>tt(document.body,S.shown)&&!tt(document.body,S["toast-shown"])&&!tt(document.body,S["no-backdrop"]),Q=()=>N()&&tt(N(),S.toast),X=()=>N().hasAttribute("data-loading"),J={previousBodyPadding:null},Z=(t,e)=>{if(t.textContent="",e){const n=new DOMParser,s=n.parseFromString(e,"text/html");i(s.querySelector("head").childNodes).forEach((e=>{t.appendChild(e)})),i(s.querySelector("body").childNodes).forEach((e=>{t.appendChild(e)}))}},tt=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let i=0;i<n.length;i++)if(!t.classList.contains(n[i]))return!1;return!0},et=(t,e)=>{i(t.classList).forEach((n=>{Object.values(S).includes(n)||Object.values(x).includes(n)||Object.values(e.showClass).includes(n)||t.classList.remove(n)}))},nt=(t,e,n)=>{if(et(t,e),e.customClass&&e.customClass[n]){if("string"!==typeof e.customClass[n]&&!e.customClass[n].forEach)return s("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(typeof e.customClass[n],'"'));ot(t,e.customClass[n])}},it=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(".".concat(S.popup," > .").concat(S[e]));case"checkbox":return t.querySelector(".".concat(S.popup," > .").concat(S.checkbox," input"));case"radio":return t.querySelector(".".concat(S.popup," > .").concat(S.radio," input:checked"))||t.querySelector(".".concat(S.popup," > .").concat(S.radio," input:first-child"));case"range":return t.querySelector(".".concat(S.popup," > .").concat(S.range," input"));default:return t.querySelector(".".concat(S.popup," > .").concat(S.input))}},st=t=>{if(t.focus(),"file"!==t.type){const e=t.value;t.value="",t.value=e}},rt=(t,e,n)=>{t&&e&&("string"===typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach((e=>{Array.isArray(t)?t.forEach((t=>{n?t.classList.add(e):t.classList.remove(e)})):n?t.classList.add(e):t.classList.remove(e)})))},ot=(t,e)=>{rt(t,e,!0)},at=(t,e)=>{rt(t,e,!1)},ct=(t,e)=>{const n=i(t.childNodes);for(let i=0;i<n.length;i++)if(tt(n[i],e))return n[i]},lt=(t,e,n)=>{n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?t.style[e]="number"===typeof n?"".concat(n,"px"):n:t.style.removeProperty(e)},ut=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";t.style.display=e},ht=t=>{t.style.display="none"},dt=(t,e,n,i)=>{const s=t.querySelector(e);s&&(s.style[n]=i)},ft=(t,e,n)=>{e?ut(t,n):ht(t)},pt=t=>!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),mt=()=>!pt(B())&&!pt(V())&&!pt(U()),gt=t=>!!(t.scrollHeight>t.clientHeight),yt=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||i>0},wt=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=z();pt(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout((()=>{n.style.transition="width ".concat(t/1e3,"s linear"),n.style.width="0%"}),10))},vt=()=>{const t=z(),e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),i=e/n*100;t.style.removeProperty("transition"),t.style.width="".concat(i,"%")},bt=()=>"undefined"===typeof window||"undefined"===typeof document,_t=100,Et={},Tt=()=>{Et.previousActiveElement&&Et.previousActiveElement.focus?(Et.previousActiveElement.focus(),Et.previousActiveElement=null):document.body&&document.body.focus()},It=t=>new Promise((e=>{if(!t)return e();const n=window.scrollX,i=window.scrollY;Et.restoreFocusTimeout=setTimeout((()=>{Tt(),e()}),_t),window.scrollTo(n,i)})),At='\n <div aria-labelledby="'.concat(S.title,'" aria-describedby="').concat(S["html-container"],'" class="').concat(S.popup,'" tabindex="-1">\n   <button type="button" class="').concat(S.close,'"></button>\n   <ul class="').concat(S["progress-steps"],'"></ul>\n   <div class="').concat(S.icon,'"></div>\n   <img class="').concat(S.image,'" />\n   <h2 class="').concat(S.title,'" id="').concat(S.title,'"></h2>\n   <div class="').concat(S["html-container"],'" id="').concat(S["html-container"],'"></div>\n   <input class="').concat(S.input,'" />\n   <input type="file" class="').concat(S.file,'" />\n   <div class="').concat(S.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(S.select,'"></select>\n   <div class="').concat(S.radio,'"></div>\n   <label for="').concat(S.checkbox,'" class="').concat(S.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(S.label,'"></span>\n   </label>\n   <textarea class="').concat(S.textarea,'"></textarea>\n   <div class="').concat(S["validation-message"],'" id="').concat(S["validation-message"],'"></div>\n   <div class="').concat(S.actions,'">\n     <div class="').concat(S.loader,'"></div>\n     <button type="button" class="').concat(S.confirm,'"></button>\n     <button type="button" class="').concat(S.deny,'"></button>\n     <button type="button" class="').concat(S.cancel,'"></button>\n   </div>\n   <div class="').concat(S.footer,'"></div>\n   <div class="').concat(S["timer-progress-bar-container"],'">\n     <div class="').concat(S["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),St=()=>{const t=C();return!!t&&(t.remove(),at([document.documentElement,document.body],[S["no-backdrop"],S["toast-shown"],S["has-column"]]),!0)},xt=()=>{Et.currentInstance.resetValidationMessage()},Ct=()=>{const t=N(),e=ct(t,S.input),n=ct(t,S.file),i=t.querySelector(".".concat(S.range," input")),s=t.querySelector(".".concat(S.range," output")),r=ct(t,S.select),o=t.querySelector(".".concat(S.checkbox," input")),a=ct(t,S.textarea);e.oninput=xt,n.onchange=xt,r.onchange=xt,o.onchange=xt,a.oninput=xt,i.oninput=()=>{xt(),s.value=i.value},i.onchange=()=>{xt(),i.nextSibling.value=i.value}},kt=t=>"string"===typeof t?document.querySelector(t):t,Dt=t=>{const e=N();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},Nt=t=>{"rtl"===window.getComputedStyle(t).direction&&ot(C(),S.rtl)},Ot=t=>{const e=St();if(bt())return void r("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=S.container,e&&ot(n,S["no-transition"]),Z(n,At);const i=kt(t.target);i.appendChild(n),Dt(t),Nt(i),Ct()},Lt=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):"object"===typeof t?Pt(t,e):t&&Z(e,t)},Pt=(t,e)=>{t.jquery?Rt(e,t):Z(e,t.toString())},Rt=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},Mt=(()=>{if(bt())return!1;const t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&"undefined"!==typeof t.style[n])return e[n];return!1})(),Ft=()=>{const t=document.createElement("div");t.className=S["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},Bt=(t,e)=>{const n=q(),i=$();e.showConfirmButton||e.showDenyButton||e.showCancelButton?ut(n):ht(n),nt(n,e,"actions"),Vt(n,i,e),Z(i,e.loaderHtml),nt(i,e,"loader")};function Vt(t,e,n){const i=B(),s=V(),r=U();$t(i,"confirm",n),$t(s,"deny",n),$t(r,"cancel",n),jt(i,s,r,n),n.reverseButtons&&(n.toast?(t.insertBefore(r,i),t.insertBefore(s,i)):(t.insertBefore(r,e),t.insertBefore(s,e),t.insertBefore(i,e)))}function jt(t,e,n,i){if(!i.buttonsStyling)return at([t,e,n],S.styled);ot([t,e,n],S.styled),i.confirmButtonColor&&(t.style.backgroundColor=i.confirmButtonColor,ot(t,S["default-outline"])),i.denyButtonColor&&(e.style.backgroundColor=i.denyButtonColor,ot(e,S["default-outline"])),i.cancelButtonColor&&(n.style.backgroundColor=i.cancelButtonColor,ot(n,S["default-outline"]))}function $t(t,e,i){ft(t,i["show".concat(n(e),"Button")],"inline-block"),Z(t,i["".concat(e,"ButtonText")]),t.setAttribute("aria-label",i["".concat(e,"ButtonAriaLabel")]),t.className=S[e],nt(t,i,"".concat(e,"Button")),ot(t,i["".concat(e,"ButtonClass")])}function Ut(t,e){"string"===typeof e?t.style.background=e:e||ot([document.documentElement,document.body],S["no-backdrop"])}function qt(t,e){e in S?ot(t,S[e]):(s('The "position" parameter is not valid, defaulting to "center"'),ot(t,S.center))}function Ht(t,e){if(e&&"string"===typeof e){const n="grow-".concat(e);n in S&&ot(t,S[n])}}const zt=(t,e)=>{const n=C();n&&(Ut(n,e.backdrop),qt(n,e.position),Ht(n,e.grow),nt(n,e,"container"))};var Kt={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Wt=["input","file","range","select","radio","checkbox","textarea"],Gt=(t,e)=>{const n=N(),i=Kt.innerParams.get(t),s=!i||e.input!==i.input;Wt.forEach((t=>{const i=S[t],r=ct(n,i);Xt(t,e.inputAttributes),r.className=i,s&&ht(r)})),e.input&&(s&&Yt(e),Jt(e))},Yt=t=>{if(!ne[t.input])return r('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(t.input,'"'));const e=ee(t.input),n=ne[t.input](e,t);ut(n),setTimeout((()=>{st(n)}))},Qt=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["type","value","style"].includes(n)||t.removeAttribute(n)}},Xt=(t,e)=>{const n=it(N(),t);if(n){Qt(n);for(const t in e)n.setAttribute(t,e[t])}},Jt=t=>{const e=ee(t.input);t.customClass&&ot(e,t.customClass.input)},Zt=(t,e)=>{t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)},te=(t,e,n)=>{if(n.inputLabel){t.id=S.input;const i=document.createElement("label"),s=S["input-label"];i.setAttribute("for",t.id),i.className=s,ot(i,n.customClass.inputLabel),i.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",i)}},ee=t=>{const e=S[t]?S[t]:S.input;return ct(N(),e)},ne={};ne.text=ne.email=ne.password=ne.number=ne.tel=ne.url=(t,e)=>("string"===typeof e.inputValue||"number"===typeof e.inputValue?t.value=e.inputValue:d(e.inputValue)||s('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof e.inputValue,'"')),te(t,t,e),Zt(t,e),t.type=e.input,t),ne.file=(t,e)=>(te(t,t,e),Zt(t,e),t),ne.range=(t,e)=>{const n=t.querySelector("input"),i=t.querySelector("output");return n.value=e.inputValue,n.type=e.input,i.value=e.inputValue,te(n,t,e),t},ne.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");Z(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return te(t,t,e),t},ne.radio=t=>(t.textContent="",t),ne.checkbox=(t,e)=>{const n=it(N(),"checkbox");n.value="1",n.id=S.checkbox,n.checked=Boolean(e.inputValue);const i=t.querySelector("span");return Z(i,e.inputPlaceholder),t},ne.textarea=(t,e)=>{t.value=e.inputValue,Zt(t,e),te(t,t,e);const n=t=>parseInt(window.getComputedStyle(t).marginLeft)+parseInt(window.getComputedStyle(t).marginRight);return setTimeout((()=>{if("MutationObserver"in window){const e=parseInt(window.getComputedStyle(N()).width),i=()=>{const i=t.offsetWidth+n(t);N().style.width=i>e?"".concat(i,"px"):null};new MutationObserver(i).observe(t,{attributes:!0,attributeFilter:["style"]})}})),t};const ie=(t,e)=>{const n=P();nt(n,e,"htmlContainer"),e.html?(Lt(e.html,n),ut(n,"block")):e.text?(n.textContent=e.text,ut(n,"block")):ht(n),Gt(t,e)},se=(t,e)=>{const n=H();ft(n,e.footer),e.footer&&Lt(e.footer,n),nt(n,e,"footer")},re=(t,e)=>{const n=K();Z(n,e.closeButtonHtml),nt(n,e,"closeButton"),ft(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel)},oe=(t,e)=>{const n=Kt.innerParams.get(t),i=O();return n&&e.icon===n.icon?(he(i,e),void ae(i,e)):e.icon||e.iconHtml?e.icon&&-1===Object.keys(x).indexOf(e.icon)?(r('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.icon,'"')),ht(i)):(ut(i),he(i,e),ae(i,e),void ot(i,e.showClass.icon)):ht(i)},ae=(t,e)=>{for(const n in x)e.icon!==n&&at(t,x[n]);ot(t,x[e.icon]),de(t,e),ce(),nt(t,e,"icon")},ce=()=>{const t=N(),e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<n.length;i++)n[i].style.backgroundColor=e},le='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',ue='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',he=(t,e)=>{if(t.textContent="",e.iconHtml)Z(t,fe(e.iconHtml));else if("success"===e.icon)Z(t,le);else if("error"===e.icon)Z(t,ue);else{const n={question:"?",warning:"!",info:"i"};Z(t,fe(n[e.icon]))}},de=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])dt(t,n,"backgroundColor",e.iconColor);dt(t,".swal2-success-ring","borderColor",e.iconColor)}},fe=t=>'<div class="'.concat(S["icon-content"],'">').concat(t,"</div>"),pe=(t,e)=>{const n=R();if(!e.imageUrl)return ht(n);ut(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt),lt(n,"width",e.imageWidth),lt(n,"height",e.imageHeight),n.className=S.image,nt(n,e,"image")},me=t=>{const e=document.createElement("li");return ot(e,S["progress-step"]),Z(e,t),e},ge=t=>{const e=document.createElement("li");return ot(e,S["progress-step-line"]),t.progressStepsDistance&&(e.style.width=t.progressStepsDistance),e},ye=(t,e)=>{const n=M();if(!e.progressSteps||0===e.progressSteps.length)return ht(n);ut(n),n.textContent="",e.currentProgressStep>=e.progressSteps.length&&s("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach(((t,i)=>{const s=me(t);if(n.appendChild(s),i===e.currentProgressStep&&ot(s,S["active-progress-step"]),i!==e.progressSteps.length-1){const t=ge(e);n.appendChild(t)}}))},we=(t,e)=>{const n=L();ft(n,e.title||e.titleText,"block"),e.title&&Lt(e.title,n),e.titleText&&(n.innerText=e.titleText),nt(n,e,"title")},ve=(t,e)=>{const n=C(),i=N();e.toast?(lt(n,"width",e.width),i.style.width="100%",i.insertBefore($(),O())):lt(i,"width",e.width),lt(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),ht(F()),be(i,e)},be=(t,e)=>{t.className="".concat(S.popup," ").concat(pt(t)?e.showClass.popup:""),e.toast?(ot([document.documentElement,document.body],S["toast-shown"]),ot(t,S.toast)):ot(t,S.modal),nt(t,e,"popup"),"string"===typeof e.customClass&&ot(t,e.customClass),e.icon&&ot(t,S["icon-".concat(e.icon)])},_e=(t,e)=>{ve(t,e),zt(t,e),ye(t,e),oe(t,e),pe(t,e),we(t,e),re(t,e),ie(t,e),Bt(t,e),se(t,e),"function"===typeof e.didRender&&e.didRender(N())},Ee=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Te=()=>{const t=i(document.body.children);t.forEach((t=>{t===C()||t.contains(C())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}))},Ie=()=>{const t=i(document.body.children);t.forEach((t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")}))},Ae=["swal-title","swal-html","swal-footer"],Se=t=>{const e="string"===typeof t.template?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;Le(n);const i=Object.assign(xe(n),Ce(n),ke(n),De(n),Ne(n),Oe(n,Ae));return i},xe=t=>{const e={};return i(t.querySelectorAll("swal-param")).forEach((t=>{Pe(t,["name","value"]);const n=t.getAttribute("name"),i=t.getAttribute("value");"boolean"===typeof f[n]&&"false"===i&&(e[n]=!1),"object"===typeof f[n]&&(e[n]=JSON.parse(i))})),e},Ce=t=>{const e={};return i(t.querySelectorAll("swal-button")).forEach((t=>{Pe(t,["type","color","aria-label"]);const i=t.getAttribute("type");e["".concat(i,"ButtonText")]=t.innerHTML,e["show".concat(n(i),"Button")]=!0,t.hasAttribute("color")&&(e["".concat(i,"ButtonColor")]=t.getAttribute("color")),t.hasAttribute("aria-label")&&(e["".concat(i,"ButtonAriaLabel")]=t.getAttribute("aria-label"))})),e},ke=t=>{const e={},n=t.querySelector("swal-image");return n&&(Pe(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt"))),e},De=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Pe(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},Ne=t=>{const e={},n=t.querySelector("swal-input");n&&(Pe(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const s=t.querySelectorAll("swal-input-option");return s.length&&(e.inputOptions={},i(s).forEach((t=>{Pe(t,["value"]);const n=t.getAttribute("value"),i=t.innerHTML;e.inputOptions[n]=i}))),e},Oe=(t,e)=>{const n={};for(const i in e){const s=e[i],r=t.querySelector(s);r&&(Pe(r,[]),n[s.replace(/^swal-/,"")]=r.innerHTML.trim())}return n},Le=t=>{const e=Ae.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);i(t.children).forEach((t=>{const n=t.tagName.toLowerCase();-1===e.indexOf(n)&&s("Unrecognized element <".concat(n,">"))}))},Pe=(t,e)=>{i(t.attributes).forEach((n=>{-1===e.indexOf(n.name)&&s(['Unrecognized attribute "'.concat(n.name,'" on <').concat(t.tagName.toLowerCase(),">."),"".concat(e.length?"Allowed attributes are: ".concat(e.join(", ")):"To set the value, use HTML within the element.")])}))};var Re={email:(t,e)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function Me(t){t.inputValidator||Object.keys(Re).forEach((e=>{t.input===e&&(t.inputValidator=Re[e])}))}function Fe(t){(!t.target||"string"===typeof t.target&&!document.querySelector(t.target)||"string"!==typeof t.target&&!t.target.appendChild)&&(s('Target parameter is not valid, defaulting to "body"'),t.target="body")}function Be(t){Me(t),t.showLoaderOnConfirm&&!t.preConfirm&&s("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),Fe(t),"string"===typeof t.title&&(t.title=t.title.split("\n").join("<br />")),Ot(t)}class Ve{constructor(t,e){this.callback=t,this.remaining=e,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(t){const e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const je=()=>{null===J.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(J.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(J.previousBodyPadding+Ft(),"px"))},$e=()=>{null!==J.previousBodyPadding&&(document.body.style.paddingRight="".concat(J.previousBodyPadding,"px"),J.previousBodyPadding=null)},Ue=()=>{const t=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;if(t&&!tt(document.body,S.iosfix)){const t=document.body.scrollTop;document.body.style.top="".concat(-1*t,"px"),ot(document.body,S.iosfix),He(),qe()}},qe=()=>{const t=navigator.userAgent,e=!!t.match(/iPad/i)||!!t.match(/iPhone/i),n=!!t.match(/WebKit/i),i=e&&n&&!t.match(/CriOS/i);if(i){const t=44;N().scrollHeight>window.innerHeight-t&&(C().style.paddingBottom="".concat(t,"px"))}},He=()=>{const t=C();let e;t.ontouchstart=t=>{e=ze(t)},t.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},ze=t=>{const e=t.target,n=C();return!Ke(t)&&!We(t)&&(e===n||!(gt(n)||"INPUT"===e.tagName||"TEXTAREA"===e.tagName||gt(P())&&P().contains(e)))},Ke=t=>t.touches&&t.touches.length&&"stylus"===t.touches[0].touchType,We=t=>t.touches&&t.touches.length>1,Ge=()=>{if(tt(document.body,S.iosfix)){const t=parseInt(document.body.style.top,10);at(document.body,S.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}},Ye=10,Qe=t=>{const e=C(),n=N();"function"===typeof t.willOpen&&t.willOpen(n);const i=window.getComputedStyle(document.body),s=i.overflowY;tn(e,n,t),setTimeout((()=>{Je(e,n)}),Ye),Y()&&(Ze(e,t.scrollbarPadding,s),Te()),Q()||Et.previousActiveElement||(Et.previousActiveElement=document.activeElement),"function"===typeof t.didOpen&&setTimeout((()=>t.didOpen(n))),at(e,S["no-transition"])},Xe=t=>{const e=N();if(t.target!==e)return;const n=C();e.removeEventListener(Mt,Xe),n.style.overflowY="auto"},Je=(t,e)=>{Mt&&yt(e)?(t.style.overflowY="hidden",e.addEventListener(Mt,Xe)):t.style.overflowY="auto"},Ze=(t,e,n)=>{Ue(),e&&"hidden"!==n&&je(),setTimeout((()=>{t.scrollTop=0}))},tn=(t,e,n)=>{ot(t,n.showClass.backdrop),e.style.setProperty("opacity","0","important"),ut(e,"grid"),setTimeout((()=>{ot(e,n.showClass.popup),e.style.removeProperty("opacity")}),Ye),ot([document.documentElement,document.body],S.shown),n.heightAuto&&n.backdrop&&!n.toast&&ot([document.documentElement,document.body],S["height-auto"])},en=t=>{let e=N();e||new Ki,e=N();const n=$();Q()?ht(O()):nn(e,t),ut(n),e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()},nn=(t,e)=>{const n=q(),i=$();!e&&pt(B())&&(e=B()),ut(n),e&&(ht(e),i.setAttribute("data-button-to-replace",e.className)),i.parentNode.insertBefore(i,e),ot([t,n],S.loading)},sn=(t,e)=>{"select"===e.input||"radio"===e.input?ln(t,e):["text","email","number","tel","textarea"].includes(e.input)&&(u(e.inputValue)||d(e.inputValue))&&(en(B()),un(t,e))},rn=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return on(n);case"radio":return an(n);case"file":return cn(n);default:return e.inputAutoTrim?n.value.trim():n.value}},on=t=>t.checked?1:0,an=t=>t.checked?t.value:null,cn=t=>t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null,ln=(t,e)=>{const n=N(),i=t=>hn[e.input](n,dn(t),e);u(e.inputOptions)||d(e.inputOptions)?(en(B()),h(e.inputOptions).then((e=>{t.hideLoading(),i(e)}))):"object"===typeof e.inputOptions?i(e.inputOptions):r("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof e.inputOptions))},un=(t,e)=>{const n=t.getInput();ht(n),h(e.inputValue).then((i=>{n.value="number"===e.input?parseFloat(i)||0:"".concat(i),ut(n),n.focus(),t.hideLoading()})).catch((e=>{r("Error in inputValue promise: ".concat(e)),n.value="",ut(n),n.focus(),t.hideLoading()}))},hn={select:(t,e,n)=>{const i=ct(t,S.select),s=(t,e,i)=>{const s=document.createElement("option");s.value=i,Z(s,e),s.selected=fn(i,n.inputValue),t.appendChild(s)};e.forEach((t=>{const e=t[0],n=t[1];if(Array.isArray(n)){const t=document.createElement("optgroup");t.label=e,t.disabled=!1,i.appendChild(t),n.forEach((e=>s(t,e[1],e[0])))}else s(i,n,e)})),i.focus()},radio:(t,e,n)=>{const i=ct(t,S.radio);e.forEach((t=>{const e=t[0],s=t[1],r=document.createElement("input"),o=document.createElement("label");r.type="radio",r.name=S.radio,r.value=e,fn(e,n.inputValue)&&(r.checked=!0);const a=document.createElement("span");Z(a,s),a.className=S.label,o.appendChild(r),o.appendChild(a),i.appendChild(o)}));const s=i.querySelectorAll("input");s.length&&s[0].focus()}},dn=t=>{const e=[];return"undefined"!==typeof Map&&t instanceof Map?t.forEach(((t,n)=>{let i=t;"object"===typeof i&&(i=dn(i)),e.push([n,i])})):Object.keys(t).forEach((n=>{let i=t[n];"object"===typeof i&&(i=dn(i)),e.push([n,i])})),e},fn=(t,e)=>e&&e.toString()===t.toString();function pn(){const t=Kt.innerParams.get(this);if(!t)return;const e=Kt.domCache.get(this);ht(e.loader),Q()?t.icon&&ut(O()):mn(e),at([e.popup,e.actions],S.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const mn=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?ut(e[0],"inline-block"):mt()&&ht(t.actions)};function gn(t){const e=Kt.innerParams.get(t||this),n=Kt.domCache.get(t||this);return n?it(n.popup,e.input):null}var yn={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const wn=()=>pt(N()),vn=()=>B()&&B().click(),bn=()=>V()&&V().click(),_n=()=>U()&&U().click(),En=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},Tn=(t,e,n,i)=>{En(e),n.toast||(e.keydownHandler=e=>xn(t,e,i),e.keydownTarget=n.keydownListenerCapture?window:N(),e.keydownListenerCapture=n.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},In=(t,e,n)=>{const i=G();if(i.length)return e+=n,e===i.length?e=0:-1===e&&(e=i.length-1),i[e].focus();N().focus()},An=["ArrowRight","ArrowDown"],Sn=["ArrowLeft","ArrowUp"],xn=(t,e,n)=>{const i=Kt.innerParams.get(t);i&&(e.isComposing||229===e.keyCode||(i.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?Cn(t,e,i):"Tab"===e.key?kn(e,i):[...An,...Sn].includes(e.key)?Dn(e.key):"Escape"===e.key&&Nn(e,i,n)))},Cn=(t,e,n)=>{if(l(n.allowEnterKey)&&e.target&&t.getInput()&&e.target.outerHTML===t.getInput().outerHTML){if(["textarea","file"].includes(n.input))return;vn(),e.preventDefault()}},kn=(t,e)=>{const n=t.target,i=G();let s=-1;for(let r=0;r<i.length;r++)if(n===i[r]){s=r;break}t.shiftKey?In(e,s,-1):In(e,s,1),t.stopPropagation(),t.preventDefault()},Dn=t=>{const e=B(),n=V(),i=U();if(![e,n,i].includes(document.activeElement))return;const s=An.includes(t)?"nextElementSibling":"previousElementSibling";let r=document.activeElement;for(let o=0;o<q().children.length;o++){if(r=r[s],!r)return;if(pt(r)&&r instanceof HTMLButtonElement)break}r instanceof HTMLButtonElement&&r.focus()},Nn=(t,e,n)=>{l(e.allowEscapeKey)&&(t.preventDefault(),n(Ee.esc))};function On(t,e,n,i){Q()?Un(t,i):(It(n).then((()=>Un(t,i))),En(Et));const s=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);s?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Y()&&($e(),Ge(),Ie()),Ln()}function Ln(){at([document.documentElement,document.body],[S.shown,S["height-auto"],S["no-backdrop"],S["toast-shown"]])}function Pn(t){t=Vn(t);const e=yn.swalPromiseResolve.get(this),n=Mn(this);this.isAwaitingPromise()?t.isDismissed||(Bn(this),e(t)):n&&e(t)}function Rn(){return!!Kt.awaitingPromise.get(this)}const Mn=t=>{const e=N();if(!e)return!1;const n=Kt.innerParams.get(t);if(!n||tt(e,n.hideClass.popup))return!1;at(e,n.showClass.popup),ot(e,n.hideClass.popup);const i=C();return at(i,n.showClass.backdrop),ot(i,n.hideClass.backdrop),jn(t,e,n),!0};function Fn(t){const e=yn.swalPromiseReject.get(this);Bn(this),e&&e(t)}const Bn=t=>{t.isAwaitingPromise()&&(Kt.awaitingPromise.delete(t),Kt.innerParams.get(t)||t._destroy())},Vn=t=>"undefined"===typeof t?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),jn=(t,e,n)=>{const i=C(),s=Mt&&yt(e);"function"===typeof n.willClose&&n.willClose(e),s?$n(t,e,i,n.returnFocus,n.didClose):On(t,i,n.returnFocus,n.didClose)},$n=(t,e,n,i,s)=>{Et.swalCloseEventFinishedCallback=On.bind(null,t,n,i,s),e.addEventListener(Mt,(function(t){t.target===e&&(Et.swalCloseEventFinishedCallback(),delete Et.swalCloseEventFinishedCallback)}))},Un=(t,e)=>{setTimeout((()=>{"function"===typeof e&&e.bind(t.params)(),t._destroy()}))};function qn(t,e,n){const i=Kt.domCache.get(t);e.forEach((t=>{i[t].disabled=n}))}function Hn(t,e){if(!t)return!1;if("radio"===t.type){const n=t.parentNode.parentNode,i=n.querySelectorAll("input");for(let t=0;t<i.length;t++)i[t].disabled=e}else t.disabled=e}function zn(){qn(this,["confirmButton","denyButton","cancelButton"],!1)}function Kn(){qn(this,["confirmButton","denyButton","cancelButton"],!0)}function Wn(){return Hn(this.getInput(),!1)}function Gn(){return Hn(this.getInput(),!0)}function Yn(t){const e=Kt.domCache.get(this),n=Kt.innerParams.get(this);Z(e.validationMessage,t),e.validationMessage.className=S["validation-message"],n.customClass&&n.customClass.validationMessage&&ot(e.validationMessage,n.customClass.validationMessage),ut(e.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid",!0),i.setAttribute("aria-describedby",S["validation-message"]),st(i),ot(i,S.inputerror))}function Qn(){const t=Kt.domCache.get(this);t.validationMessage&&ht(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),at(e,S.inputerror))}function Xn(){const t=Kt.domCache.get(this);return t.progressSteps}function Jn(t){const e=N(),n=Kt.innerParams.get(this);if(!e||tt(e,n.hideClass.popup))return s("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const i=Zn(t),r=Object.assign({},n,i);_e(this,r),Kt.innerParams.set(this,r),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const Zn=t=>{const e={};return Object.keys(t).forEach((n=>{w(n)?e[n]=t[n]:s('Invalid parameter to update: "'.concat(n,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))})),e};function ti(){const t=Kt.domCache.get(this),e=Kt.innerParams.get(this);e?(t.popup&&Et.swalCloseEventFinishedCallback&&(Et.swalCloseEventFinishedCallback(),delete Et.swalCloseEventFinishedCallback),Et.deferDisposalTimer&&(clearTimeout(Et.deferDisposalTimer),delete Et.deferDisposalTimer),"function"===typeof e.didDestroy&&e.didDestroy(),ei(this)):ni(this)}const ei=t=>{ni(t),delete t.params,delete Et.keydownHandler,delete Et.keydownTarget,delete Et.currentInstance},ni=t=>{t.isAwaitingPromise()?(ii(Kt,t),Kt.awaitingPromise.set(t,!0)):(ii(yn,t),ii(Kt,t))},ii=(t,e)=>{for(const n in t)t[n].delete(e)};var si=Object.freeze({hideLoading:pn,disableLoading:pn,getInput:gn,close:Pn,isAwaitingPromise:Rn,rejectPromise:Fn,handleAwaitingPromise:Bn,closePopup:Pn,closeModal:Pn,closeToast:Pn,enableButtons:zn,disableButtons:Kn,enableInput:Wn,disableInput:Gn,showValidationMessage:Yn,resetValidationMessage:Qn,getProgressSteps:Xn,update:Jn,_destroy:ti});const ri=t=>{const e=Kt.innerParams.get(t);t.disableButtons(),e.input?ci(t,"confirm"):fi(t,!0)},oi=t=>{const e=Kt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?ci(t,"deny"):ui(t,!1)},ai=(t,e)=>{t.disableButtons(),e(Ee.cancel)},ci=(t,e)=>{const i=Kt.innerParams.get(t);if(!i.input)return r('The "input" parameter is needed to be set when using returnInputValueOn'.concat(n(e)));const s=rn(t,i);i.inputValidator?li(t,s,e):t.getInput().checkValidity()?"deny"===e?ui(t,s):fi(t,s):(t.enableButtons(),t.showValidationMessage(i.validationMessage))},li=(t,e,n)=>{const i=Kt.innerParams.get(t);t.disableInput();const s=Promise.resolve().then((()=>h(i.inputValidator(e,i.validationMessage))));s.then((i=>{t.enableButtons(),t.enableInput(),i?t.showValidationMessage(i):"deny"===n?ui(t,e):fi(t,e)}))},ui=(t,e)=>{const n=Kt.innerParams.get(t||void 0);if(n.showLoaderOnDeny&&en(V()),n.preDeny){Kt.awaitingPromise.set(t||void 0,!0);const i=Promise.resolve().then((()=>h(n.preDeny(e,n.validationMessage))));i.then((n=>{!1===n?(t.hideLoading(),Bn(t)):t.closePopup({isDenied:!0,value:"undefined"===typeof n?e:n})})).catch((e=>di(t||void 0,e)))}else t.closePopup({isDenied:!0,value:e})},hi=(t,e)=>{t.closePopup({isConfirmed:!0,value:e})},di=(t,e)=>{t.rejectPromise(e)},fi=(t,e)=>{const n=Kt.innerParams.get(t||void 0);if(n.showLoaderOnConfirm&&en(),n.preConfirm){t.resetValidationMessage(),Kt.awaitingPromise.set(t||void 0,!0);const i=Promise.resolve().then((()=>h(n.preConfirm(e,n.validationMessage))));i.then((n=>{pt(F())||!1===n?(t.hideLoading(),Bn(t)):hi(t,"undefined"===typeof n?e:n)})).catch((e=>di(t||void 0,e)))}else hi(t,e)},pi=(t,e,n)=>{const i=Kt.innerParams.get(t);i.toast?mi(t,e,n):(wi(e),vi(e),bi(t,e,n))},mi=(t,e,n)=>{e.popup.onclick=()=>{const e=Kt.innerParams.get(t);e&&(gi(e)||e.timer||e.input)||n(Ee.close)}},gi=t=>t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton;let yi=!1;const wi=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&(yi=!0)}}},vi=t=>{t.container.onmousedown=()=>{t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,(e.target===t.popup||t.popup.contains(e.target))&&(yi=!0)}}},bi=(t,e,n)=>{e.container.onclick=i=>{const s=Kt.innerParams.get(t);yi?yi=!1:i.target===e.container&&l(s.allowOutsideClick)&&n(Ee.backdrop)}},_i=t=>"object"===typeof t&&t.jquery,Ei=t=>t instanceof Element||_i(t),Ti=t=>{const e={};return"object"!==typeof t[0]||Ei(t[0])?["title","html","icon"].forEach(((n,i)=>{const s=t[i];"string"===typeof s||Ei(s)?e[n]=s:void 0!==s&&r("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof s))})):Object.assign(e,t[0]),e};function Ii(){const t=this;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return new t(...n)}function Ai(t){class e extends(this){_main(e,n){return super._main(e,Object.assign({},t,n))}}return e}const Si=()=>Et.timeout&&Et.timeout.getTimerLeft(),xi=()=>{if(Et.timeout)return vt(),Et.timeout.stop()},Ci=()=>{if(Et.timeout){const t=Et.timeout.start();return wt(t),t}},ki=()=>{const t=Et.timeout;return t&&(t.running?xi():Ci())},Di=t=>{if(Et.timeout){const e=Et.timeout.increase(t);return wt(e,!0),e}},Ni=()=>Et.timeout&&Et.timeout.isRunning();let Oi=!1;const Li={};function Pi(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template";Li[t]=this,Oi||(document.body.addEventListener("click",Ri),Oi=!0)}const Ri=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const t in Li){const n=e.getAttribute(t);if(n)return void Li[t].fire({template:n})}};var Mi=Object.freeze({isValidParameter:y,isUpdatableParameter:w,isDeprecatedParameter:v,argsToParams:Ti,isVisible:wn,clickConfirm:vn,clickDeny:bn,clickCancel:_n,getContainer:C,getPopup:N,getTitle:L,getHtmlContainer:P,getImage:R,getIcon:O,getInputLabel:j,getCloseButton:K,getActions:q,getConfirmButton:B,getDenyButton:V,getCancelButton:U,getLoader:$,getFooter:H,getTimerProgressBar:z,getFocusableElements:G,getValidationMessage:F,isLoading:X,fire:Ii,mixin:Ai,showLoading:en,enableLoading:en,getTimerLeft:Si,stopTimer:xi,resumeTimer:Ci,toggleTimer:ki,increaseTimer:Di,isTimerRunning:Ni,bindClickHandler:Pi});let Fi;class Bi{constructor(){if("undefined"===typeof window)return;Fi=this;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const i=Object.freeze(this.constructor.argsToParams(e));Object.defineProperties(this,{params:{value:i,writable:!1,enumerable:!0,configurable:!0}});const s=this._main(this.params);Kt.promise.set(this,s)}_main(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};T(Object.assign({},e,t)),Et.currentInstance&&(Et.currentInstance._destroy(),Y()&&Ie()),Et.currentInstance=this;const n=ji(t,e);Be(n),Object.freeze(n),Et.timeout&&(Et.timeout.stop(),delete Et.timeout),clearTimeout(Et.restoreFocusTimeout);const i=$i(this);return _e(this,n),Kt.innerParams.set(this,n),Vi(this,i,n)}then(t){const e=Kt.promise.get(this);return e.then(t)}finally(t){const e=Kt.promise.get(this);return e.finally(t)}}const Vi=(t,e,n)=>new Promise(((i,s)=>{const r=e=>{t.closePopup({isDismissed:!0,dismiss:e})};yn.swalPromiseResolve.set(t,i),yn.swalPromiseReject.set(t,s),e.confirmButton.onclick=()=>ri(t),e.denyButton.onclick=()=>oi(t),e.cancelButton.onclick=()=>ai(t,r),e.closeButton.onclick=()=>r(Ee.close),pi(t,e,r),Tn(t,Et,n,r),sn(t,n),Qe(n),Ui(Et,n,r),qi(e,n),setTimeout((()=>{e.container.scrollTop=0}))})),ji=(t,e)=>{const n=Se(t),i=Object.assign({},f,e,n,t);return i.showClass=Object.assign({},f.showClass,i.showClass),i.hideClass=Object.assign({},f.hideClass,i.hideClass),i},$i=t=>{const e={popup:N(),container:C(),actions:q(),confirmButton:B(),denyButton:V(),cancelButton:U(),loader:$(),closeButton:K(),validationMessage:F(),progressSteps:M()};return Kt.domCache.set(t,e),e},Ui=(t,e,n)=>{const i=z();ht(i),e.timer&&(t.timeout=new Ve((()=>{n("timer"),delete t.timeout}),e.timer),e.timerProgressBar&&(ut(i),nt(i,e,"timerProgressBar"),setTimeout((()=>{t.timeout&&t.timeout.running&&wt(e.timer)}))))},qi=(t,e)=>{if(!e.toast)return l(e.allowEnterKey)?void(Hi(t,e)||In(e,-1,1)):zi()},Hi=(t,e)=>e.focusDeny&&pt(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&pt(t.cancelButton)?(t.cancelButton.focus(),!0):!(!e.focusConfirm||!pt(t.confirmButton))&&(t.confirmButton.focus(),!0),zi=()=>{document.activeElement instanceof HTMLElement&&"function"===typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(Bi.prototype,si),Object.assign(Bi,Mi),Object.keys(si).forEach((t=>{Bi[t]=function(){if(Fi)return Fi[t](...arguments)}})),Bi.DismissReason=Ee,Bi.version="11.4.8";const Ki=Bi;return Ki.default=Ki,Ki})),"undefined"!==typeof this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},89:function(t,e){"use strict";e.Z=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n}},2661:function(t,e,n){"use strict";n.d(e,{Z:function(){return y}});var i=n(223),s=n(7142),r=n(9684),o=n(5168);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class a{constructor(t,e){this._delegate=t,this.firebase=e,(0,r._addComponent)(t,new s.wA("app-compat",(()=>this),"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((t=>{this._delegate.checkDestroyed(),t()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),(0,r.deleteApp)(this._delegate))))}_getService(t,e=r._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(t);return i.isInitialized()||"EXPLICIT"!==(null===(n=i.getComponent())||void 0===n?void 0:n.instantiationMode)||i.initialize(),i.getImmediate({identifier:e})}_removeServiceInstance(t,e=r._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(t).clearInstance(e)}_addComponent(t){(0,r._addComponent)(this._delegate,t)}_addOrOverwriteComponent(t){(0,r._addOrOverwriteComponent)(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},l=new i.LL("app-compat","Firebase",c);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function u(t){const e={},n={__esModule:!0,initializeApp:a,app:o,registerVersion:r.registerVersion,setLogLevel:r.setLogLevel,onLog:r.onLog,apps:null,SDK_VERSION:r.SDK_VERSION,INTERNAL:{registerComponent:u,removeApp:s,useAsService:h,modularAPIs:r}};function s(t){delete e[t]}function o(t){if(t=t||r._DEFAULT_ENTRY_NAME,!(0,i.r3)(e,t))throw l.create("no-app",{appName:t});return e[t]}function a(s,o={}){const a=r.initializeApp(s,o);if((0,i.r3)(e,a.name))return e[a.name];const c=new t(a,n);return e[a.name]=c,c}function c(){return Object.keys(e).map((t=>e[t]))}function u(e){const s=e.name,a=s.replace("-compat","");if(r._registerComponent(e)&&"PUBLIC"===e.type){const r=(t=o())=>{if("function"!==typeof t[a])throw l.create("invalid-app-argument",{appName:s});return t[a]()};void 0!==e.serviceProps&&(0,i.ZB)(r,e.serviceProps),n[a]=r,t.prototype[a]=function(...t){const n=this._getService.bind(this,s);return n.apply(this,e.multipleInstances?t:[])}}return"PUBLIC"===e.type?n[a]:null}function h(t,e){if("serverAuth"===e)return null;const n=e;return n}return n["default"]=n,Object.defineProperty(n,"apps",{get:c}),o["App"]=t,n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h(){const t=u(a);function e(e){(0,i.ZB)(t,e)}return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:h,extendNamespace:e,createSubscribe:i.ne,ErrorFactory:i.LL,deepExtend:i.ZB}),t}const d=h(),f=new o.Yd("@firebase/app-compat"),p="@firebase/app-compat",m="0.1.21";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function g(t){(0,r.registerVersion)(p,m,t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if((0,i.jU)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const y=d;g()},9684:function(t,e,n){"use strict";n.r(e),n.d(e,{FirebaseError:function(){return r.ZR},SDK_VERSION:function(){return Y},_DEFAULT_ENTRY_NAME:function(){return M},_addComponent:function(){return j},_addOrOverwriteComponent:function(){return $},_apps:function(){return B},_clearComponents:function(){return z},_components:function(){return V},_getProvider:function(){return q},_registerComponent:function(){return U},_removeServiceInstance:function(){return H},deleteApp:function(){return Z},getApp:function(){return X},getApps:function(){return J},initializeApp:function(){return Q},onLog:function(){return et},registerVersion:function(){return tt},setLogLevel:function(){return nt}});var i=n(7142),s=n(5168),r=n(223);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class o{constructor(t){this.container=t}getPlatformInfoString(){const t=this.container.getProviders();return t.map((t=>{if(a(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}function a(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}const c="@firebase/app",l="0.7.20",u=new s.Yd("@firebase/app"),h="@firebase/app-compat",d="@firebase/analytics-compat",f="@firebase/analytics",p="@firebase/app-check-compat",m="@firebase/app-check",g="@firebase/auth",y="@firebase/auth-compat",w="@firebase/database",v="@firebase/database-compat",b="@firebase/functions",_="@firebase/functions-compat",E="@firebase/installations",T="@firebase/installations-compat",I="@firebase/messaging",A="@firebase/messaging-compat",S="@firebase/performance",x="@firebase/performance-compat",C="@firebase/remote-config",k="@firebase/remote-config-compat",D="@firebase/storage",N="@firebase/storage-compat",O="@firebase/firestore",L="@firebase/firestore-compat",P="firebase",R="9.6.10",M="[DEFAULT]",F={[c]:"fire-core",[h]:"fire-core-compat",[f]:"fire-analytics",[d]:"fire-analytics-compat",[m]:"fire-app-check",[p]:"fire-app-check-compat",[g]:"fire-auth",[y]:"fire-auth-compat",[w]:"fire-rtdb",[v]:"fire-rtdb-compat",[b]:"fire-fn",[_]:"fire-fn-compat",[E]:"fire-iid",[T]:"fire-iid-compat",[I]:"fire-fcm",[A]:"fire-fcm-compat",[S]:"fire-perf",[x]:"fire-perf-compat",[C]:"fire-rc",[k]:"fire-rc-compat",[D]:"fire-gcs",[N]:"fire-gcs-compat",[O]:"fire-fst",[L]:"fire-fst-compat","fire-js":"fire-js",[P]:"fire-js-all"},B=new Map,V=new Map;function j(t,e){try{t.container.addComponent(e)}catch(n){u.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $(t,e){t.container.addOrOverwriteComponent(e)}function U(t){const e=t.name;if(V.has(e))return u.debug(`There were multiple attempts to register component ${e}.`),!1;V.set(e,t);for(const n of B.values())j(n,t);return!0}function q(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function H(t,e,n=M){q(t,e).clearInstance(n)}function z(){V.clear()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},W=new r.LL("app","Firebase",K);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class G{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw W.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y=R;function Q(t,e={}){if("object"!==typeof e){const t=e;e={name:t}}const n=Object.assign({name:M,automaticDataCollectionEnabled:!1},e),s=n.name;if("string"!==typeof s||!s)throw W.create("bad-app-name",{appName:String(s)});const o=B.get(s);if(o){if((0,r.vZ)(t,o.options)&&(0,r.vZ)(n,o.config))return o;throw W.create("duplicate-app",{appName:s})}const a=new i.H0(s);for(const i of V.values())a.addComponent(i);const c=new G(t,n,a);return B.set(s,c),c}function X(t=M){const e=B.get(t);if(!e)throw W.create("no-app",{appName:t});return e}function J(){return Array.from(B.values())}async function Z(t){const e=t.name;B.has(e)&&(B.delete(e),await Promise.all(t.container.getProviders().map((t=>t.delete()))),t.isDeleted=!0)}function tt(t,e,n){var s;let r=null!==(s=F[t])&&void 0!==s?s:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const t=[`Unable to register library "${r}" with version "${e}":`];return o&&t.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void u.warn(t.join(" "))}U(new i.wA(`${r}-version`,(()=>({library:r,version:e})),"VERSION"))}function et(t,e){if(null!==t&&"function"!==typeof t)throw W.create("invalid-log-argument");(0,s.Am)(t,e)}function nt(t){(0,s.Ub)(t)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it="firebase-heartbeat-database",st=1,rt="firebase-heartbeat-store";let ot=null;function at(){return ot||(ot=(0,r.X3)(it,st,((t,e)=>{switch(e){case 0:t.createObjectStore(rt)}})).catch((t=>{throw W.create("storage-open",{originalErrorMessage:t.message})}))),ot}async function ct(t){try{const e=await at();return e.transaction(rt).objectStore(rt).get(ut(t))}catch(e){throw W.create("storage-get",{originalErrorMessage:e.message})}}async function lt(t,e){try{const n=await at(),i=n.transaction(rt,"readwrite"),s=i.objectStore(rt);return await s.put(e,ut(t)),i.complete}catch(n){throw W.create("storage-set",{originalErrorMessage:n.message})}}function ut(t){return`${t.name}!${t.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht=1024,dt=2592e6;class ft{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new gt(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate(),e=t.getPlatformInfoString(),n=pt();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==n&&!this._heartbeatsCache.heartbeats.some((t=>t.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf(),n=Date.now();return n-e<=dt})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=pt(),{heartbeatsToSend:e,unsentEntries:n}=mt(this._heartbeatsCache.heartbeats),i=(0,r.L)(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function pt(){const t=new Date;return t.toISOString().substring(0,10)}function mt(t,e=ht){const n=[];let i=t.slice();for(const s of t){const t=n.find((t=>t.agent===s.agent));if(t){if(t.dates.push(s.date),yt(n)>e){t.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),yt(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class gt{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,r.hl)()&&(0,r.eu)().then((()=>!0)).catch((()=>!1))}async read(){const t=await this._canUseIndexedDBPromise;if(t){const t=await ct(this.app);return t||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return lt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return lt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function yt(t){return(0,r.L)(JSON.stringify({version:2,heartbeats:t})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t){U(new i.wA("platform-logger",(t=>new o(t)),"PRIVATE")),U(new i.wA("heartbeat",(t=>new ft(t)),"PRIVATE")),tt(c,l,t),tt(c,l,"esm2017"),tt("fire-js","")}wt("")},7142:function(t,e,n){"use strict";n.d(e,{H0:function(){return l},wA:function(){return s}});n(1703);var i=n(223);class s{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new i.BH;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(n){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),i=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(c(t))try{this.getOrInitializeService({instanceIdentifier:r})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:i});n.resolve(t)}catch(e){}}}}clearInstance(t=r){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=r){return this.instances.has(t)}getOptions(t=r){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[s,r]of this.instancesDeferred.entries()){const t=this.normalizeInstanceIdentifier(s);n===t&&r.resolve(i)}return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),s=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;s.add(t),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&t(r,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const s of n)try{s(t,e)}catch(i){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:a(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(i){}return n||null}normalizeInstanceIdentifier(t=r){return this.component?this.component.multipleInstances?t:r:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function a(t){return t===r?void 0:t}function c(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){const e=this.getProvider(t.name);e.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new o(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}},5168:function(t,e,n){"use strict";n.d(e,{Am:function(){return h},Ub:function(){return u},Yd:function(){return l},in:function(){return s}});n(1703);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i=[];var s;(function(t){t[t["DEBUG"]=0]="DEBUG",t[t["VERBOSE"]=1]="VERBOSE",t[t["INFO"]=2]="INFO",t[t["WARN"]=3]="WARN",t[t["ERROR"]=4]="ERROR",t[t["SILENT"]=5]="SILENT"})(s||(s={}));const r={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},o=s.INFO,a={[s.DEBUG]:"log",[s.VERBOSE]:"log",[s.INFO]:"info",[s.WARN]:"warn",[s.ERROR]:"error"},c=(t,e,...n)=>{if(e<t.logLevel)return;const i=(new Date).toISOString(),s=a[e];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[s](`[${i}]  ${t.name}:`,...n)};class l{constructor(t){this.name=t,this._logLevel=o,this._logHandler=c,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in s))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?r[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,s.DEBUG,...t),this._logHandler(this,s.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,s.VERBOSE,...t),this._logHandler(this,s.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,s.INFO,...t),this._logHandler(this,s.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,s.WARN,...t),this._logHandler(this,s.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,s.ERROR,...t),this._logHandler(this,s.ERROR,...t)}}function u(t){i.forEach((e=>{e.setLogLevel(t)}))}function h(t,e){for(const n of i){let i=null;e&&e.level&&(i=r[e.level]),n.userLogHandler=null===t?null:(e,n,...r)=>{const o=r.map((t=>{if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((t=>t)).join(" ");n>=(null!==i&&void 0!==i?i:e.logLevel)&&t({level:s[n].toLowerCase(),message:o,args:r,type:e.name})}}}}}]);
//# sourceMappingURL=chunk-vendors.e6cf8e9e.js.map